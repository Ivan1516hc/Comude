"use strict";(self.webpackChunkTramites=self.webpackChunkTramites||[]).push([[223],{7224:(q,F,c)=>{c.d(F,{S:()=>t});var o=c(9862),C=c(6306),l=c(553),P=c(4946);let t=(()=>{var e;class U{constructor(a){this.http=a,this.baseUrlAplicant=l.N.baseUrl+"/aplicant"}storeDocument(a){const u=new o.WM({"Content-Type":"multipart/form-data"});return this.http.post(`${this.baseUrlAplicant}/request/documents/store`,a,{headers:u}).pipe((0,C.K)(f=>{throw console.error("Error en la solicitud:",f),f}))}changeDocument(a,u){const f=new o.WM({"Content-Type":"multipart/form-data"});return this.http.post(`${this.baseUrlAplicant}/request/documents/change/${u}`,a,{headers:f}).pipe((0,C.K)(h=>{throw console.error("Error en la solicitud:",h),h}))}storeImportantArchivement(a){const u=new o.WM({"Content-Type":"multipart/form-data"});return this.http.post(`${this.baseUrlAplicant}/important-archivement/store`,a,{headers:u}).pipe((0,C.K)(f=>{throw console.error("Error en la solicitud:",f),f}))}storeJustification(a){const u=new o.WM({"Content-Type":"multipart/form-data"});return this.http.post(`${this.baseUrlAplicant}/request/justification/store`,a,{headers:u}).pipe((0,C.K)(f=>{throw console.error("Error en la solicitud:",f),f}))}showJustificationType(){return this.http.get(`${this.baseUrlAplicant}/important-archivement/show`)}getDocuments(a){return this.http.get(`${this.baseUrlAplicant}/request/documents/show/${a}`)}getImportantArchivement(){return this.http.get(`${this.baseUrlAplicant}/important-archivement/show`)}getJustification(a){return this.http.get(`${this.baseUrlAplicant}/request/justification/show/${a}`)}deleteImportantArchivement(a){return this.http.delete(`${this.baseUrlAplicant}/important-archivement/delete/${a}`)}deleteJustification(a){return this.http.delete(`${this.baseUrlAplicant}/request/justification/delete/${a}`)}finishJustification(a){return this.http.get(`${this.baseUrlAplicant}/request/justification/finish/${a}`)}}return(e=U).\u0275fac=function(a){return new(a||e)(P.LFG(o.eN))},e.\u0275prov=P.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),U})()},7868:(q,F,c)=>{c.d(F,{b:()=>E});var o=c(95),C=c(3519),l=c.n(C),P=c(553),t=c(4946),e=c(5815),U=c(7224),w=c(6814);const a=["fileInput"],u=["myModalButton"];function f(p,A){if(1&p&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&p){const _=t.oxw().$implicit;t.xp6(1),t.Oqu(_.description)}}function h(p,A){if(1&p&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&p){const _=t.oxw().$implicit;t.xp6(1),t.Oqu(t.Dn7(2,1,_.description,0,50))}}function b(p,A){if(1&p){const _=t.EpF();t.TgZ(0,"a",39),t.NdJ("click",function(){t.CHM(_);const m=t.oxw().$implicit,d=t.oxw();return t.KtG(d.toggleText(m))}),t._uU(1),t.qZA()}if(2&p){const _=t.oxw().$implicit;t.xp6(1),t.hij(" ",_.mostrarTextoCompleto?"Ver menos":"Leer m\xe1s"," ")}}function M(p,A){if(1&p){const _=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(_);const m=t.oxw().$implicit,d=t.oxw();return t.KtG(d.delete(null==m?null:m.id))}),t._uU(1,"Eliminar"),t.qZA()}}function O(p,A){if(1&p&&(t.TgZ(0,"div",31)(1,"article",32),t._UZ(2,"img",33),t.TgZ(3,"div",34)(4,"p")(5,"strong"),t._uU(6,"Descripci\xf3n:"),t.qZA()(),t.YNc(7,f,2,1,"p",35),t.YNc(8,h,3,5,"p",35),t.TgZ(9,"div",36),t.YNc(10,b,2,1,"a",37),t.YNc(11,M,2,0,"button",38),t.qZA()()()()),2&p){const _=A.$implicit,s=t.oxw();t.xp6(2),t.Q6J("src",s.baseUrl+"sports/"+_.file_name,t.LSH),t.xp6(5),t.Q6J("ngIf",_.mostrarTextoCompleto),t.xp6(1),t.Q6J("ngIf",!_.mostrarTextoCompleto),t.xp6(2),t.Q6J("ngIf",s.isLongText(_.description)),t.xp6(1),t.Q6J("ngIf",s.documents.length>1)}}function I(p,A){if(1&p&&(t.TgZ(0,"div",41),t._UZ(1,"img",42),t.TgZ(2,"p")(3,"span"),t._uU(4),t.qZA()()()),2&p){const _=t.oxw();t.xp6(1),t.Q6J("src",_.selectedFilePreview,t.LSH),t.xp6(3),t.Oqu(_.selectedFileName)}}function y(p,A){1&p&&(t.TgZ(0,"div",43)(1,"span"),t._uU(2,"Arrastra o selecciona un archivo"),t.qZA()())}let E=(()=>{var p;class A{constructor(s,m,d,T,Z){this.route=s,this.router=m,this.fb=d,this.documentService=T,this.elementRef=Z,this.selectedFileName=null,this.selectedFilePreview=null,this.baseUrl=P.N.dowload,this.documents=[],this.expandedItemIndex=null,this.miFormulario=this.fb.group({file:["",[o.kI.required]],description:["",[o.kI.required,o.kI.maxLength(150)]]}),this.limiteCaracteres=50}ngOnInit(){this.obtenerURLPrincipal(),this.route.params.subscribe(s=>{this.request_id=s.id}),this.showImportantArchivements()}showImportantArchivements(){this.documentService.getImportantArchivement().subscribe({next:s=>{s.length>0?this.documents=s:(this.documents=[],this.myModalButton.nativeElement.click())}})}obtenerURLPrincipal(){const m=this.router.url.split("/");this.urlPrincipal="/"+m[1]}onDragOver(s){s.preventDefault()}onDrop(s){s.preventDefault(),this.onFileSelected({target:{files:s.dataTransfer?.files||[]}})}onFileSelected(s){const m=s.target.files||s.dataTransfer.files;if(m.length>0){const d=m[0];if(this.miFormulario.patchValue({file:d}),this.selectedFileName=d.name,d.type.startsWith("image/")){const T=new FileReader;T.onload=Z=>{this.selectedFilePreview=Z.target.result},T.readAsDataURL(d)}else this.selectedFilePreview=null}}onSubmit(){if(this.miFormulario.invalid)return this.miFormulario.markAllAsTouched();const s=new FormData;s.append("file",this.miFormulario.get("file").value),s.append("description",this.miFormulario.get("description").value),this.documentService.storeImportantArchivement(s).subscribe({next:m=>{200==m.code?this.documents.length>0?(l().fire({position:"center",icon:"success",title:m.message,showConfirmButton:!1,timer:2e3}),this.miFormulario.patchValue({file:null,description:""}),this.clearFileInput(),this.showImportantArchivements()):l().fire({position:"center",icon:"question",title:"Se ha actualizado tu perfil, para continuar con tu solicitud, dar clic de nuevo en el bot\xf3n Iniciar Solicitud.",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Continuar",cancelButtonText:"No"}).then(d=>{if(d.isConfirmed)this.router.navigateByUrl(this.urlPrincipal+"/dashboard");else if(d.isDenied)return this.miFormulario.patchValue({file:null,description:""}),this.clearFileInput(),void this.ngOnInit()}):this.handleErrorResponse(m)},error:m=>{l().fire("Error","error")}})}handleErrorResponse(s){l().fire({position:"center",icon:"error",title:s.message,showConfirmButton:!0}),this.myModalButton.nativeElement.click()}delete(s){l().fire({position:"center",icon:"question",title:"\xbfEst\xe1 seguro de que desea eliminar la informaci\xf3n de este logro?",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(m=>{m.isConfirmed&&this.documentService.deleteImportantArchivement(s).subscribe({next:d=>{200==d.code?(this.cerrarModal(),l().fire({position:"center",icon:"success",title:d.message,showConfirmButton:!1,timer:2e3}),this.showImportantArchivements()):l().fire({position:"center",icon:"error",title:d.message,showConfirmButton:!1,timer:2e3})}})})}isLongText(s){return s.length>this.limiteCaracteres}toggleText(s){s.mostrarTextoCompleto=!s.mostrarTextoCompleto}clearFileInput(){this.fileInput.nativeElement.value=null,this.selectedFileName=null,this.selectedFilePreview=null}cerrarModal(){this.elementRef.nativeElement.querySelector("#cancel").click()}}return(p=A).\u0275fac=function(s){return new(s||p)(t.Y36(e.gz),t.Y36(e.F0),t.Y36(o.qu),t.Y36(U.S),t.Y36(t.SBq))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-important-archievement"]],viewQuery:function(s,m){if(1&s&&(t.Gf(a,5),t.Gf(u,5)),2&s){let d;t.iGM(d=t.CRH())&&(m.fileInput=d.first),t.iGM(d=t.CRH())&&(m.myModalButton=d.first)}},decls:47,vars:4,consts:[[1,"card-body"],[1,"d-sm-flex","justify-content-between","align-items-center"],[1,"card-title","mb-2","mb-sm-0"],[1,"row"],[1,"col-12","col-md-6","col-lg-4","mt-2"],[1,"card","card-start"],["data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",1,"drop-zone"],["myModalButton",""],["class","col-12 col-md-6 col-lg-4 ",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","py-0","text-justify-custom"],[1,"row","g-3","mt-2",3,"formGroup","ngSubmit"],["for","fileInput",1,"form-label"],[1,"drop-zone-new",3,"dragover","drop","click"],["type","file","accept",".jpg, .jpeg, .png",1,"visually-hidden",3,"change","drop"],["fileInput",""],["class","preview-container",4,"ngIf"],["class","file-input-placeholder",4,"ngIf"],[1,"form-text","text-muted"],[1,"form-text","text-center"],["href","https://www.iloveimg.com/es/comprimir-imagen","target","_blank"],["for","description",1,"col-form-label"],["name","description","type","text","id","description","formControlName","description","maxlength","150",1,"form-control"],[1,"modal-footer","flex-column","border-top-0"],["type","submit",1,"btn","btn-lg","btn-primary","w-100","mx-0","mb-2"],["type","button","data-bs-dismiss","modal",1,"btn","btn-lg","btn-light","w-100","mx-0"],[1,"col-12","col-md-6","col-lg-4"],[1,"card"],["alt","Imagen",1,"card-img-top","m-1",2,"align-self","center",3,"src"],[1,"container"],[4,"ngIf"],[1,"d-grid","gap-1"],["href","javascript:void(0);",3,"click",4,"ngIf"],["type","button","class","btn-lg btn btn-warning mt-2",3,"click",4,"ngIf"],["href","javascript:void(0);",3,"click"],["type","button",1,"btn-lg","btn","btn-warning","mt-2",3,"click"],[1,"preview-container"],["alt","Archivo seleccionado",1,"preview-image",3,"src"],[1,"file-input-placeholder"]],template:function(s,m){if(1&s){const d=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3,"Logros deportivos importantes"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"article",6,7)(9,"span"),t._uU(10,"Registrar logro"),t.qZA()()()(),t.YNc(11,O,12,5,"div",8),t.qZA(),t.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h5",13),t._uU(17,"Registrar logro deportivo"),t.qZA(),t._UZ(18,"button",14),t.qZA(),t.TgZ(19,"div",15)(20,"form",16),t.NdJ("ngSubmit",function(){return m.onSubmit()}),t.TgZ(21,"div")(22,"label",17),t._uU(23,"Subir evidencia del logro:"),t.qZA(),t.TgZ(24,"div",18),t.NdJ("dragover",function(Z){return m.onDragOver(Z)})("drop",function(Z){return m.onDrop(Z)})("click",function(){t.CHM(d);const Z=t.MAs(26);return t.KtG(Z.click())}),t.TgZ(25,"input",19,20),t.NdJ("change",function(Z){return m.onFileSelected(Z)})("drop",function(Z){return m.onFileSelected(Z)}),t.qZA(),t.YNc(27,I,5,2,"div",21),t.YNc(28,y,3,0,"div",22),t.qZA(),t.TgZ(29,"small",23),t._uU(30,"Formatos permitidos: jpg, jpeg, png."),t.qZA(),t._UZ(31,"br"),t.TgZ(32,"small",23),t._uU(33,"Tama\xf1o m\xe1ximo aceptado: 1 MB o 1024 KB. "),t.qZA(),t.TgZ(34,"small",24)(35,"a",25),t._uU(36,"\xbfD\xf3nde reducir el tama\xf1o de una imagen?"),t.qZA()()(),t.TgZ(37,"div")(38,"label",26),t._uU(39,"Descripci\xf3n breve:"),t.qZA(),t.TgZ(40,"textarea",27),t._uU(41," "),t.qZA()(),t.TgZ(42,"div",28)(43,"button",29),t._uU(44,"Guardar logro"),t.qZA(),t.TgZ(45,"button",30),t._uU(46,"Cerrar"),t.qZA()()()()()()()()}2&s&&(t.xp6(11),t.Q6J("ngForOf",m.documents),t.xp6(9),t.Q6J("formGroup",m.miFormulario),t.xp6(7),t.Q6J("ngIf",m.selectedFileName),t.xp6(1),t.Q6J("ngIf",!m.selectedFileName))},dependencies:[w.sg,w.O5,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.sg,o.u,w.OU],styles:['.card-img-top[_ngcontent-%COMP%]{object-fit:contain;width:100%;height:220px}.card[_ngcontent-%COMP%]{max-width:100%;height:100%}.card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;margin-bottom:.05em}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;color:#545454}.text-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.1em}.drop-zone[_ngcontent-%COMP%]{border:3px dashed #00b4e5;width:100%;height:100%;text-align:center;cursor:pointer;position:relative;overflow:hidden;background:url(sports.abd5fb01768f77df.jpg) center/cover;transition:transform .5s ease;display:flex;justify-content:center;align-items:center}.drop-zone[_ngcontent-%COMP%]:after{content:"";background:linear-gradient(rgba(255,255,255,.8),rgba(255,255,255,.8));position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.drop-zone[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:2;color:#00b4e5;font-size:28px;font-weight:700}.drop-zone[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.drop-zone[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 767px){.card-start[_ngcontent-%COMP%]{max-width:100%;height:150px!important;margin-bottom:5px!important}.drop-zone[_ngcontent-%COMP%]{height:150px!important}}.preview-container[_ngcontent-%COMP%]{margin-top:10px}.preview-image[_ngcontent-%COMP%]{max-width:100%;max-height:200px;margin-bottom:5px}.file-input-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .file-input-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.file-input-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80px;margin-bottom:10px}.nav-link.btn[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.division-line[_ngcontent-%COMP%]{border-right:1px solid #ccc;height:100%;margin-top:auto;margin-bottom:auto}.required[_ngcontent-%COMP%]:after{content:"*";color:red}.drop-zone-new[_ngcontent-%COMP%]{border:2px dashed #4154f1;padding:20px;text-align:center;cursor:pointer;position:relative}.text-card[_ngcontent-%COMP%]{overflow:hidden;white-space:pre-line;text-overflow:ellipsis}.text-card.expand[_ngcontent-%COMP%]{white-space:normal;overflow:visible;text-overflow:unset}']}),A})()},2050:(q,F,c)=>{c.d(F,{C:()=>w});var o=c(4946),C=c(6814),l=c(5815),P=c(4567);let t=(()=>{var a;class u{constructor(h,b,M){this.router=h,this.document=b,this.authService=M}ngOnInit(){}sidebarToggle(){this.document.body.classList.toggle("toggle-sidebar")}logOut(){const h=localStorage.getItem("token");this.authService.logOut(h).subscribe({next:b=>{b.message&&this.router.navigateByUrl("/")},error:b=>{}})}}return(a=u).\u0275fac=function(h){return new(h||a)(o.Y36(l.F0),o.Y36(C.K0),o.Y36(P.e))},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-header"]],inputs:{urlLogo:"urlLogo"},decls:34,vars:2,consts:[["id","header",1,"header","fixed-top","d-flex","align-items-center"],[1,"logo-container","me-3"],[1,"logo-link",3,"routerLink"],["src","assets/img/logo_comude.png","alt","Logo","width","120px",1,"logo-img"],[1,"flex-grow-1"],[1,"mb-0","d-none","d-md-block"],[1,"text-end","me-5"],["routerLink","/solicitante/dashboard",1,"btn","btn-md","btn-secondary"],[1,"header-nav","ms-auto",2,"margin-left","auto"],[1,"d-flex","align-items-center","mb-0"],[1,"nav-item","dropdown"],["href","#","data-bs-toggle","dropdown",1,"nav-link","nav-profile","d-flex","align-items-center"],["src","assets/img/usuario-icono.jpg","alt","Profile",1,"rounded-circle",2,"width","40px","height","40px","object-fit","cover"],[1,"d-none","d-md-block","dropdown-toggle","ps-2"],[1,"dropdown-menu","dropdown-menu-end","dropdown-menu-arrow","profile"],["routerLink","/solicitante/perfil",1,"dropdown-item","d-flex","align-items-center"],[1,"bi","bi-person"],["routerLink","/auth/login",1,"dropdown-item","d-flex","align-items-center",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"logo-container","me-2","d-none","d-md-block"],["src","assets/img/escudo_casoespecial.png","alt","Logo","width","140px",1,"logo-img"]],template:function(h,b){1&h&&(o.TgZ(0,"header",0)(1,"div",1)(2,"a",2),o._UZ(3,"img",3),o.qZA()(),o.TgZ(4,"div",4)(5,"h3",5),o._uU(6,"Plan de Beca a Deportistas"),o.qZA(),o.TgZ(7,"span",5),o._uU(8,"Alto Rendimiento, M\xe1sters Destacadas y Destacados del "),o._UZ(9,"br"),o._uU(10," Consejo Municipal del Deporte de Zapopan Jalisco"),o.qZA()(),o.TgZ(11,"div",6)(12,"button",7),o._uU(13,"Mis solicitudes"),o.qZA()(),o.TgZ(14,"nav",8)(15,"ul",9)(16,"li",10)(17,"a",11),o._UZ(18,"img",12)(19,"span",13),o.qZA(),o.TgZ(20,"ul",14)(21,"li")(22,"a",15),o._UZ(23,"i",16),o.TgZ(24,"span"),o._uU(25,"Mi perfil"),o.qZA()()(),o.TgZ(26,"li")(27,"a",17),o.NdJ("click",function(){return b.logOut()}),o._UZ(28,"i",18),o.TgZ(29,"span"),o._uU(30,"Salir"),o.qZA()()()()()()(),o.TgZ(31,"div",19)(32,"a",2),o._UZ(33,"img",20),o.qZA()()()),2&h&&(o.xp6(2),o.Q6J("routerLink",b.urlLogo),o.xp6(30),o.Q6J("routerLink",b.urlLogo))},dependencies:[l.rH],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}app-footer[_ngcontent-%COMP%]{margin-top:auto}header[_ngcontent-%COMP%]{height:auto;padding:10px;background-color:#fff}.logo-container[_ngcontent-%COMP%]{margin-right:3rem}.text-end[_ngcontent-%COMP%]{margin-right:5rem}@media (max-width: 767px){.flex-container[_ngcontent-%COMP%]{align-items:center}header[_ngcontent-%COMP%]{text-align:center}.logo-container[_ngcontent-%COMP%], .text-end[_ngcontent-%COMP%]{margin-right:0}.logo-img[_ngcontent-%COMP%]{margin-bottom:1rem}}"]}),u})(),e=(()=>{var a;class u{constructor(){}ngOnInit(){}scrollTop(){window.scroll({top:0,left:0,behavior:"smooth"})}}return(a=u).\u0275fac=function(h){return new(h||a)},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-footer"]],decls:25,vars:0,consts:[["id","footerVisitor",1,"footerVisitor"],[1,"footer-content"],[1,"footer-left"],[1,"footer-logo"],["src","assets/img/logo_comude.png","alt","Logo"],[1,"footer-description"],[1,"footer-right"],[1,"footer-links"],["href","https://www.comudezapopan.gob.mx/transparencia/articulo8/comudezapopan-avisodeprivacidad.pdf"],["href","http://comudezapopan.gob.mx/transparencia/art8/comudezapopan-reglamento-general-becas.pdf"],[1,"back-to-top","d-flex","align-items-center","justify-content-center",3,"click"],[1,"bi","bi-arrow-up-short"]],template:function(h,b){1&h&&(o.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3),o._UZ(4,"img",4),o.qZA(),o.TgZ(5,"div",5)(6,"p"),o._uU(7,"COMUDE Zapopan - Todos los derechos reservados."),o.qZA(),o.TgZ(8,"p")(9,"b"),o._uU(10,"Telefono:"),o.qZA(),o._uU(11," 33 3055 0850 Ext 112 "),o.TgZ(12,"b"),o._uU(13,"Correo:"),o.qZA(),o._uU(14," esteban.valencia@zapopan.gob.mx"),o.qZA()()(),o.TgZ(15,"div",6)(16,"ul",7)(17,"li")(18,"a",8),o._uU(19,"Aviso de privacidad"),o.qZA()(),o.TgZ(20,"li")(21,"a",9),o._uU(22,"Reglamento"),o.qZA()()()()(),o.TgZ(23,"a",10),o.NdJ("click",function(){return b.scrollTop()}),o._UZ(24,"i",11),o.qZA()())},styles:[".footerVisitor[_ngcontent-%COMP%]{background-color:#fdfdfd;padding:20px}.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:-15px}.footer-left[_ngcontent-%COMP%]{display:flex;align-items:center}.footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto}.footer-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.footer-right[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:10px}.footer-right[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-right:0}.back-to-top[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background-color:#333;color:#fff;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;text-decoration:none}.back-to-top[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}@media (max-width: 768px){.footer-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.footer-left[_ngcontent-%COMP%]{margin-bottom:10px}.footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px}.footer-right[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.back-to-top[_ngcontent-%COMP%]{bottom:10px;right:10px;width:30px;height:30px}.back-to-top[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}}"]}),u})();const U=["*"];let w=(()=>{var a;class u{constructor(){this.urlLogo="/dashboard"}}return(a=u).\u0275fac=function(h){return new(h||a)},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-visitor"]],ngContentSelectors:U,decls:4,vars:0,consts:[[1,"flex-container"]],template:function(h,b){1&h&&(o.F$t(),o.TgZ(0,"div",0),o._UZ(1,"app-header"),o.Hsn(2),o._UZ(3,"app-footer"),o.qZA())},dependencies:[t,e],styles:[".flex-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh; \n\n}\n\napp-footer[_ngcontent-%COMP%] {\n  margin-top: auto; \n\n}"]}),u})()},1223:(q,F,c)=>{c.r(F),c.d(F,{VisitorModule:()=>k});var o=c(6814),C=c(5815),l=c(95),P=c(3519),t=c.n(P),e=c(4946),U=c(553),w=c(9862);let a=(()=>{var i;class v{constructor(r){this.http=r,this.baseUrlAplicant=U.N.baseUrl+"/aplicant"}show(){return this.http.get(`${this.baseUrlAplicant}/profile/show`)}update(r){return this.http.put(`${this.baseUrlAplicant}/profile/update`,r)}changePassword(r){return this.http.patch(`${this.baseUrlAplicant}/profile/update/password`,r)}}return(i=v).\u0275fac=function(r){return new(r||i)(e.LFG(w.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),v})();var u=c(2050),f=c(7868);const h=["myButton"];function b(i,v){1&i&&(e.TgZ(0,"span",54),e._uU(1," Nombre requerido. "),e.qZA())}function M(i,v){1&i&&(e.TgZ(0,"span",54),e._uU(1," Apellido paterno requerido. "),e.qZA())}function O(i,v){1&i&&(e.TgZ(0,"span",54),e._uU(1," Apellido materno requerido. "),e.qZA())}function I(i,v){1&i&&(e.TgZ(0,"span",54),e._uU(1," El RFC debe de tener 13 caracteres de longitud. "),e.qZA())}function y(i,v){1&i&&(e.TgZ(0,"span",54),e._uU(1," Fecha de nacimiento requerida. "),e.qZA())}function E(i,v){1&i&&(e.TgZ(0,"span",54),e._uU(1," N\xfamero celular requerido con logitud de 10 n\xfameros. "),e.qZA())}function p(i,v){1&i&&(e.TgZ(0,"span",54),e._uU(1," N\xfamero de telefonico con logitud de 10 n\xfameros. "),e.qZA())}function A(i,v){1&i&&(e.TgZ(0,"span",54),e._uU(1," La contrase\xf1a tiene minimo 6 digitos. "),e.qZA())}function _(i,v){1&i&&(e.TgZ(0,"span",54),e._uU(1," La nueva contrase\xf1a debe de tener minimo 6 digitos. "),e.qZA())}function s(i,v){1&i&&(e.TgZ(0,"span",54),e._uU(1," No coincide con la nueva contrase\xf1a. "),e.qZA())}function m(i,v){1&i&&(e.TgZ(0,"div"),e._UZ(1,"app-important-archievement"),e.qZA())}const d=function(i){return{"red-margin-input":i}},Z=[{path:"beca-deportiva",loadChildren:()=>Promise.all([c.e(592),c.e(998)]).then(c.bind(c,7998)).then(i=>i.SportsModule)},{path:"dashboard",loadChildren:()=>Promise.all([c.e(592),c.e(164)]).then(c.bind(c,164)).then(i=>i.DashboardModule)},{path:"perfil",component:(()=>{var i;class v{constructor(r,n){this.fb=r,this.profileService=n,this.updatedInformation=!1,this.miFormulario=this.fb.group({name:["",[l.kI.required]],last_name:["",[l.kI.required]],mother_last_name:["",[l.kI.required]],email:["",[l.kI.required]],phone_number:["",[l.kI.required,l.kI.pattern("^[0-9]+$"),l.kI.minLength(10),l.kI.maxLength(10)]],second_phone_number:["",[l.kI.pattern("^[0-9]+$"),l.kI.minLength(10),l.kI.maxLength(10)]],curp:[{value:"",disabled:!0},[l.kI.nullValidator]],gender:["",[l.kI.required]],rfc:["",[l.kI.minLength(13),l.kI.maxLength(13)]],birtdate:["",[l.kI.required]]}),this.miFormularioPassword=this.fb.group({password:["",[l.kI.required,l.kI.minLength(6)]],new_password:["",[l.kI.required,l.kI.minLength(6)]],new_password_repeat:["",[l.kI.required]]},{validators:this.passwordsMatchValidator})}passwordsMatchValidator(r){r.get("new_password").value!==r.get("new_password_repeat").value?r.get("new_password_repeat").setErrors({passwordsMismatch:!0}):r.get("new_password_repeat").setErrors(null)}subscribeToNumberFieldChanges(r){this.miFormulario.get(r).valueChanges.subscribe(n=>{if(null===n||!isNaN(parseFloat(n))&&isFinite(n))return;const g=n.replace(/\D/g,"");this.miFormulario.get(r).setValue(g,{emitEvent:!1})})}ngOnInit(){this.getDataUser(),["phone_number","second_phone_number"].forEach(n=>{this.subscribeToNumberFieldChanges(n)}),this.miFormulario.markAllAsTouched()}getDataUser(){this.profileService.show().subscribe({next:r=>{this.populateForm(r)}})}populateForm(r){if(r.name){const n=r.name.split(" "),g=n.pop(),B=n.pop(),D=n.join(" ");this.miFormulario.patchValue({name:D,last_name:B,mother_last_name:g})}this.miFormulario.patchValue({email:r.email,password:r.password,phone_number:r.phone_number,curp:r.curp,gender:r.gender,rfc:r.rfc,birtdate:r.birtdate,second_phone_number:r.second_phone_number}),r.name&&r.phone_number&&r.birtdate?this.updatedInformation=!0:this.myButton.nativeElement.click()}handleForm(r){}onSubmit(){if(this.miFormulario.invalid)return this.miFormulario.markAllAsTouched();this.miFormulario.patchValue({name:this.miFormulario.get("name").value+" "+this.miFormulario.get("last_name").value+" "+this.miFormulario.get("mother_last_name").value});const r=this.miFormulario.getRawValue();t().fire({position:"center",icon:"question",title:"\xbfEst\xe1 seguro de que desea actualizar su informaci\xf3n de perfil?",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(n=>{if(n.isConfirmed)this.profileService.update(r).subscribe(g=>{200==g.code?(t().fire({position:"center",icon:"success",title:g.message,showConfirmButton:!1,timer:2e3}),this.getDataUser()):t().fire("Error","error")});else if(n.isDenied)return})}changePassword(){if(this.miFormularioPassword.invalid)return this.miFormularioPassword.markAllAsTouched();const r=this.miFormularioPassword.getRawValue();t().fire({position:"center",icon:"question",title:"\xbfEst\xe1 seguro de que desea actualizar su contrase\xf1a?",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(n=>{n.isConfirmed&&this.profileService.changePassword(r).subscribe({next:g=>{200==g.code?(t().fire({position:"center",icon:"success",title:g.message,showConfirmButton:!1,timer:2e3}),this.getDataUser(),this.miFormularioPassword.reset()):t().fire({position:"center",icon:"error",title:g.message,showConfirmButton:!1,timer:2e3})},error:g=>{t().fire("Error","error")}})})}handleSuccessResponse(r){this.getDataUser()}handleErrorResponse(r){t().fire({position:"center",icon:"error",title:r.message,showConfirmButton:!1,timer:2e3})}}return(i=v).\u0275fac=function(r){return new(r||i)(e.Y36(l.qu),e.Y36(a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-profile"]],viewQuery:function(r,n){if(1&r&&e.Gf(h,5),2&r){let g;e.iGM(g=e.CRH())&&(n.myButton=g.first)}},decls:145,vars:40,consts:[["id","mainVisitor",1,"main"],[1,"row"],[1,"col-10","offset-1","content-center"],[1,"pagetitle"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/solicitante/dashboard"],[1,"breadcrumb-item","active"],[1,"section","profile"],[1,"col-xl-12"],[1,"card"],[1,"card-body","pt-3"],[1,"nav","nav-tabs","nav-tabs-bordered"],[1,"nav-item"],["data-bs-toggle","tab","data-bs-target","#profile-overview",1,"nav-link","active"],["data-bs-toggle","tab","data-bs-target","#profile-edit",1,"nav-link"],["myButton",""],["data-bs-toggle","tab","data-bs-target","#profile-change-password",1,"nav-link"],[1,"tab-content","pt-2"],["id","profile-overview",1,"tab-pane","fade","show","active","profile-overview"],[1,"card-title"],[1,"col-lg-3","col-md-4","label"],[1,"col-lg-9","col-md-8"],["id","profile-edit",1,"tab-pane","fade","profile-edit","pt-3"],[3,"formGroup","ngSubmit"],[1,"row","mb-3"],["for","name",1,"col-md-4","col-lg-3","col-form-label","required"],[1,"col-md-8","col-lg-9"],["name","name","type","text","formControlName","name","id","name",1,"form-control",3,"ngClass"],["class","form-text text-danger form",4,"ngIf"],["for","last_name",1,"col-md-4","col-lg-3","col-form-label","required"],["name","last_name","type","text","formControlName","last_name","id","last_name",1,"form-control",3,"ngClass"],["for","mother_last_name",1,"col-md-4","col-lg-3","col-form-label","required"],["name","mother_last_name","type","text","formControlName","mother_last_name","id","mother_last_name",1,"form-control",3,"ngClass"],["for","curp",1,"col-md-4","col-lg-3","col-form-label","required"],["name","curp","type","text","id","curp","formControlName","curp",1,"form-control"],["for","rfc",1,"col-md-4","col-lg-3","col-form-label"],["name","rfc","type","text","id","rfc","formControlName","rfc",1,"form-control"],["for","birtdate",1,"col-md-4","col-lg-3","col-form-label","required"],["name","birtdate","type","date","id","birtdate","formControlName","birtdate",1,"form-control",3,"ngClass"],["for","phone_number",1,"col-md-4","col-lg-3","col-form-label","required"],["name","phone_number","type","text","id","phone_number","maxlength","10","minlength","10","formControlName","phone_number",1,"form-control",3,"ngClass"],["for","second_phone_number",1,"col-md-4","col-lg-3","col-form-label"],["name","second_phone_number","type","text","id","second_phone_number","maxlength","10","minlength","10","formControlName","second_phone_number",1,"form-control",3,"ngClass"],[1,"text-center"],["type","submit",1,"btn","btn-primary"],["id","profile-change-password",1,"tab-pane","fade","pt-3"],["for","password",1,"col-md-4","col-lg-3","col-form-label"],["name","password","type","password","id","password","formControlName","password",1,"form-control"],["for","new_password",1,"col-md-4","col-lg-3","col-form-label"],["name","new_password","type","password","id","new_password","formControlName","new_password",1,"form-control"],["for","new_password_repeat",1,"col-md-4","col-lg-3","col-form-label"],["name","new_password_repeat","type","password","id","new_password_repeat","formControlName","new_password_repeat",1,"form-control"],[4,"ngIf"],[1,"form-text","text-danger","form"]],template:function(r,n){1&r&&(e.TgZ(0,"app-visitor")(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e._uU(6,"Mi perfil "),e.qZA(),e.TgZ(7,"nav")(8,"ol",4)(9,"li",5)(10,"a",6),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",7),e._uU(13,"Mi perfil"),e.qZA()()()(),e.TgZ(14,"section",8)(15,"div",1)(16,"div",9)(17,"div",10)(18,"div",11)(19,"ul",12)(20,"li",13)(21,"button",14),e._uU(22,"Descripci\xf3n general"),e.qZA()(),e.TgZ(23,"li",13)(24,"button",15,16),e._uU(26,"Editar perfil"),e.qZA()(),e.TgZ(27,"li",13)(28,"button",17),e._uU(29,"Cambiar contrase\xf1a"),e.qZA()()(),e.TgZ(30,"div",18)(31,"div",19)(32,"h5",20),e._uU(33,"Detalles de perfil"),e.qZA(),e.TgZ(34,"div",1)(35,"div",21),e._uU(36,"Nombre completo"),e.qZA(),e.TgZ(37,"div",22),e._uU(38),e.qZA()(),e.TgZ(39,"div",1)(40,"div",21),e._uU(41,"CURP"),e.qZA(),e.TgZ(42,"div",22),e._uU(43),e.qZA()(),e.TgZ(44,"div",1)(45,"div",21),e._uU(46,"RFC"),e.qZA(),e.TgZ(47,"div",22),e._uU(48),e.qZA()(),e.TgZ(49,"div",1)(50,"div",21),e._uU(51,"Email"),e.qZA(),e.TgZ(52,"div",22),e._uU(53),e.qZA()(),e.TgZ(54,"div",1)(55,"div",21),e._uU(56,"Fecha de nacimiento"),e.qZA(),e.TgZ(57,"div",22),e._uU(58),e.qZA()(),e.TgZ(59,"div",1)(60,"div",21),e._uU(61,"Telefono celular"),e.qZA(),e.TgZ(62,"div",22),e._uU(63),e.qZA()(),e.TgZ(64,"div",1)(65,"div",21),e._uU(66,"Telefono"),e.qZA(),e.TgZ(67,"div",22),e._uU(68),e.qZA()()(),e.TgZ(69,"div",23)(70,"form",24),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(71,"div",25)(72,"label",26),e._uU(73,"Nombre"),e.qZA(),e.TgZ(74,"div",27),e._UZ(75,"input",28),e.qZA(),e.YNc(76,b,2,0,"span",29),e.qZA(),e.TgZ(77,"div",25)(78,"label",30),e._uU(79,"Apellido paterno"),e.qZA(),e.TgZ(80,"div",27),e._UZ(81,"input",31),e.qZA(),e.YNc(82,M,2,0,"span",29),e.qZA(),e.TgZ(83,"div",25)(84,"label",32),e._uU(85,"Apellido materno"),e.qZA(),e.TgZ(86,"div",27),e._UZ(87,"input",33),e.qZA(),e.YNc(88,O,2,0,"span",29),e.qZA(),e.TgZ(89,"div",25)(90,"label",34),e._uU(91,"CURP"),e.qZA(),e.TgZ(92,"div",27),e._UZ(93,"input",35),e.qZA()(),e.TgZ(94,"div",25)(95,"label",36),e._uU(96,"RFC"),e.qZA(),e.TgZ(97,"div",27),e._UZ(98,"input",37),e.qZA(),e.YNc(99,I,2,0,"span",29),e.qZA(),e.TgZ(100,"div",25)(101,"label",38),e._uU(102,"Fecha de nacimiento"),e.qZA(),e.TgZ(103,"div",27),e._UZ(104,"input",39),e.qZA(),e.YNc(105,y,2,0,"span",29),e.qZA(),e.TgZ(106,"div",25)(107,"label",40),e._uU(108,"Tel\xe9fono celular"),e.qZA(),e.TgZ(109,"div",27),e._UZ(110,"input",41),e.qZA(),e.YNc(111,E,2,0,"span",29),e.qZA(),e.TgZ(112,"div",25)(113,"label",42),e._uU(114,"N\xfamero de tel\xe9fono"),e.qZA(),e.TgZ(115,"div",27),e._UZ(116,"input",43),e.qZA(),e.YNc(117,p,2,0,"span",29),e.qZA(),e.TgZ(118,"div",44)(119,"button",45),e._uU(120,"Guardar cambios"),e.qZA()()()(),e.TgZ(121,"div",46)(122,"form",24),e.NdJ("ngSubmit",function(){return n.changePassword()}),e.TgZ(123,"div",25)(124,"label",47),e._uU(125,"Contrase\xf1a actual"),e.qZA(),e.TgZ(126,"div",27),e._UZ(127,"input",48),e.qZA(),e.YNc(128,A,2,0,"span",29),e.qZA(),e.TgZ(129,"div",25)(130,"label",49),e._uU(131,"Nueva contrase\xf1a"),e.qZA(),e.TgZ(132,"div",27),e._UZ(133,"input",50),e.qZA(),e.YNc(134,_,2,0,"span",29),e.qZA(),e.TgZ(135,"div",25)(136,"label",51),e._uU(137,"Repetir nueva contrase\xf1a"),e.qZA(),e.TgZ(138,"div",27),e._UZ(139,"input",52),e.qZA(),e.YNc(140,s,2,0,"span",29),e.qZA(),e.TgZ(141,"div",44)(142,"button",45),e._uU(143,"Cambiar contrase\xf1a"),e.qZA()()()()()(),e.YNc(144,m,2,0,"div",53),e.qZA()()()()()()()()),2&r&&(e.xp6(38),e.lnq("",n.miFormulario.controls.name.value," ",n.miFormulario.controls.last_name.value," ",n.miFormulario.controls.mother_last_name.value," "),e.xp6(5),e.hij("",n.miFormulario.controls.curp.value," "),e.xp6(5),e.hij(" ",n.miFormulario.controls.rfc.value,""),e.xp6(5),e.hij("",n.miFormulario.controls.email.value," "),e.xp6(5),e.hij(" ",n.miFormulario.controls.birtdate.value," "),e.xp6(5),e.hij(" ",n.miFormulario.controls.phone_number.value,""),e.xp6(5),e.hij(" ",n.miFormulario.controls.second_phone_number.value,""),e.xp6(2),e.Q6J("formGroup",n.miFormulario),e.xp6(5),e.Q6J("ngClass",e.VKq(28,d,n.miFormulario.controls.name.errors&&n.miFormulario.controls.name.touched)),e.xp6(1),e.Q6J("ngIf",n.miFormulario.controls.name.errors&&n.miFormulario.controls.name.touched),e.xp6(5),e.Q6J("ngClass",e.VKq(30,d,n.miFormulario.controls.last_name.errors&&n.miFormulario.controls.last_name.touched)),e.xp6(1),e.Q6J("ngIf",n.miFormulario.controls.last_name.errors&&n.miFormulario.controls.last_name.touched),e.xp6(5),e.Q6J("ngClass",e.VKq(32,d,n.miFormulario.controls.mother_last_name.errors&&n.miFormulario.controls.mother_last_name.touched)),e.xp6(1),e.Q6J("ngIf",n.miFormulario.controls.mother_last_name.errors&&n.miFormulario.controls.mother_last_name.touched),e.xp6(11),e.Q6J("ngIf",n.miFormulario.controls.rfc.errors&&n.miFormulario.controls.rfc.touched),e.xp6(5),e.Q6J("ngClass",e.VKq(34,d,n.miFormulario.controls.birtdate.errors&&n.miFormulario.controls.birtdate.touched)),e.xp6(1),e.Q6J("ngIf",n.miFormulario.controls.birtdate.errors&&n.miFormulario.controls.birtdate.touched),e.xp6(5),e.Q6J("ngClass",e.VKq(36,d,n.miFormulario.controls.phone_number.errors&&n.miFormulario.controls.phone_number.touched)),e.xp6(1),e.Q6J("ngIf",n.miFormulario.controls.phone_number.errors&&n.miFormulario.controls.phone_number.touched),e.xp6(5),e.Q6J("ngClass",e.VKq(38,d,n.miFormulario.controls.second_phone_number.errors&&n.miFormulario.controls.second_phone_number.touched)),e.xp6(1),e.Q6J("ngIf",n.miFormulario.controls.second_phone_number.errors&&n.miFormulario.controls.second_phone_number.touched),e.xp6(5),e.Q6J("formGroup",n.miFormularioPassword),e.xp6(6),e.Q6J("ngIf",n.miFormularioPassword.controls.password.errors&&n.miFormularioPassword.controls.password.touched),e.xp6(6),e.Q6J("ngIf",n.miFormularioPassword.controls.new_password.errors&&n.miFormularioPassword.controls.new_password.touched),e.xp6(6),e.Q6J("ngIf",n.miFormularioPassword.controls.new_password_repeat.errors&&n.miFormularioPassword.controls.new_password_repeat.touched),e.xp6(4),e.Q6J("ngIf",n.updatedInformation))},dependencies:[o.mk,o.O5,C.rH,l._Y,l.Fj,l.JJ,l.JL,l.wO,l.nD,l.sg,l.u,u.C,f.b],styles:[".red-margin-input[_ngcontent-%COMP%]{border:2px solid red}",".flex-container[_ngcontent-%COMP%] {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }"]}),v})()},{path:"**",redirectTo:"dashboard"}];let N=(()=>{var i;class v{}return(i=v).\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[C.Bz.forChild(Z),C.Bz]}),v})(),k=(()=>{var i;class v{}return(i=v).\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[o.ez,N,l.UX,l.u5]}),v})()}}]);