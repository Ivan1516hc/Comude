"use strict";(self.webpackChunkTramites=self.webpackChunkTramites||[]).push([[814],{7814:(k,m,r)=>{r.r(m),r.d(m,{DashboardModule:()=>Q});var l=r(6814),u=r(3518),_=r(3519),d=r.n(_),t=r(4946),g=r(2514),s=r(95),h=r(2050);function f(e,a){if(1&e&&(t.TgZ(0,"h2",27)(1,"strong"),t._uU(2),t.qZA()()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.hij("Fecha ",n.finished,"")}}function b(e,a){if(1&e&&(t.TgZ(0,"p")(1,"strong"),t._uU(2,"Disciplina:"),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(3),t.hij(" ",n.discipline.name," ")}}function x(e,a){if(1&e&&(t.TgZ(0,"p")(1,"strong"),t._uU(2,"Competencia:"),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(3),t.hij(" ",n.competition.name,"")}}function v(e,a){if(1&e&&(t.TgZ(0,"p")(1,"strong"),t._uU(2,"Lugar:"),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(3),t.AsE(" ",null!=n.competition&&null!=n.competition.state&&n.competition.state.name?n.competition.state.name+",":""," ",n.competition.country.common_spa," ")}}function C(e,a){if(1&e&&(t.TgZ(0,"p")(1,"strong"),t._uU(2,"Tipo de competencia:"),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(3),t.hij(" ",n.competition.competition_type.name,"")}}function Z(e,a){if(1&e&&(t.TgZ(0,"p")(1,"strong"),t._uU(2,"Fechas de competici\xf3n:"),t.qZA(),t._uU(3),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(3),t.AsE(" ",null==n||null==n.competition?null:n.competition.start_date," a ",null==n||null==n.competition?null:n.competition.ending_date," ")}}function U(e,a){if(1&e&&(t.TgZ(0,"p")(1,"strong"),t._uU(2,"Presupuesto solicitado:"),t.qZA(),t.TgZ(3,"span",31),t._uU(4),t.qZA()()),2&e){const n=t.oxw().$implicit;t.xp6(4),t.hij("$",n.competition.requested_budget,"")}}function T(e,a){if(1&e&&(t.TgZ(0,"p")(1,"strong"),t._uU(2,"Presupuesto aprovado:"),t.qZA(),t.TgZ(3,"span",32),t._uU(4),t.qZA()()),2&e){const n=t.oxw().$implicit;t.xp6(4),t.hij("$",n.competition.approved_budget,"")}}function A(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",33),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,c=t.oxw(2);return t.KtG(c.continuar(o))}),t._uU(2,"Continuar"),t.qZA(),t.BQk()}}function q(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"button",34),t._uU(2,"Ver"),t.qZA(),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink","/solicitante/beca-deportiva/"+(null==n?null:n.id)+"/competicion")}}function D(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"button",35),t._uU(2," Enviar evidencias "),t.qZA(),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink","/solicitante/beca-deportiva/"+(null==n?null:n.id)+"/evidencias")}}function w(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",36),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,c=t.oxw(2);return t.KtG(c.updateStatus(o,6))}),t._uU(2,"Cancelar"),t.qZA(),t.BQk()}}function y(e,a){if(1&e&&(t.TgZ(0,"div",4)(1,"article",24),t._UZ(2,"img",25),t.TgZ(3,"div",26)(4,"h1",27)(5,"strong"),t._uU(6),t.qZA()(),t.YNc(7,f,3,1,"h2",28),t.YNc(8,b,4,1,"p",7),t.YNc(9,x,4,1,"p",7),t.YNc(10,v,4,2,"p",7),t.YNc(11,C,4,1,"p",7),t.YNc(12,Z,4,2,"p",7),t.YNc(13,U,5,1,"p",7),t.YNc(14,T,5,1,"p",7),t.TgZ(15,"p",29),t._uU(16),t.qZA(),t.TgZ(17,"div",30),t.YNc(18,A,3,0,"ng-container",7),t.YNc(19,q,3,1,"ng-container",7),t.YNc(20,D,3,1,"ng-container",7),t.YNc(21,w,3,0,"ng-container",7),t.qZA()()()()),2&e){const n=a.$implicit,i=t.oxw(2);let o;t.xp6(6),t.hij("Solicitud No.BECA2024-000",null!==(o=n.invoice)&&void 0!==o?o:n.id,""),t.xp6(1),t.Q6J("ngIf",n.finished),t.xp6(1),t.Q6J("ngIf",null==n?null:n.discipline),t.xp6(1),t.Q6J("ngIf",null==n?null:n.competition),t.xp6(1),t.Q6J("ngIf",null==n||null==n.competition?null:n.competition.country),t.xp6(1),t.Q6J("ngIf",null==n||null==n.competition?null:n.competition.competition_type),t.xp6(1),t.Q6J("ngIf",null==n||null==n.competition?null:n.competition.start_date),t.xp6(1),t.Q6J("ngIf",null==n||null==n.competition?null:n.competition.requested_budget),t.xp6(1),t.Q6J("ngIf",null==n||null==n.competition?null:n.competition.approved_budget),t.xp6(1),t.Q6J("ngClass",1==n.status_request.id?"alert-secondary":9==n.status_request.id?"alert-primary":2==n.status_request.id?"alert-warning":4==n.status_request.id?"alert-danger":3==n.status_request.id||7==n.status_request.id?"alert-success":""),t.xp6(1),t.hij("Solicitud ",n.status_request.name," "),t.xp6(2),t.Q6J("ngIf",1===n.status_request_id||!n.competition||!i.hasBankAccount||n.documents_count<6),t.xp6(1),t.Q6J("ngIf",1!=n.status_request_id&&n.competition&&i.hasBankAccount&&n.documents_count>=6),t.xp6(1),t.Q6J("ngIf",3==n.status_request_id&&i.isCompetitionOver(n.competition.ending_date)),t.xp6(1),t.Q6J("ngIf",9!=n.status_request_id&&4!=n.status_request_id&&6!=n.status_request_id&&3!=n.status_request_id&&7!=n.status_request_id)}}function M(e,a){if(1&e&&(t.ynx(0),t.YNc(1,y,22,15,"div",23),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.requests.data)}}function O(e,a){if(1&e&&(t.TgZ(0,"option",37),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.hij("",null==n?null:n.name," ")}}const B=[{path:"",component:(()=>{var e;class a{constructor(i,o){this.router=i,this.visitorService=o,this.hasBankAccount=!1,this.currentUrl=window.location.pathname}isCompetitionOver(i){return new Date(i)>=new Date}ngOnInit(){this.visitorService.getDataDiscipline().subscribe({next:i=>{this.catalog=i}}),this.visitorService.indexRequestVisitor().subscribe({next:i=>{200==i.code||404==i.code?(this.requests=i.data??null,this.hasBankAccount=i.hasBankAccount??null):d().fire({position:"center",icon:"error",title:i.message,showConfirmButton:!1,timer:2e3})}}),this.currentUrl=window.location.pathname}storeRequest(){this.visitorService.storeRequest({discipline_id:this.discipline}).subscribe({next:o=>{if(201==o.code&&d().fire({position:"center",icon:"info",title:o.message+"\xbfdesea completar la informaci\xf3n de su perfil?",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Continuar",cancelButtonText:"No"}).then(c=>{if(c.isConfirmed){const p=this.currentUrl.substring(0,this.currentUrl.lastIndexOf("/"))+"/solicitante/perfil";this.router.navigateByUrl(p)}else if(c.isDenied)return}),202==o.code&&d().fire({position:"center",icon:"error",title:o.message,showConfirmButton:!1,timer:2e3}),200==o.code){d().fire({position:"center",icon:"success",title:o.message,showConfirmButton:!1,timer:2e3});const c=this.currentUrl.substring(0,this.currentUrl.lastIndexOf("/"))+"/solicitante/beca-deportiva/"+o.request_id+"/competicion";this.router.navigateByUrl(c)}},error:o=>{}})}updateStatus(i,o){}continuar(i){if(!i.finished){if(!i.competition){const o=this.currentUrl.substring(0,this.currentUrl.lastIndexOf("/"))+"/solicitante/beca-deportiva/"+i.id+"/competicion";return this.router.navigateByUrl(o)}if(!this.hasBankAccount){const o=this.currentUrl.substring(0,this.currentUrl.lastIndexOf("/"))+"/solicitante/beca-deportiva/"+i.id+"/cuenta-bancaria";return this.router.navigateByUrl(o)}if(i.documents_count<6){const o=this.currentUrl.substring(0,this.currentUrl.lastIndexOf("/"))+"/solicitante/beca-deportiva/"+i.id+"/documentacion";return this.router.navigateByUrl(o)}if(1==i.status_request_id){const o=this.currentUrl.substring(0,this.currentUrl.lastIndexOf("/"))+"/solicitante/beca-deportiva/"+i.id+"/reglamento";return this.router.navigateByUrl(o)}}}}return(e=a).\u0275fac=function(i){return new(i||e)(t.Y36(u.F0),t.Y36(g.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:35,vars:3,consts:[["id","mainVisitor",1,"main"],[1,"row"],[1,"section"],[1,"container"],[1,"col-12","col-md-6","col-lg-4","mt-2"],[1,"card","card-start"],["data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",1,"drop-zone"],[4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","py-0","text-justify-custom"],[1,"m-5"],[1,"form-label"],[1,"form-select",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer","flex-column","border-top-0"],["type","button","data-bs-dismiss","modal",1,"btn","btn-lg","btn-primary","w-100","mx-0","mb-2",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-lg","btn-light","w-100","mx-0"],["class","col-12 col-md-6 col-lg-4 mt-2",4,"ngFor","ngForOf"],[1,"card"],["src","assets/img/logo_comude.png","alt","Imagen",1,"card-img-top",2,"align-self","center"],[1,"container","text-card"],[1,"text-center"],["class","text-center",4,"ngIf"],["role","alert",1,"alert","text-center","mt-2",3,"ngClass"],[1,"d-grid","gap-1"],[1,"badge","bg-warning","text-dark"],[1,"badge","bg-info","text-dark"],["type","button",1,"btn-lg","btn","btn-warning","mt-2",3,"click"],["type","button",1,"btn-lg","btn","btn-info","mt-2",3,"routerLink"],["type","button",1,"btn-lg","btn","btn-primary","mt-2",3,"routerLink"],["type","button",1,"btn-lg","btn","btn-danger","mt-2",3,"click"],[3,"value"]],template:function(i,o){1&i&&(t.TgZ(0,"app-visitor")(1,"main",0)(2,"div",1)(3,"section",2)(4,"div",3)(5,"h2"),t._uU(6,"Mis solicitudes"),t.qZA(),t._UZ(7,"hr"),t.TgZ(8,"div",1)(9,"div",4)(10,"div",5)(11,"article",6)(12,"span"),t._uU(13,"Iniciar solicitud"),t.qZA()()()(),t.YNc(14,M,2,1,"ng-container",7),t.qZA()()()()()(),t.TgZ(15,"div",8)(16,"div",9)(17,"div",10)(18,"div",11)(19,"h5",12),t._uU(20,"Selecciona la disciplina"),t.qZA(),t._UZ(21,"button",13),t.qZA(),t.TgZ(22,"div",14)(23,"div",15)(24,"label",16),t._uU(25,"Disciplina:"),t.qZA(),t.TgZ(26,"select",17),t.NdJ("ngModelChange",function(p){return o.discipline=p}),t.TgZ(27,"option",18),t._uU(28,"-Seleccionar-"),t.qZA(),t.YNc(29,O,2,2,"option",19),t.qZA()()(),t.TgZ(30,"div",20)(31,"button",21),t.NdJ("click",function(){return o.storeRequest()}),t._uU(32,"Iniciar solicitud"),t.qZA(),t.TgZ(33,"button",22),t._uU(34,"Cerrar"),t.qZA()()()()()),2&i&&(t.xp6(14),t.Q6J("ngIf",o.requests),t.xp6(12),t.Q6J("ngModel",o.discipline),t.xp6(3),t.Q6J("ngForOf",null==o.catalog?null:o.catalog.disciplines))},dependencies:[l.mk,l.sg,l.O5,u.rH,s.YN,s.Kr,s.EJ,s.JJ,s.On,h.C],styles:['.card-img-top[_ngcontent-%COMP%]{object-fit:cover;width:80%}.card[_ngcontent-%COMP%]{max-width:100%;height:100%}.card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;margin-bottom:.05em}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;color:#545454}.text-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.1em}.drop-zone[_ngcontent-%COMP%]{border:3px dashed #00b4e5;width:100%;height:100%;text-align:center;cursor:pointer;position:relative;overflow:hidden;background:url(sports.abd5fb01768f77df.jpg) center/cover;transition:transform .5s ease;display:flex;justify-content:center;align-items:center}.drop-zone[_ngcontent-%COMP%]:after{content:"";background:linear-gradient(rgba(255,255,255,.8),rgba(255,255,255,.8));position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.drop-zone[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:2;color:#00b4e5;font-size:28px;font-weight:700}.drop-zone[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.drop-zone[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 767px){.card-start[_ngcontent-%COMP%]{max-width:100%;height:150px!important;margin-bottom:5px!important}.drop-zone[_ngcontent-%COMP%]{height:150px!important}}']}),a})()}];let J=(()=>{var e;class a{}return(e=a).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(B),u.Bz]}),a})();var I=r(2761);let Q=(()=>{var e;class a{}return(e=a).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,J,s.u5,I.VisitorModule]}),a})()}}]);