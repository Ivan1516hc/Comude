"use strict";(self.webpackChunkTramites=self.webpackChunkTramites||[]).push([[946],{1700:(Le,Z,u)=>{u.r(Z),u.d(Z,{CiszCrecheModule:()=>Re});var _=u(6814),m=u(3518),b=u(8878),a=u(95),F=u(3519),p=u.n(F),e=u(4946),q=u(4517),h=u(2514),v=u(2050);function C(o,r){if(1&o&&(e.TgZ(0,"a",9),e._uU(1," Siguiente "),e._UZ(2,"i",69)(3,"span",70),e.qZA()),2&o){const n=e.oxw();e.Q6J("routerLink","/cisz-guarderia/solicitud/"+n.request_id+"/documentos")}}function T(o,r){if(1&o&&(e.TgZ(0,"div",71)(1,"strong"),e._UZ(2,"i",72),e._uU(3," Alerta!"),e.qZA(),e._uU(4," La informaci\xf3n del formulario es exclusivamente del trabajador (padre o madre de "),e.TgZ(5,"strong"),e._uU(6),e.qZA(),e._uU(7,".) "),e._UZ(8,"button",73),e.qZA()),2&o){const n=e.oxw();e.xp6(6),e.lnq("",null==n.beneficiaries[0]?null:n.beneficiaries[0].nombre," ",null==n.beneficiaries[0]?null:n.beneficiaries[0].apaterno," ",null==n.beneficiaries[0]?null:n.beneficiaries[0].amaterno,"")}}function A(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"div",74)(2,"div")(3,"strong"),e._uU(4,"\xa1Importante!"),e.qZA(),e._uU(5," \xbfQuieres actualizar la informaci\xf3n del trabajador "),e.TgZ(6,"strong"),e._uU(7),e.qZA()(),e.TgZ(8,"button",75),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.loadingUpdate())}),e._UZ(9,"i",76),e._uU(10," Actualizar "),e.qZA(),e._UZ(11,"button",77),e.qZA()()}if(2&o){const n=e.oxw();e.xp6(7),e.lnq("",null==n.beneficiaries[1]?null:n.beneficiaries[1].nombre," ",null==n.beneficiaries[1]?null:n.beneficiaries[1].apaterno," ",null==n.beneficiaries[1]?null:n.beneficiaries[1].amaterno,"? ")}}function x(o,r){1&o&&(e.TgZ(0,"span",78),e._uU(1," CURP inv\xe1lida. "),e.qZA())}function U(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Nombre requerido. "),e.qZA())}function I(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Apellido paterno requerido. "),e.qZA())}function N(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Apellido materno requerido. "),e.qZA())}function P(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Fecha de nacimiento requerida. "),e.qZA())}function J(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function y(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function j(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function S(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function D(o,r){if(1&o&&(e.TgZ(0,"option",81),e._uU(1),e.qZA()),2&o){const n=r.$implicit;e.Q6J("value",null==n?null:n.estado),e.xp6(1),e.hij(" ",n.estado," ")}}function w(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Lugar de Nacimiento requerido. "),e.qZA())}function k(o,r){if(1&o&&(e.TgZ(0,"div",32)(1,"label",22),e._uU(2,"Lugar de Nacimiento"),e.qZA(),e.TgZ(3,"select",80)(4,"option",34),e._uU(5,"-Seleccionar-"),e.qZA(),e.YNc(6,D,2,2,"option",52),e.qZA(),e.YNc(7,w,2,0,"span",28),e.qZA()),2&o){const n=e.oxw();e.xp6(6),e.Q6J("ngForOf",n.estados),e.xp6(1),e.Q6J("ngIf",n.miFormulario.controls.lugar_nacimiento.errors&&n.miFormulario.controls.lugar_nacimiento.touched)}}function Y(o,r){1&o&&(e.TgZ(0,"div",32)(1,"label",22),e._uU(2,"Lugar de Nacimiento"),e.qZA(),e._UZ(3,"input",80),e.qZA())}function Q(o,r){if(1&o&&(e.TgZ(0,"option",81),e._uU(1),e.qZA()),2&o){const n=r.$implicit;e.Q6J("value",null==n?null:n.id),e.xp6(1),e.hij(" ",n.escolaridad," ")}}function E(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function M(o,r){1&o&&(e.TgZ(0,"span",78),e._uU(1," Se requiere un c\xf3digo postal v\xe1lido de 5 d\xedgitos num\xe9ricos. "),e.qZA())}function O(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"div",82)(1,"button",83),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.validatorPostCode())}),e._uU(2,"Validar CP"),e.qZA()()}}function V(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"div",84)(1,"button",85),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.backPostCode())}),e._UZ(2,"i",86),e.qZA()()}}function B(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Calle requerida. "),e.qZA())}function z(o,r){if(1&o&&(e.TgZ(0,"div",26)(1,"label",22),e._uU(2,"Calle"),e.qZA(),e._UZ(3,"input",87),e.YNc(4,B,2,0,"span",28),e.qZA()),2&o){const n=e.oxw();e.xp6(4),e.Q6J("ngIf",n.miFormulario.controls.calle.errors&&n.miFormulario.controls.calle.touched)}}function G(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Numero exterior requerido. "),e.qZA())}function H(o,r){if(1&o&&(e.TgZ(0,"div",88)(1,"label",22),e._uU(2,"Num. Exterior"),e.qZA(),e._UZ(3,"input",89),e.YNc(4,G,2,0,"span",28),e.qZA()),2&o){const n=e.oxw();e.xp6(4),e.Q6J("ngIf",n.miFormulario.controls.numext.errors&&n.miFormulario.controls.numext.touched)}}function R(o,r){1&o&&(e.TgZ(0,"div",88)(1,"label",90),e._uU(2,"Num. Interior"),e.qZA(),e._UZ(3,"input",91),e.qZA())}function L(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Primer cruce requerido. "),e.qZA())}function K(o,r){if(1&o&&(e.TgZ(0,"div",32)(1,"label",22),e._uU(2,"Primer Cruce"),e.qZA(),e._UZ(3,"input",92),e.YNc(4,L,2,0,"span",28),e.qZA()),2&o){const n=e.oxw();e.xp6(4),e.Q6J("ngIf",n.miFormulario.controls.primercruce.errors&&n.miFormulario.controls.primercruce.touched)}}function W(o,r){1&o&&(e.TgZ(0,"div",32)(1,"label",90),e._uU(2,"Segundo Cruce"),e.qZA(),e._UZ(3,"input",93),e.qZA())}function $(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function X(o,r){if(1&o&&(e.TgZ(0,"div",94)(1,"label",22),e._uU(2,"Estado"),e.qZA(),e.TgZ(3,"select",95)(4,"option",34),e._uU(5,"--Seleccionar--"),e.qZA(),e.TgZ(6,"option",96),e._uU(7,"Jalisco"),e.qZA()(),e.YNc(8,$,2,0,"span",28),e.qZA()),2&o){const n=e.oxw();e.xp6(8),e.Q6J("ngIf",n.miFormulario.controls.estado.errors&&n.miFormulario.controls.estado.touched)}}function ee(o,r){1&o&&(e.TgZ(0,"div",94)(1,"label",22),e._uU(2,"Estado"),e.qZA(),e._UZ(3,"input",95),e.qZA())}function oe(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function te(o,r){if(1&o&&(e.TgZ(0,"div",94)(1,"label",22),e._uU(2,"Municipio"),e.qZA(),e.TgZ(3,"select",97)(4,"option",34),e._uU(5,"--Seleccionar--"),e.qZA(),e.TgZ(6,"option",98),e._uU(7,"Zapopan"),e.qZA(),e.TgZ(8,"option",99),e._uU(9,"Guadalajara"),e.qZA(),e.TgZ(10,"option",100),e._uU(11,"San Pedro Tlaquepaque"),e.qZA(),e.TgZ(12,"option",101),e._uU(13,"Tonala"),e.qZA(),e.TgZ(14,"option",102),e._uU(15,"Tlajomulco de Zu\xf1iga"),e.qZA(),e.TgZ(16,"option",103),e._uU(17,"Zapotlanejo"),e.qZA(),e.TgZ(18,"option",104),e._uU(19,"El Salto"),e.qZA(),e.TgZ(20,"option",105),e._uU(21,"Acatlan de Juarez"),e.qZA(),e.TgZ(22,"option",106),e._uU(23,"El Arenal"),e.qZA()(),e.YNc(24,oe,2,0,"span",28),e.qZA()),2&o){const n=e.oxw();e.xp6(24),e.Q6J("ngIf",n.miFormulario.controls.municipio.errors&&n.miFormulario.controls.municipio.touched)}}function ie(o,r){1&o&&(e.TgZ(0,"div",94)(1,"label",22),e._uU(2,"Municipio"),e.qZA(),e._UZ(3,"input",97),e.qZA())}function ne(o,r){if(1&o&&(e.TgZ(0,"option",81),e._uU(1),e.qZA()),2&o){const n=r.$implicit;e.Q6J("value",null==n?null:n.id),e.xp6(1),e.hij(" ",n.colonia," ")}}function re(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function ae(o,r){if(1&o&&(e.TgZ(0,"div",32)(1,"label",22),e._uU(2,"Colonia"),e.qZA(),e.TgZ(3,"select",107)(4,"option",34),e._uU(5,"-Seleccionar-"),e.qZA(),e.YNc(6,ne,2,2,"option",52),e.qZA(),e.YNc(7,re,2,0,"span",28),e.qZA()),2&o){const n=e.oxw();e.xp6(6),e.Q6J("ngForOf",n.suburbs),e.xp6(1),e.Q6J("ngIf",n.miFormulario.controls.colonia.errors&&n.miFormulario.controls.colonia.touched)}}function le(o,r){1&o&&(e.TgZ(0,"div",94)(1,"label",22),e._uU(2,"Colonia"),e.qZA(),e._UZ(3,"input",108),e.qZA())}function ce(o,r){1&o&&(e.TgZ(0,"span",78),e._uU(1," Celular inv\xe1lido. Debe contener 10 d\xedgitos num\xe9ricos. "),e.qZA())}function ue(o,r){if(1&o&&(e.TgZ(0,"div",32)(1,"label",22),e._uU(2,"Celular"),e.qZA(),e._UZ(3,"input",109),e.YNc(4,ce,2,0,"span",24),e.qZA()),2&o){const n=e.oxw();e.xp6(4),e.Q6J("ngIf",n.miFormulario.controls.celular.invalid&&n.miFormulario.controls.celular.touched)}}function se(o,r){if(1&o&&(e.TgZ(0,"option",81),e._uU(1),e.qZA()),2&o){const n=r.$implicit;e.Q6J("value",n.id),e.xp6(1),e.hij(" ",n.dependencia,"")}}function me(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Lugar de Trabajo requerido. "),e.qZA())}function de(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Codigo Postal requerido. "),e.qZA())}function pe(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"div",82)(1,"button",83),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.validatorPostCodeJob())}),e._uU(2,"Validar CP"),e.qZA()()}}function _e(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"div",84)(1,"button",85),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.backPostCodeJob())}),e._UZ(2,"i",86),e.qZA()()}}function fe(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Calle requerido. "),e.qZA())}function ge(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Calle requerido. "),e.qZA())}function Ze(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Calle requerido. "),e.qZA())}function be(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Municipio requerido. "),e.qZA())}function he(o,r){if(1&o&&(e.TgZ(0,"option",81),e._uU(1),e.qZA()),2&o){const n=r.$implicit;e.Q6J("value",null==n?null:n.id),e.xp6(1),e.hij(" ",n.colonia," ")}}function ve(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function Fe(o,r){if(1&o&&(e.TgZ(0,"div",32)(1,"label",22),e._uU(2,"Colonia"),e.qZA(),e.TgZ(3,"select",131)(4,"option",34),e._uU(5,"-Seleccionar-"),e.qZA(),e.YNc(6,he,2,2,"option",52),e.qZA(),e.YNc(7,ve,2,0,"span",28),e.qZA()),2&o){const n=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",n.suburbsJob),e.xp6(1),e.Q6J("ngIf",n.miFormulario.controls.colonia_trabajo.errors&&n.miFormulario.controls.colonia_trabajo.touched)}}function qe(o,r){1&o&&(e.TgZ(0,"div",94)(1,"label",22),e._uU(2,"Colonia"),e.qZA(),e._UZ(3,"input",132),e.qZA())}function Ce(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Numero de 10 digitos requerido. "),e.qZA())}function Te(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Calle requerido. "),e.qZA())}function Ae(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Calle requerido. "),e.qZA())}function xe(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Jefe Inmediato requerido. "),e.qZA())}function Ue(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Hora de Entrada requerida. "),e.qZA())}function Ie(o,r){1&o&&(e.TgZ(0,"span",79),e._uU(1," Hora de Salida requerida. "),e.qZA())}function Ne(o,r){if(1&o&&(e.TgZ(0,"div",1)(1,"div",26)(2,"label",22),e._uU(3,"Calle"),e.qZA(),e._UZ(4,"input",110),e.YNc(5,fe,2,0,"span",28),e.qZA(),e.TgZ(6,"div",111)(7,"label",22),e._uU(8,"Num. Externo"),e.qZA(),e._UZ(9,"input",112),e.YNc(10,ge,2,0,"span",28),e.qZA(),e.TgZ(11,"div",111)(12,"label",90),e._uU(13,"Num. Interno"),e.qZA(),e._UZ(14,"input",113),e.qZA(),e.TgZ(15,"div",32)(16,"label",22),e._uU(17,"Primer Cruce"),e.qZA(),e._UZ(18,"input",114),e.YNc(19,Ze,2,0,"span",28),e.qZA(),e.TgZ(20,"div",32)(21,"label",90),e._uU(22,"Segundo Cruce"),e.qZA(),e._UZ(23,"input",115),e.qZA(),e.TgZ(24,"div",32)(25,"label",22),e._uU(26,"Municipio"),e.qZA(),e._UZ(27,"input",116),e.YNc(28,be,2,0,"span",28),e.qZA(),e.YNc(29,Fe,8,2,"div",49),e.YNc(30,qe,4,0,"ng-template",null,117,e.W1O),e.TgZ(32,"div",32)(33,"label",22),e._uU(34,"Telefono"),e.qZA(),e._UZ(35,"input",118),e.YNc(36,Ce,2,0,"span",28),e.qZA(),e.TgZ(37,"div",32)(38,"label",90),e._uU(39,"Extenci\xf3n"),e.qZA(),e._UZ(40,"input",119),e.qZA(),e.TgZ(41,"div",32)(42,"label",22),e._uU(43,"No. empleado"),e.qZA(),e._UZ(44,"input",120),e.YNc(45,Te,2,0,"span",28),e.qZA(),e.TgZ(46,"div",32)(47,"label",22),e._uU(48,"Puesto"),e.qZA(),e._UZ(49,"input",121),e.YNc(50,Ae,2,0,"span",28),e.qZA(),e.TgZ(51,"div",32)(52,"label",22),e._uU(53,"Antiguedad"),e.qZA(),e.TgZ(54,"select",122)(55,"option",34),e._uU(56,"-Seleccionar-"),e.qZA(),e.TgZ(57,"option",123),e._uU(58,"1 MES - 5 MESES"),e.qZA(),e.TgZ(59,"option",124),e._uU(60,"6 MESES - 11 MESES"),e.qZA(),e.TgZ(61,"option",125),e._uU(62,"1 A\xd1O - 3 A\xd1OS"),e.qZA(),e.TgZ(63,"option",126),e._uU(64,"4 A\xd1OS - 6 A\xd1OS"),e.qZA(),e.TgZ(65,"option",127),e._uU(66,"MAS DE 6 A\xd1OS"),e.qZA()()(),e.TgZ(67,"div",26)(68,"label",22),e._uU(69,"Jefe Inmediato"),e.qZA(),e._UZ(70,"input",128),e.YNc(71,xe,2,0,"span",28),e.qZA(),e.TgZ(72,"div",26)(73,"label",22),e._uU(74,"Hora de Entrada"),e.qZA(),e._UZ(75,"input",129),e.YNc(76,Ue,2,0,"span",28),e.qZA(),e.TgZ(77,"div",26)(78,"label",22),e._uU(79,"Hora de Salida"),e.qZA(),e._UZ(80,"input",130),e.YNc(81,Ie,2,0,"span",28),e.qZA()()),2&o){const n=e.MAs(31),i=e.oxw();e.xp6(5),e.Q6J("ngIf",i.miFormulario.controls.calle_trabajo.errors&&i.miFormulario.controls.calle_trabajo.touched),e.xp6(5),e.Q6J("ngIf",i.miFormulario.controls.numext_trabajo.errors&&i.miFormulario.controls.numext_trabajo.touched),e.xp6(9),e.Q6J("ngIf",i.miFormulario.controls.primer_cruce_trabajo.errors&&i.miFormulario.controls.primer_cruce_trabajo.touched),e.xp6(9),e.Q6J("ngIf",i.miFormulario.controls.municipio_trabajo.errors&&i.miFormulario.controls.municipio_trabajo.touched),e.xp6(1),e.Q6J("ngIf",i.postalCode&&!i.onlySee)("ngIfElse",n),e.xp6(7),e.Q6J("ngIf",i.miFormulario.controls.telefono_trabajo.errors&&i.miFormulario.controls.telefono_trabajo.touched),e.xp6(9),e.Q6J("ngIf",i.miFormulario.controls.employee_number.errors&&i.miFormulario.controls.employee_number.touched),e.xp6(5),e.Q6J("ngIf",i.miFormulario.controls.puesto.errors&&i.miFormulario.controls.puesto.touched),e.xp6(21),e.Q6J("ngIf",i.miFormulario.controls.jefe_inmediato.errors&&i.miFormulario.controls.jefe_inmediato.touched),e.xp6(5),e.Q6J("ngIf",i.miFormulario.controls.entrada_trabajo.errors&&i.miFormulario.controls.entrada_trabajo.touched),e.xp6(5),e.Q6J("ngIf",i.miFormulario.controls.salida_trabajo.errors&&i.miFormulario.controls.salida_trabajo.touched)}}function Pe(o,r){1&o&&(e.TgZ(0,"div",133)(1,"button",134),e._uU(2,"Guardar"),e.qZA()())}function Je(o,r){1&o&&(e.TgZ(0,"div",133)(1,"button",135),e._uU(2,"Actualizar"),e.qZA()())}let ye=(()=>{var o;class r{constructor(i,t,l,c,s){this.router=i,this.fb=t,this.crecheService=l,this.route=c,this.allVisitorService=s,this.miFormulario=this.fb.group({address_id:[null,[a.kI.nullValidator]],curp:["",[a.kI.required,a.kI.pattern(/^[A-Z]{4}\d{6}[HM][A-Z]{5}[0-9A-Z]{2}$/)]],nombre:["",[a.kI.required]],apaterno:["",[a.kI.required]],amaterno:["",[a.kI.required]],fechanacimiento:["",[a.kI.required]],edad:["",[a.kI.nullValidator]],escolaridad:["",[a.kI.required]],trabaja:1,calle:["",[a.kI.required]],numext:["",[a.kI.required]],numint:["",[a.kI.nullValidator]],primercruce:["",[a.kI.required]],segundocruce:["",[a.kI.nullValidator]],codigopostal:["",[a.kI.required]],estado:[{value:"",disabled:!0},[a.kI.nullValidator]],municipio:[{value:"",disabled:!0},[a.kI.nullValidator]],colonia:["",[a.kI.required]],colonia_name:["",[a.kI.nullValidator]],sexo:["",[a.kI.required]],tipo_sangre:["",[a.kI.required]],lenguamaterna:["",[a.kI.nullValidator]],serviciosmedicos:["",[a.kI.nullValidator]],celular:["",[a.kI.required,a.kI.pattern("^[0-9]{10}$")]],parentesco:["",[a.kI.required]],lugar_nacimiento:["",[a.kI.required]],estado_civil:["",[a.kI.required]],lugar_trabajo:[{value:"",disabled:!0},[a.kI.required]],calle_trabajo:["",[a.kI.required]],telefono_trabajo:["",[a.kI.required,a.kI.pattern("^[0-9]{10}$")]],telefono_ext_trabajo:["",[a.kI.nullValidator]],jefe_inmediato:["",[a.kI.required]],codigo_trabajo:["",[a.kI.required]],colonia_trabajo:["",[a.kI.required]],colonia_name_trabajo:["",[a.kI.nullValidator]],municipio_trabajo:[{value:"",disabled:!0},[a.kI.required]],estado_trabajo:["",[a.kI.required]],entrada_trabajo:["",[a.kI.required]],salida_trabajo:["",[a.kI.required]],puesto:[{value:"",disabled:!0},[a.kI.required]],employee_number:[{value:"",disabled:!0},[a.kI.required]],antiguedad:["",[a.kI.required]],numext_trabajo:["",[a.kI.required]],numint_trabajo:["",[a.kI.nullValidator]],primer_cruce_trabajo:["",[a.kI.required]],segundo_cruce_trabajo:["",[a.kI.nullValidator]]}),this.beneficiaries=[],this.curp=!1,this.suburbs=null,this.suburbsJob=null,this.newData=!0,this.economic=!1,this.job=!1,this.suburbs2=null,this.mostrarDatosBeneficiary=[],this.hayError=!1,this.diseases=null,this.ocupacion=[],this.onlySee=!1,this.escolaridad=[],this.estados=[],this.extraWork=!1,this.addresses=[],this.address=[],this.edit=!1,this.beneficiaryUpdateId=0,this.dependences=[],this.miFormulario.get("colonia")?.valueChanges.subscribe(d=>{if(this.suburbs&&this.suburbs.length>0){const f=this.suburbs.find(g=>g.id==d);f&&this.miFormulario.patchValue({colonia_name:f.colonia})}}),this.miFormulario.get("colonia_trabajo")?.valueChanges.subscribe(d=>{if(this.suburbsJob&&this.suburbsJob.length>0){const f=this.suburbsJob.find(g=>g.id==d);f&&this.miFormulario.patchValue({colonia_name_trabajo:f.colonia})}})}defaultIfNullOrZero(i,t){return null==i||0===i?t:i}validatorCurp(){this.crecheService.fetchCurp(this.miFormulario.value.curp).subscribe({next:i=>{if(i.not&&this.showAlert("No se encuentra la CURP.","error"),i.id||i.nombre){this.curp=!0;const t={nombre:i.nombre||"",apaterno:i.apaterno||"",amaterno:i.amaterno||"",fechanacimiento:i.fechanacimiento||"",edad:i.edad||"",sexo:i.sexo||"",calle:"",codigopostal:"",estado:"",municipio:"",numext:"",numint:"",primercruce:"",segundocruce:"",enfermedad:"",enfermedad_otro:"",escolaridad:""};i.id&&(t.calle=i.calle||"",t.codigopostal=i.codigopostal||"",t.estado=i.estado||"",t.municipio=i.municipio||"",t.numext=i.numext||"",t.numint=i.numint||"",t.primercruce=i.primercruce||"",t.segundocruce=i.segundocruce||"",t.escolaridad=i.escolaridad||"",t.enfermedad=i.enfermedad||"",t.enfermedad_otro=i.enfermedad_otro||""),this.miFormulario.patchValue(t),this.miFormulario.get("curp").setValue(i.curp),this.miFormulario.get("curp").disable(),this.miFormulario.get("nombre").disable(),this.miFormulario.get("apaterno").disable(),this.miFormulario.get("amaterno").disable(),this.miFormulario.get("fechanacimiento").disable(),this.miFormulario.get("edad").disable(),this.miFormulario.get("sexo").disable()}},error:i=>{this.hayError=!0}})}backPostCode(){this.postalCode=!1,this.miFormulario.patchValue({address_id:null,municipio:"",estado:""}),this.miFormulario.get("codigopostal").setValue(""),this.miFormulario.get("codigopostal").enable(),this.miFormulario.get("calle").enable(),this.miFormulario.get("numext").enable(),this.miFormulario.get("numint").enable(),this.miFormulario.get("primercruce").enable(),this.miFormulario.get("segundocruce").enable(),this.miFormulario.get("colonia").enable(),this.suburbs=[]}backPostCodeJob(){this.postalCodeJob=!1,this.miFormulario.patchValue({municipio_trabajo:"",estado_trabajo:""}),this.miFormulario.get("codigo_trabajo").setValue(""),this.miFormulario.get("codigo_trabajo").enable(),this.suburbsJob=[]}backCurp(){this.curp=!1,this.miFormulario.patchValue({nombre:"",amaterno:"",apaterno:"",sexo:"",edad:"",fechanacimiento:"",enfermedad:"",enfermedad_otro:""}),this.miFormulario.get("curp").setValue(""),this.miFormulario.get("curp").enable(),this.miFormulario.get("nombre").enable(),this.miFormulario.get("apaterno").enable(),this.miFormulario.get("amaterno").enable(),this.miFormulario.get("fechanacimiento").enable(),this.miFormulario.get("edad").enable(),this.miFormulario.get("sexo").enable()}validatorPostCode(){console.log(this.miFormulario.value.codigopostal),this.crecheService.getPostalCodeInfo(this.miFormulario.value.codigopostal).subscribe({next:i=>this.handlePostalCodeResponse(i),error:i=>{this.hayError=!0}})}validatorPostCodeJob(){this.crecheService.getPostalCodeInfo(this.miFormulario.value.codigo_trabajo).subscribe({next:i=>this.handlePostalCodeResponse(i,!0),error:i=>{this.hayError=!0}})}handlePostalCodeResponse(i,t=!1){if(i[0]?.id){const l=t?"codigo_trabajo":"codigopostal";this.miFormulario.patchValue({[t?"municipio_trabajo":"municipio"]:i[0].municipio,[t?"estado_trabajo":"estado"]:i[0].estado}),this.miFormulario.get(l).setValue(i[0].codigo),this.miFormulario.get(l).disable(),t?(this.postalCodeJob=!0,this.suburbsJob=i):(this.postalCode=!0,this.suburbs=i)}else this.showAlert("Este Codigo postal no Existe.","error")}ngOnInit(){this.cardParents(),this.initTable(),["telefono_trabajo","celular","telefono_ext_trabajo"].forEach(t=>{this.subscribeToPhoneFieldChanges(t)})}subscribeToPhoneFieldChanges(i){this.miFormulario.get(i).valueChanges.subscribe(t=>{const l=t.replace(/\D/g,"");this.miFormulario.get(i).setValue(l,{emitEvent:!1})})}cardParents(){this.route.params.subscribe(i=>{const t=i.id;this.request_id=i.id,t&&(this.allVisitorService.getBeneficiariesRequest(t).subscribe({next:l=>{if(this.beneficiaries=l,this.beneficiaries[1]?.id){this.onlySee=!0;const c=this.beneficiaries[1];this.miFormulario.patchValue(c),this.miFormulario.patchValue(c.economic[0]),this.miFormulario.patchValue(c.address[0]),this.postalCode=!0,this.postalCodeJob=!0,this.miFormulario.disable()}}}),this.allVisitorService.showRequest(t).subscribe({next:l=>{this.miFormulario.patchValue({puesto:l.employee.job_position,lugar_trabajo:l.employee.dependence_id,employee_number:l.employee.employee_number}),this.request=l}}))})}initTable(){this.route.params.subscribe(i=>{this.request_id=i.id}),this.crecheService.getCatalogs().subscribe({next:i=>{this.estados=i.estados,this.escolaridad=i.escolaridad,this.ocupacion=i.ocupacion,this.diseases=i.enfermedad,this.dependences=i.dependencias},error:()=>{this.hayError=!0}}),this.allVisitorService.getAddressRequest(this.request_id).subscribe({next:i=>{this.addresses=i}})}onSubmit(){if(!this.isValidForm())return;this.enableDisableFormFields(!0);let i=this.miFormulario.value;this.enableDisableFormFields(!1),i.request_id=this.request_id,this.edit?this.submitFormDataUpdate(i,this.beneficiaryUpdateId):this.submitFormDataCreate(i)}enableDisableFormFields(i){const t=i?"enable":"disable";["codigopostal","estado","municipio","codigo_trabajo","municipio_trabajo","puesto","lugar_trabajo","employee_number"].forEach(c=>this.miFormulario.get(c)[t]())}submitFormDataCreate(i){this.crecheService.createParentRequest(i).subscribe(t=>{200==t.code?(this.cardParents(),p().fire({position:"center",icon:"question",title:"Informaci\xf3n de trabajador guardada correctamente \xbfquieres continuar con la documentaci\xf3n?",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(l=>{if(l.isConfirmed)this.router.navigateByUrl("/cisz-guarderia/solicitud/"+this.request_id+"/documentos");else if(l.isDenied)return})):this.showAlert("Error","error")})}submitFormDataUpdate(i,t){this.crecheService.updateParentRequest(i,t,null).subscribe(l=>{l?(this.showAlert("Informaci\xf3n de tutor actualizada correctamente","success"),this.cardParents()):this.showAlert("Error","error")})}isValidForm(){if(!this.postalCode)return this.showAlert("Debes de validar el codigo postal de tu domicilio.","info"),!1;if(!this.postalCodeJob)return this.showAlert("Debes de validar el codigo postal del trabajo.","info"),!1;if(this.miFormulario.invalid){this.miFormulario.markAllAsTouched();const i=Object.keys(this.miFormulario.controls).filter(l=>this.miFormulario.get(l).invalid),t=i.join(", ");return console.log("Claves inv\xe1lidas:",t),console.log("Claves inv\xe1lidas:",i),this.showAlert("Revisa que hayas llenado todos los campos obligatorios.","info"),!1}return!0}showAlert(i,t){p().fire({position:"center",icon:t,title:i,showConfirmButton:!1,timer:2e3})}loadingUpdate(){this.edit=!0,this.onlySee=!1,this.miFormulario.enable(),this.validatorPostCode(),this.validatorPostCodeJob(),this.enableDisableFormFields(!1),this.beneficiaryUpdateId=this.beneficiaries[1].id}}return(o=r).\u0275fac=function(i){return new(i||o)(e.Y36(m.F0),e.Y36(a.qu),e.Y36(q.c),e.Y36(m.gz),e.Y36(h.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-form-parent"]],decls:173,vars:41,consts:[["id","mainVisitor",1,"main"],[1,"row"],[1,"col-10","offset-1","content-center"],[1,"pagetitle"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],[1,"breadcrumb-item","active"],[1,"pagetitle","flex-container"],[3,"routerLink"],[1,"glyphicon","glyphicon-chevron-left"],[1,"bi","bi-arrow-left"],[3,"routerLink",4,"ngIf"],[1,"section"],[1,"col-lg-12"],[1,"card"],["class","alert alert-warning alert-dismissible fade show","role","alert",4,"ngIf"],[4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-9","col-md-6","col-lg-6"],[1,"form-label","required"],["type","text","formControlName","curp",1,"form-control",3,"input"],["class","form-text text-danger",4,"ngIf"],[1,"mt-1"],[1,"col-12","col-md-6","col-lg-6"],["type","email","formControlName","nombre",1,"form-control"],["class","form-text text-danger form",4,"ngIf"],["formControlName","apaterno",1,"form-control"],["formControlName","amaterno",1,"form-control"],["type","date","placeholder","Ejemplo de formato 2022-11-04","formControlName","fechanacimiento",1,"form-control"],[1,"col-12","col-md-6","col-lg-4"],["formControlName","sexo",1,"form-control"],["value",""],["value","1"],["value","2"],["formControlName","parentesco",1,"form-control"],["formControlName","tipo_sangre",1,"form-control"],["value","A+"],["value","A-"],["value","B+"],["value","B-"],["value","AB+"],["value","AB-"],["value","O+"],["value","O-"],["formControlName","estado_civil",1,"form-control"],["value","0"],["class","col-12 col-md-6 col-lg-4",4,"ngIf","ngIfElse"],["lugarNacimiento",""],["formControlName","escolaridad",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"col-10","col-md-6","col-lg-6"],["type","text","formControlName","codigopostal","maxlength","5","pattern","[0-9]{5}","placeholder","Ejemplo: 45100",1,"form-control"],["class","col-12 col-md-6 col-lg-6 align-self-end",4,"ngIf"],["class","col-1 align-self-end",4,"ngIf"],["class","col-12 col-md-6 col-lg-6",4,"ngIf"],["class","col-12 col-md-3 col-lg-3",4,"ngIf"],["class","col-12 col-md-6 col-lg-4",4,"ngIf"],["class","col-6 col-md-6 col-lg-4",4,"ngIf","ngIfElse"],["estado",""],["municipio",""],["colonia",""],[1,"col-12","col-md-12","col-lg-12"],["formControlName","lugar_trabajo",1,"form-control"],["formControlName","codigo_trabajo","maxlength","5","pattern","[0-9]{5}","placeholder","Ejemplo: 45100",1,"form-control"],["class","row",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"bi","bi-arrow-right"],[1,"glyphicon","glyphicon-chevron-right"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"bi","bi-exclamation-triangle"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["role","alert",1,"alert","alert-primary","alert-dismissible","fade","show","d-flex","align-items-center"],["type","button",1,"btn","btn-sm","btn-primary",2,"margin-left","5px",3,"click"],[1,"bi","bi-pencil"],["type","button","data-bs-dismiss","alert","aria-label","Cerrar",1,"btn-close"],[1,"form-text","text-danger"],[1,"form-text","text-danger","form"],["formControlName","lugar_nacimiento",1,"form-control"],[3,"value"],[1,"col-12","col-md-6","col-lg-6","align-self-end"],["type","button",1,"btn","btn-md","btn-success","mt-1",3,"click"],[1,"col-1","align-self-end"],["type","button",1,"btn","btn-md","btn-danger","mt-1",3,"click"],[1,"bi","bi-arrow-90deg-left"],["type","text","formControlName","calle",1,"form-control"],[1,"col-12","col-md-3","col-lg-3"],["type","number","formControlName","numext",1,"form-control"],[1,"form-label"],["type","text","formControlName","numint",1,"form-control"],["type","text","formControlName","primercruce",1,"form-control"],["type","text","formControlName","segundocruce",1,"form-control"],[1,"col-6","col-md-6","col-lg-4"],["formControlName","estado",1,"form-control"],["value","Jalisco"],["formControlName","municipio",1,"form-control"],["value","Zapopan"],["value","Guadalajara"],["value","San Pedro Tlaquepaque"],["value","Tonala"],["value","Tlajomulco de Zu\xf1iga"],["value","Zapotlanejo"],["value","El Salto"],["value","Acatlan de Juarez"],["value","El Arenal"],["formControlName","colonia",1,"form-control"],["formControlName","colonia_name",1,"form-control"],["type","text","formControlName","celular","maxlength","10","pattern","[0-9]{10}","placeholder","Ejemplo: 5512345678",1,"form-control"],["formControlName","calle_trabajo",1,"form-control"],[1,"col-12","col-md-6","col-lg-3"],["formControlName","numext_trabajo",1,"form-control"],["formControlName","numint_trabajo",1,"form-control"],["formControlName","primer_cruce_trabajo",1,"form-control"],["formControlName","segundo_cruce_trabajo",1,"form-control"],["formControlName","municipio_trabajo",1,"form-control"],["colonia_trabajo",""],["type","text","formControlName","telefono_trabajo","maxlength","10","pattern","[0-9]{10}","placeholder","Ejemplo: 5512345678",1,"form-control"],["type","text","formControlName","telefono_ext_trabajo","maxlength","8","placeholder","Ejemplo: 3101",1,"form-control"],["formControlName","employee_number",1,"form-control"],["formControlName","puesto",1,"form-control"],["formControlName","antiguedad",1,"form-control"],["value","1 MES - 5 MESES"],["value","6 MESES - 1 A\xd1O"],["value","1 A\xd1O - 3 A\xd1OS"],["value","4 A\xd1OS - 6 A\xd1OS"],["value","MAS DE 6 A\xd1OS"],["formControlName","jefe_inmediato",1,"form-control"],["type","time","formControlName","entrada_trabajo",1,"form-control"],["type","time","formControlName","salida_trabajo",1,"form-control"],["formControlName","colonia_trabajo",1,"form-control"],["formControlName","colonia_name_trabajo",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-success"],["type","submit",1,"btn","btn-primary"]],template:function(i,t){if(1&i&&(e.TgZ(0,"app-visitor")(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e._uU(6,"Formulario Del Trabajador"),e.qZA(),e.TgZ(7,"nav")(8,"ol",4)(9,"li",5)(10,"a",6),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",7),e._uU(13,"Formulario Del Trabajador"),e.qZA()()(),e.TgZ(14,"div",8)(15,"a",9),e._UZ(16,"span",10)(17,"i",11),e._uU(18," Regresar "),e.qZA(),e.YNc(19,C,4,1,"a",12),e.qZA()(),e.TgZ(20,"section",13)(21,"div",1)(22,"div",14)(23,"div",15),e.YNc(24,T,9,3,"div",16),e.YNc(25,A,12,3,"div",17),e.TgZ(26,"div",18)(27,"h5",19),e._uU(28,"Informaci\xf3n del trabajador (padre o madre)"),e.qZA(),e.TgZ(29,"form",20),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(30,"div",21)(31,"label",22),e._uU(32,"Ingresar CURP"),e.qZA(),e.TgZ(33,"input",23),e.NdJ("input",function(){return t.miFormulario.controls.curp.setValue(t.miFormulario.controls.curp.value.toUpperCase())}),e.qZA(),e.YNc(34,x,2,0,"span",24),e.qZA(),e.TgZ(35,"div",1),e._UZ(36,"hr",25),e.TgZ(37,"h5"),e._uU(38,"Datos Generales"),e.qZA(),e.TgZ(39,"div",26)(40,"label",22),e._uU(41,"Nombre"),e.qZA(),e._UZ(42,"input",27),e.YNc(43,U,2,0,"span",28),e.qZA(),e.TgZ(44,"div",26)(45,"label",22),e._uU(46,"Apellido Paterno"),e.qZA(),e._UZ(47,"input",29),e.YNc(48,I,2,0,"span",28),e.qZA(),e.TgZ(49,"div",26)(50,"label",22),e._uU(51,"Apellido Materno"),e.qZA(),e._UZ(52,"input",30),e.YNc(53,N,2,0,"span",28),e.qZA(),e.TgZ(54,"div",26)(55,"label",22),e._uU(56,"Fecha de nacimiento"),e.qZA(),e._UZ(57,"input",31),e.YNc(58,P,2,0,"span",28),e.qZA(),e.TgZ(59,"div",32)(60,"label",22),e._uU(61,"Sexo"),e.qZA(),e.TgZ(62,"select",33)(63,"option",34),e._uU(64,"-Seleccionar-"),e.qZA(),e.TgZ(65,"option",35),e._uU(66,"Hombre"),e.qZA(),e.TgZ(67,"option",36),e._uU(68,"Mujer"),e.qZA()(),e.YNc(69,J,2,0,"span",28),e.qZA(),e.TgZ(70,"div",32)(71,"label",22),e._uU(72,"Parentesco"),e.qZA(),e.TgZ(73,"select",37)(74,"option",34),e._uU(75,"-Seleccionar-"),e.qZA(),e.TgZ(76,"option",35),e._uU(77,"PADRE"),e.qZA(),e.TgZ(78,"option",36),e._uU(79,"MADRE"),e.qZA()(),e.YNc(80,y,2,0,"span",28),e.qZA(),e.TgZ(81,"div",32)(82,"label",22),e._uU(83,"Tipo de Sangre"),e.qZA(),e.TgZ(84,"select",38)(85,"option",34),e._uU(86,"-Seleccionar-"),e.qZA(),e.TgZ(87,"option",39),e._uU(88,"A+"),e.qZA(),e.TgZ(89,"option",40),e._uU(90,"A-"),e.qZA(),e.TgZ(91,"option",41),e._uU(92,"B+"),e.qZA(),e.TgZ(93,"option",42),e._uU(94,"B-"),e.qZA(),e.TgZ(95,"option",43),e._uU(96,"AB+"),e.qZA(),e.TgZ(97,"option",44),e._uU(98,"AB-"),e.qZA(),e.TgZ(99,"option",45),e._uU(100,"O+"),e.qZA(),e.TgZ(101,"option",46),e._uU(102,"O-"),e.qZA()(),e.YNc(103,j,2,0,"span",28),e.qZA(),e.TgZ(104,"div",32)(105,"label",22),e._uU(106," Estado civil"),e.qZA(),e.TgZ(107,"select",47)(108,"option",34),e._uU(109,"-Seleccionar-"),e.qZA(),e.TgZ(110,"option",35),e._uU(111,"Casado(a)"),e.qZA(),e.TgZ(112,"option",48),e._uU(113,"Soltero(a)"),e.qZA()(),e.YNc(114,S,2,0,"span",28),e.qZA(),e.YNc(115,k,8,2,"div",49),e.YNc(116,Y,4,0,"ng-template",null,50,e.W1O),e.TgZ(118,"div",32)(119,"label",22),e._uU(120,"Escolaridad"),e.qZA(),e.TgZ(121,"select",51)(122,"option",34),e._uU(123,"-Seleccionar-"),e.qZA(),e.YNc(124,Q,2,2,"option",52),e.qZA(),e.YNc(125,E,2,0,"span",28),e.qZA(),e._UZ(126,"hr",25),e.TgZ(127,"h5"),e._uU(128,"Datos de Direccion"),e.qZA(),e.TgZ(129,"div",53)(130,"label",22),e._uU(131,"C\xf3digo Postal"),e.qZA(),e._UZ(132,"input",54),e.YNc(133,M,2,0,"span",24),e.qZA(),e.YNc(134,O,3,0,"div",55),e.YNc(135,V,3,0,"div",56),e.YNc(136,z,5,1,"div",57),e.YNc(137,H,5,1,"div",58),e.YNc(138,R,4,0,"div",58),e.YNc(139,K,5,1,"div",59),e.YNc(140,W,4,0,"div",59),e.YNc(141,X,9,1,"div",60),e.YNc(142,ee,4,0,"ng-template",null,61,e.W1O),e.YNc(144,te,25,1,"div",60),e.YNc(145,ie,4,0,"ng-template",null,62,e.W1O),e.YNc(147,ae,8,2,"div",49),e.YNc(148,le,4,0,"ng-template",null,63,e.W1O),e.YNc(150,ue,5,1,"div",59),e.qZA(),e.TgZ(151,"div",1),e._UZ(152,"hr",25),e.TgZ(153,"h5"),e._uU(154,"Datos Trabajo"),e.qZA(),e.TgZ(155,"div",64)(156,"label",22),e._uU(157,"Dependencia"),e.qZA(),e.TgZ(158,"select",65)(159,"option",34),e._uU(160,"-Seleccionar-"),e.qZA(),e.YNc(161,se,2,2,"option",52),e.qZA(),e.YNc(162,me,2,0,"span",28),e.qZA(),e.TgZ(163,"div",53)(164,"label",22),e._uU(165,"Codigo Postal de Trabajo"),e.qZA(),e._UZ(166,"input",66),e.YNc(167,de,2,0,"span",28),e.qZA(),e.YNc(168,pe,3,0,"div",55),e.YNc(169,_e,3,0,"div",56),e.YNc(170,Ne,82,12,"div",67),e.qZA(),e.YNc(171,Pe,3,0,"div",68),e.YNc(172,Je,3,0,"div",68),e.qZA()()()()()()()()()()),2&i){const l=e.MAs(117),c=e.MAs(143),s=e.MAs(146),d=e.MAs(149);e.xp6(15),e.Q6J("routerLink","/cisz-guarderia/solicitud/"+t.request_id+"/beneficiario"),e.xp6(4),e.Q6J("ngIf",t.onlySee),e.xp6(5),e.Q6J("ngIf",!t.onlySee),e.xp6(1),e.Q6J("ngIf",!t.edit&&t.onlySee&&(1==(null==t.request?null:t.request.status_request_id)||7==(null==t.request?null:t.request.status_request_id))),e.xp6(4),e.Q6J("formGroup",t.miFormulario),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.curp.invalid&&t.miFormulario.controls.curp.touched),e.xp6(9),e.Q6J("ngIf",t.miFormulario.controls.nombre.errors&&t.miFormulario.controls.nombre.touched),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.apaterno.errors&&t.miFormulario.controls.apaterno.touched),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.amaterno.errors&&t.miFormulario.controls.amaterno.touched),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.fechanacimiento.errors&&t.miFormulario.controls.fechanacimiento.touched),e.xp6(11),e.Q6J("ngIf",t.miFormulario.controls.sexo.errors&&t.miFormulario.controls.sexo.touched),e.xp6(11),e.Q6J("ngIf",t.miFormulario.controls.parentesco.errors&&t.miFormulario.controls.parentesco.touched),e.xp6(23),e.Q6J("ngIf",t.miFormulario.controls.tipo_sangre.errors&&t.miFormulario.controls.tipo_sangre.touched),e.xp6(11),e.Q6J("ngIf",t.miFormulario.controls.estado_civil.errors&&t.miFormulario.controls.estado_civil.touched),e.xp6(1),e.Q6J("ngIf",!t.onlySee)("ngIfElse",l),e.xp6(9),e.Q6J("ngForOf",t.escolaridad),e.xp6(1),e.Q6J("ngIf",t.miFormulario.controls.escolaridad.errors&&t.miFormulario.controls.escolaridad.touched),e.xp6(8),e.Q6J("ngIf",t.miFormulario.controls.codigopostal.invalid&&t.miFormulario.controls.codigopostal.touched),e.xp6(1),e.Q6J("ngIf",!t.postalCode&&!t.onlySee),e.xp6(1),e.Q6J("ngIf",t.postalCode&&!t.onlySee),e.xp6(1),e.Q6J("ngIf",1==t.postalCode),e.xp6(1),e.Q6J("ngIf",1==t.postalCode),e.xp6(1),e.Q6J("ngIf",1==t.postalCode),e.xp6(1),e.Q6J("ngIf",1==t.postalCode),e.xp6(1),e.Q6J("ngIf",1==t.postalCode),e.xp6(1),e.Q6J("ngIf",t.postalCode&&!t.onlySee)("ngIfElse",c),e.xp6(3),e.Q6J("ngIf",t.postalCode&&!t.onlySee)("ngIfElse",s),e.xp6(3),e.Q6J("ngIf",t.postalCode&&!t.onlySee)("ngIfElse",d),e.xp6(3),e.Q6J("ngIf",1==t.postalCode),e.xp6(11),e.Q6J("ngForOf",t.dependences),e.xp6(1),e.Q6J("ngIf",t.miFormulario.controls.lugar_trabajo.errors&&t.miFormulario.controls.lugar_trabajo.touched),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.codigo_trabajo.errors&&t.miFormulario.controls.codigo_trabajo.touched),e.xp6(1),e.Q6J("ngIf",!t.postalCodeJob&&!t.onlySee),e.xp6(1),e.Q6J("ngIf",t.postalCodeJob&&!t.onlySee),e.xp6(1),e.Q6J("ngIf",1==t.postalCodeJob),e.xp6(1),e.Q6J("ngIf",!t.edit&&!t.onlySee),e.xp6(1),e.Q6J("ngIf",t.edit&&!t.onlySee)}},dependencies:[_.sg,_.O5,m.rH,v.C,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.nD,a.c5,a.sg,a.u],styles:['.card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:5px}.required[_ngcontent-%COMP%]:after{content:"*";color:red}',".flex-container[_ngcontent-%COMP%] {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }"]}),r})();var je=u(7685);const Se=["fileInput"],De=["fileInput2"];function we(o,r){if(1&o&&(e.TgZ(0,"a",9),e._uU(1," Siguiente "),e._UZ(2,"i",17)(3,"span",18),e.qZA()),2&o){const n=e.oxw();e.Q6J("routerLink","/cisz-guarderia/solicitud/"+n.request_id+"/referencia")}}function ke(o,r){if(1&o&&(e.TgZ(0,"div",42),e._UZ(1,"img",43),e.TgZ(2,"p"),e._uU(3),e.qZA()()),2&o){const n=e.oxw(2);e.xp6(1),e.Q6J("src",n.selectedFilePreview,e.LSH),e.xp6(2),e.Oqu(n.selectedFileName)}}function Ye(o,r){1&o&&(e.TgZ(0,"div",44)(1,"p"),e._uU(2,"Arrastra o selecciona un archivo"),e.qZA()())}function Qe(o,r){if(1&o&&(e.TgZ(0,"div",42),e._UZ(1,"img",43),e.TgZ(2,"p"),e._uU(3),e.qZA()()),2&o){const n=e.oxw(2);e.xp6(1),e.Q6J("src",n.selectedFilePreview2,e.LSH),e.xp6(2),e.Oqu(n.selectedFileName2)}}function Ee(o,r){1&o&&(e.TgZ(0,"div",44)(1,"p"),e._uU(2,"Arrastra o selecciona un archivo"),e.qZA()())}function Me(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"div",19)(1,"div",20)(2,"strong"),e._UZ(3,"i",21),e._uU(4," Alerta!"),e.qZA(),e._uU(5),e._UZ(6,"button",22),e.qZA(),e.TgZ(7,"div",23)(8,"h5",24),e._uU(9),e.qZA(),e.TgZ(10,"h5",25)(11,"a",26),e._UZ(12,"i",27),e._uU(13," Descarga aqu\xed el formato de carta intenci\xf3n."),e.qZA()(),e.TgZ(14,"form",28),e.NdJ("ngSubmit",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.onSubmit())}),e.TgZ(15,"div",29)(16,"label",30),e._uU(17,"Subir tu carta intenci\xf3n llena:"),e.qZA(),e.TgZ(18,"div",31),e.NdJ("dragover",function(t){e.CHM(n);const l=e.oxw();return e.KtG(l.onDragOver(t))})("drop",function(t){e.CHM(n);const l=e.oxw();return e.KtG(l.onDrop(t))})("click",function(){e.CHM(n);const t=e.MAs(20);return e.KtG(t.click())}),e.TgZ(19,"input",32,33),e.NdJ("change",function(t){e.CHM(n);const l=e.oxw();return e.KtG(l.onFileSelected(t))})("drop",function(t){e.CHM(n);const l=e.oxw();return e.KtG(l.onFileSelected(t))}),e.qZA(),e.YNc(21,ke,4,2,"div",34),e.YNc(22,Ye,3,0,"div",35),e.qZA(),e.TgZ(23,"small",36),e._uU(24,"Formatos permitidos: PDF, DOC y DOCX"),e.qZA()(),e.TgZ(25,"div",29)(26,"label",37),e._uU(27,"Subir INE o credencial de trabajo del trabajador:"),e.qZA(),e.TgZ(28,"div",31),e.NdJ("dragover",function(t){e.CHM(n);const l=e.oxw();return e.KtG(l.onDragOver2(t))})("drop",function(t){e.CHM(n);const l=e.oxw();return e.KtG(l.onDrop2(t))})("click",function(){e.CHM(n);const t=e.MAs(30);return e.KtG(t.click())}),e.TgZ(29,"input",38,39),e.NdJ("change",function(t){e.CHM(n);const l=e.oxw();return e.KtG(l.onFileSelected2(t))})("drop",function(t){e.CHM(n);const l=e.oxw();return e.KtG(l.onFileSelected2(t))}),e.qZA(),e.YNc(31,Qe,4,2,"div",34),e.YNc(32,Ee,3,0,"div",35),e.qZA(),e.TgZ(33,"small",36),e._uU(34,"Formatos permitidos: JPG, JPEG y PNG"),e.qZA()(),e.TgZ(35,"div",40)(36,"button",41),e._uU(37,"Guardar Documentos"),e.qZA()()()()()}if(2&o){const n=e.oxw();e.xp6(5),e.lnq(" La documentaci\xf3n del formulario es exclusivamente para el trabajador ",null==n.undocumentedBeneficiaries[0]?null:n.undocumentedBeneficiaries[0].nombre," ",null==n.undocumentedBeneficiaries[0]?null:n.undocumentedBeneficiaries[0].apaterno," ",null==n.undocumentedBeneficiaries[0]?null:n.undocumentedBeneficiaries[0].amaterno,". "),e.xp6(4),e.lnq("Documentaci\xf3n de ",null==n.undocumentedBeneficiaries[0]?null:n.undocumentedBeneficiaries[0].nombre," ",null==n.undocumentedBeneficiaries[0]?null:n.undocumentedBeneficiaries[0].apaterno," ",null==n.undocumentedBeneficiaries[0]?null:n.undocumentedBeneficiaries[0].amaterno,"."),e.xp6(12),e.Q6J("ngIf",n.selectedFileName),e.xp6(1),e.Q6J("ngIf",!n.selectedFileName),e.xp6(9),e.Q6J("ngIf",n.selectedFileName2),e.xp6(1),e.Q6J("ngIf",!n.selectedFileName2)}}function Oe(o,r){if(1&o&&(e.TgZ(0,"div",19)(1,"div",23)(2,"h5",24),e._uU(3),e.qZA(),e.TgZ(4,"div",40),e._UZ(5,"i",45),e.qZA()()()),2&o){const n=r.$implicit;e.xp6(3),e.lnq("Documentaci\xf3n de ",null==n?null:n.nombre," ",null==n?null:n.apaterno," ",null==n?null:n.amaterno," subida correctamente.")}}const Be=[{path:"",children:[{path:"solicitud/:id/beneficiario",component:b.i},{path:"beneficiario/:beneficiary/:id",component:b.i},{path:"solicitud/:id/padres",component:ye},{path:"solicitud/:id/referencia",component:je.s},{path:"solicitud/:id/documentos",component:(()=>{var o;class r{constructor(i,t,l,c){this.router=i,this.fb=t,this.route=l,this.allVisitorService=c,this.miFormulario=this.fb.group({request_id:["",a.kI.required],employee_id:[null,a.kI.required],document_cisz:[null,a.kI.required],beneficiary_id:[null,a.kI.required]}),this.beneficiaries=[],this.undocumentedBeneficiaries=[],this.beneficiariesComplet=[],this.onlySee=!1,this.selectedFileName=null,this.selectedFilePreview=null,this.selectedFileName2=null,this.selectedFilePreview2=null}ngOnInit(){this.initTable()}initTable(){this.route.params.subscribe(i=>{const t=i.id;this.request_id=i.id,this.miFormulario.patchValue({request_id:i.id}),t&&this.allVisitorService.showParentsVisitor(t).subscribe({next:l=>{console.log(l),this.undocumentedBeneficiaries=l.undocumentedBeneficiary,this.beneficiariesComplet=l.beneficiariesComplet}})})}onDragOver(i){i.preventDefault()}onDrop(i){i.preventDefault(),this.onFileSelected({target:{files:i.dataTransfer?.files||[]}})}onFileSelected(i){const t=i.target.files||i.dataTransfer.files;if(t.length>0){const l=t[0];if(this.miFormulario.patchValue({document_cisz:l}),this.selectedFileName=l.name,l.type.startsWith("image/")){const c=new FileReader;c.onload=s=>{this.selectedFilePreview=s.target.result},c.readAsDataURL(l)}else this.selectedFilePreview=null}}handleFiles(i){}onDragOver2(i){i.preventDefault()}onDrop2(i){i.preventDefault(),this.onFileSelected2({target:{files:i.dataTransfer?.files||[]}})}onFileSelected2(i){const t=i.target.files||i.dataTransfer.files;if(t.length>0){const l=t[0];if(this.miFormulario.patchValue({employee_id:l}),this.selectedFileName2=l.name,l.type.startsWith("image/")){const c=new FileReader;c.onload=s=>{this.selectedFilePreview2=s.target.result},c.readAsDataURL(l)}else this.selectedFilePreview2=null}}handleFiles2(i){}onSubmit(){if(this.miFormulario.patchValue({beneficiary_id:this.undocumentedBeneficiaries[0]?.id}),this.miFormulario.invalid)return this.miFormulario.markAsTouched();const i=new FormData;i.append("request_id",this.miFormulario.get("request_id").value),i.append("beneficiary_id",this.miFormulario.get("beneficiary_id").value),i.append("employee_id",this.miFormulario.get("employee_id").value),i.append("document_cisz",this.miFormulario.get("document_cisz").value),p().fire({position:"center",icon:"info",title:"Estos documentos no se podran modificar \xbfquieres continuar?",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Continuar",cancelButtonText:"No"}).then(t=>{if(t.isConfirmed)this.allVisitorService.uploadFileWithFormDataCisz(i).subscribe({next:l=>{200==l.code?(p().fire({position:"center",icon:"question",title:"Documentos de trabajador guardados correctamente \xbfquieres continuar con las referencias personales?",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(c=>{if(c.isConfirmed)this.router.navigateByUrl("/cisz-guarderia/solicitud/"+this.request_id+"/referencia");else if(c.isDenied)return}),this.miFormulario.reset(),this.initTable(),this.fileInput.nativeElement.value="",this.fileInput2.nativeElement.value="",this.selectedFileName=null,this.selectedFileName2=null,this.selectedFilePreview=null,this.selectedFilePreview2=null):p().fire({position:"center",icon:"warning",title:l.message,showConfirmButton:!0})},error:l=>{console.log(l),p().fire({position:"center",icon:"error",title:l,showConfirmButton:!1,timer:2e3})}});else if(t.isDenied)return})}}return(o=r).\u0275fac=function(i){return new(i||o)(e.Y36(m.F0),e.Y36(a.qu),e.Y36(m.gz),e.Y36(h.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-form-documents"]],viewQuery:function(i,t){if(1&i&&(e.Gf(Se,5),e.Gf(De,5)),2&i){let l;e.iGM(l=e.CRH())&&(t.fileInput=l.first),e.iGM(l=e.CRH())&&(t.fileInput2=l.first)}},decls:26,vars:4,consts:[["id","mainVisitor",1,"main"],[1,"row"],[1,"col-10","offset-1","content-center"],[1,"pagetitle"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],[1,"breadcrumb-item","active"],[1,"pagetitle","flex-container"],[3,"routerLink"],[1,"glyphicon","glyphicon-chevron-left"],[1,"bi","bi-arrow-left"],[3,"routerLink",4,"ngIf"],[1,"section"],[1,"col-lg-12"],["class","card",4,"ngIf"],["class","card",4,"ngFor","ngForOf"],[1,"bi","bi-arrow-right"],[1,"glyphicon","glyphicon-chevron-right"],[1,"card"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","text-justify"],[1,"bi","bi-exclamation-triangle"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],[1,"card-body"],[1,"card-title"],[1,"text-end"],["href","assets/img/Carta intenci\xf3n NIDOCISZ.docx","download",""],[1,"bi","bi-arrow-down-circle"],[1,"row","g-3",3,"ngSubmit"],[1,"col-12"],["for","fileInput",1,"form-label"],[1,"drop-zone",3,"dragover","drop","click"],["type","file","accept",".pdf, .docx",1,"visually-hidden",3,"change","drop"],["fileInput",""],["class","preview-container",4,"ngIf"],["class","file-input-placeholder",4,"ngIf"],[1,"form-text","text-muted"],["for","fileInput2",1,"form-label"],["type","file","accept",".jpg, .jpeg, .png",1,"visually-hidden",3,"change","drop"],["fileInput2",""],[1,"text-center"],["type","submit",1,"btn","btn-success"],[1,"preview-container"],["alt","Archivo seleccionado",1,"preview-image",3,"src"],[1,"file-input-placeholder"],[1,"bi","bi-check-lg","my-icon"]],template:function(i,t){1&i&&(e.TgZ(0,"app-visitor")(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e._uU(6,"Documentos"),e.qZA(),e.TgZ(7,"nav")(8,"ol",4)(9,"li",5)(10,"a",6),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",7),e._uU(13,"Documentos"),e.qZA()()(),e.TgZ(14,"div",8)(15,"a",9),e._UZ(16,"span",10)(17,"i",11),e._uU(18," Regresar "),e.qZA(),e.YNc(19,we,4,1,"a",12),e.qZA()(),e.TgZ(20,"section",13)(21,"div",1)(22,"div",14),e.YNc(23,Me,38,10,"div",15),e.qZA(),e.TgZ(24,"div",14),e.YNc(25,Oe,6,3,"div",16),e.qZA()()()()()()()),2&i&&(e.xp6(15),e.Q6J("routerLink","/cisz-guarderia/solicitud/"+t.request_id+"/padres"),e.xp6(4),e.Q6J("ngIf",0==t.undocumentedBeneficiaries.length),e.xp6(4),e.Q6J("ngIf",t.undocumentedBeneficiaries.length>0),e.xp6(2),e.Q6J("ngForOf",t.beneficiariesComplet))},dependencies:[_.sg,_.O5,m.rH,v.C,a._Y,a.JL,a.F],styles:[".drop-zone[_ngcontent-%COMP%]{border:2px dashed #4154f1;padding:20px;text-align:center;cursor:pointer;position:relative}.file-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:120px}.preview-container[_ngcontent-%COMP%]{margin-top:10px}.preview-image[_ngcontent-%COMP%]{max-width:100%;max-height:200px;margin-bottom:5px}.file-input-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .file-input-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.file-input-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80px;margin-bottom:10px}",".flex-container[_ngcontent-%COMP%] {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n\n        .my-icon[_ngcontent-%COMP%] {\n            color: green;\n            font-size: 50px;\n        }"]}),r})()},{path:"**",redirectTo:"home"}]}];let ze=(()=>{var o;class r{}return(o=r).\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(Be),m.Bz]}),r})();var Ge=u(2761),He=u(195);let Re=(()=>{var o;class r{}return(o=r).\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.ez,ze,Ge.VisitorModule,a.UX,a.u5,He.CrecheModule]}),r})()}}]);