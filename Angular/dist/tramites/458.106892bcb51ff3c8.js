"use strict";(self.webpackChunkTramites=self.webpackChunkTramites||[]).push([[458],{2514:(C,F,p)=>{p.d(F,{e:()=>h});var _=p(9862),d=p(6306),n=p(553),v=p(4946);let h=(()=>{var e;class f{constructor(r){this.http=r,this.baseUrl=n.N.baseUrl}setSelections(r,l,g,Z){this.procedure=r,this.job_position=l,this.dependence_id=g,this.employee_number=Z}clearProcedure(){this.procedure=null}clearCenter(){this.center=null}clearRoom(){this.room=null}clearJob_position(){this.job_position=null}clearDependence_id(){this.dependence_id=null}clearEmployee_number(){this.employee_number=null}getProcedure(){return this.procedure}getCenter(){return this.center}getRoom(){return this.room}getJob_position(){return this.job_position}getDependence_id(){return this.dependence_id}getEmployee_number(){return this.employee_number}indexRequestVisitor(){return this.http.get(`${this.baseUrl}/visitor/request`)}showBeneficiaryVisitor(r){return this.http.get(`${this.baseUrl}/beneficiary/`+r)}showParentsVisitor(r){return this.http.get(`${this.baseUrl}/request/parents/document/`+r)}showParents(r){return this.http.get(`${this.baseUrl}/request/parents/`+r)}showHousingVisitor(r){return this.http.get(`${this.baseUrl}/request/housing/show/`+r)}showReferencesVisitor(r){return this.http.get(`${this.baseUrl}/request/references/show/`+r)}getBeneficiariesRequest(r){return this.http.get(`${this.baseUrl}/request/beneficiary/`+r)}getAddressRequest(r){return this.http.get(`${this.baseUrl}/request/address/`+r)}getDocumentsProcedure(r){return this.http.get(`${this.baseUrl}/request/beneficiary/`+r)}createHousingRequest(r){return this.http.post(`${this.baseUrl}/request/housing/create`,r)}createReferencesRequest(r){return this.http.post(`${this.baseUrl}/request/references/create`,r)}changeStatusRequest(r){return this.http.post(`${this.baseUrl}/request/update/status`,r)}showRequest(r){return this.http.get(`${this.baseUrl}/request/show/`+r)}uploadFileWithFormData(r){const l=new _.WM({"Content-Type":"multipart/form-data"});return this.http.post(`${this.baseUrl}/beneficiary/upload`,r,{headers:l}).pipe((0,d.K)(g=>{throw console.error("Error en la solicitud:",g),g}))}uploadFileWithFormDataCisz(r){const l=new _.WM({"Content-Type":"multipart/form-data"});return this.http.post(`${this.baseUrl}/beneficiary/upload/cisz`,r,{headers:l}).pipe((0,d.K)(g=>{throw console.error("Error en la solicitud:",g),g}))}storeRequest(r){return this.http.post(`${this.baseUrl}/request/create`,r)}getDataDiscipline(){return this.http.get(`${this.baseUrl}/catalog/discipline`)}getDataCompetition(){return this.http.get(`${this.baseUrl}/catalog/competition`)}getDataCountryStates(r){return this.http.get(`${this.baseUrl}/catalog/country-state/${r}`)}storeCompetition(r){return this.http.post(`${this.baseUrl}/request/competitions/store`,r)}getCompetition(r){return this.http.get(`${this.baseUrl}/request/competitions/show/${r}`)}storeBankAccount(r){return this.http.post(`${this.baseUrl}/request/bank-account/store`,r)}getBankAccount(r){return this.http.get(`${this.baseUrl}/request/bank-account/show/${r}`)}}return(e=f).\u0275fac=function(r){return new(r||e)(v.LFG(_.eN))},e.\u0275prov=v.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),f})()},8458:(C,F,p)=>{p.r(F),p.d(F,{SportsModule:()=>X});var _=p(6814),d=p(3518),n=p(95),v=p(3519),h=p.n(v),e=p(4946),f=p(2514),b=p(2050);function r(i,s){1&i&&(e.TgZ(0,"div")(1,"div",40)(2,"div",41),e._UZ(3,"i",42),e.TgZ(4,"div")(5,"strong"),e._uU(6,"\xa1Atenci\xf3n!"),e.qZA(),e._uU(7," La informaci\xf3n proporcionada es exclusivamente del evento/competici\xf3n para la cual se pide el apoyo. "),e.qZA()(),e._UZ(8,"button",43),e.qZA()())}function l(i,s){1&i&&(e.TgZ(0,"span",44),e._uU(1," Nombre requerido. "),e.qZA())}function g(i,s){if(1&i&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&i){const a=s.$implicit;e.Q6J("value",a.id),e.xp6(1),e.Oqu(a.name)}}function Z(i,s){1&i&&(e.TgZ(0,"span",44),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function q(i,s){if(1&i&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&i){const a=s.$implicit;e.Q6J("value",a.id),e.xp6(1),e.hij(" ",a.common_spa,"")}}function T(i,s){1&i&&(e.TgZ(0,"span",44),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function A(i,s){if(1&i&&(e.TgZ(0,"option",45),e._uU(1),e.qZA()),2&i){const a=s.$implicit;e.Q6J("value",a.id),e.xp6(1),e.hij(" ",a.name,"")}}function y(i,s){1&i&&(e.TgZ(0,"span",44),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function U(i,s){if(1&i&&(e.TgZ(0,"div",25)(1,"label",22),e._uU(2,"Estado"),e.qZA(),e.TgZ(3,"select",46)(4,"option",27),e._uU(5,"-Seleccionar-"),e.qZA(),e.YNc(6,A,2,2,"option",28),e.qZA(),e.YNc(7,y,2,0,"span",24),e.qZA()),2&i){const a=e.oxw();e.xp6(6),e.Q6J("ngForOf",null==a.catalog?null:a.catalog.countries_state),e.xp6(1),e.Q6J("ngIf",a.miFormulario.controls.countries_state_id.errors&&a.miFormulario.controls.countries_state_id.touched)}}function x(i,s){1&i&&(e.TgZ(0,"span",44),e._uU(1," Nombre requerido. "),e.qZA())}function k(i,s){1&i&&(e.TgZ(0,"span",44),e._uU(1," Nombre requerido. "),e.qZA())}function I(i,s){1&i&&(e.TgZ(0,"span",44),e._uU(1," Nombre requerido. "),e.qZA())}function D(i,s){if(1&i&&(e.TgZ(0,"span",44),e._uU(1),e.qZA()),2&i){const a=e.oxw(2);e.xp6(1),e.AsE(" Tu presupuesto debe de ser entre $",a.debget.minimum_budget," a $",a.debget.maximum_budget,". ")}}function w(i,s){if(1&i&&(e.TgZ(0,"div",25)(1,"label",22),e._uU(2,"Presupuesto solicitado"),e.qZA(),e.TgZ(3,"div",47)(4,"span",48),e._uU(5,"$"),e.qZA(),e._UZ(6,"input",49),e.qZA(),e.YNc(7,D,2,2,"span",24),e.qZA()),2&i){const a=e.oxw();e.xp6(7),e.Q6J("ngIf",a.miFormulario.controls.requested_budget.errors&&a.miFormulario.controls.requested_budget.touched)}}function N(i,s){1&i&&(e.TgZ(0,"span",44),e._uU(1," Nombre requerido. "),e.qZA())}function J(i,s){if(1&i&&(e.TgZ(0,"div",50)(1,"button",51),e._uU(2),e.qZA()()),2&i){const a=e.oxw();e.xp6(1),e.Q6J("ngClass",a.newData?"btn-success":"btn-primary"),e.xp6(1),e.Oqu(a.newData?"Guardar":"Actualizar")}}const P=["fileInput"];function O(i,s){if(1&i&&(e.TgZ(0,"div",39),e._UZ(1,"img",40),e.TgZ(2,"p"),e._uU(3),e.qZA()()),2&i){const a=e.oxw();e.xp6(1),e.Q6J("src",a.selectedFilePreview,e.LSH),e.xp6(2),e.Oqu(a.selectedFileName)}}function B(i,s){1&i&&(e.TgZ(0,"div",41)(1,"p"),e._uU(2,"Arrastra o selecciona un archivo"),e.qZA()())}function M(i,s){if(1&i&&(e.TgZ(0,"div",39),e._UZ(1,"img",40),e.TgZ(2,"p"),e._uU(3),e.qZA()()),2&i){const a=e.oxw();e.xp6(1),e.Q6J("src",a.selectedFilePreview,e.LSH),e.xp6(2),e.Oqu(a.selectedFileName)}}function Q(i,s){1&i&&(e.TgZ(0,"div",41)(1,"p"),e._uU(2,"Arrastra o selecciona un archivo"),e.qZA()())}function E(i,s){if(1&i&&(e.TgZ(0,"a",9),e._uU(1," Siguiente "),e._UZ(2,"i",31)(3,"span",32),e.qZA()),2&i){const a=e.oxw();e.Q6J("routerLink","/solicitante/beca-deportiva/"+a.request_id+"/documentacion")}}function R(i,s){1&i&&(e.TgZ(0,"div")(1,"div",33)(2,"div",34),e._UZ(3,"i",35),e.TgZ(4,"div")(5,"strong"),e._uU(6,"\xa1Atenci\xf3n!"),e.qZA(),e._uU(7," La informaci\xf3n ingresada es de caracter delicado, favor de retificar la informaci\xf3n con cuidado. "),e.qZA()(),e._UZ(8,"button",36),e.qZA()())}function L(i,s){1&i&&(e.TgZ(0,"span",37),e._uU(1," N\xfamero de cuenta requerido con logitud de 8 a 18 n\xfameros. "),e.qZA())}function V(i,s){1&i&&(e.TgZ(0,"span",37),e._uU(1," N\xfamero de cuenta clabe requerido con logitud de 18 n\xfameros. "),e.qZA())}function $(i,s){1&i&&(e.TgZ(0,"span",37),e._uU(1," Nombre completo del titular de la cuenta requerido. "),e.qZA())}function j(i,s){1&i&&(e.TgZ(0,"span",38),e._uU(1,"(debe ser reconocido en M\xe9xico)"),e.qZA())}function z(i,s){1&i&&(e.TgZ(0,"span",37),e._uU(1," Banco requerido. "),e.qZA())}function G(i,s){if(1&i&&(e.TgZ(0,"div",39)(1,"button",40),e._uU(2),e.qZA()()),2&i){const a=e.oxw();e.xp6(1),e.Q6J("ngClass",a.newData?"btn-success":"btn-primary"),e.xp6(1),e.Oqu(a.newData?"Guardar":"Actualizar")}}const H=[{path:"",children:[{path:":id/competicion",component:(()=>{var i;class s{constructor(o,t,c,u){this.router=o,this.fb=t,this.route=c,this.allService=u,this.newData=!0,this.onlySee=!1,this.edit=!1,this.miFormulario=this.fb.group({request_id:["",[n.kI.required]],name:["",[n.kI.required]],country_id:[{value:"",disabled:!0},[n.kI.required]],countries_state_id:["",[n.kI.required]],start_date:["",[n.kI.required]],ending_date:["",[n.kI.required]],classify:["",[n.kI.required]],justification:["",[n.kI.required]],requested_budget:["",[n.kI.required,n.kI.min(500),n.kI.max(2e4)]],competition_type_id:["",[n.kI.required]]}),this.miFormulario.get("competition_type_id")?.valueChanges.subscribe(m=>{(this.newData||this.edit)&&this.select(m)})}ngOnInit(){this.getDataCompetition(),this.obtenerURLPrincipal(),this.route.params.subscribe(t=>{const c=t.id;this.miFormulario.patchValue({request_id:c}),c&&this.showConpetition(c)}),["requested_budget"].forEach(t=>{this.subscribeToNumberFieldChanges(t)})}subscribeToNumberFieldChanges(o){this.miFormulario.get(o).valueChanges.subscribe(t=>{if(!isNaN(parseFloat(t))&&isFinite(t))return;const c=t.replace(/\D/g,"");this.miFormulario.get(o).setValue(c,{emitEvent:!1})})}select(o){1==o?(this.miFormulario.patchValue({country_id:120,countries_state_id:2632}),this.debget={minimum_budget:500,maximum_budget:2500},this.getDataCountryStates(),this.validatorTypeCompetition(o)):2==o?(this.miFormulario.patchValue({country_id:120,countries_state_id:null}),this.debget={minimum_budget:5e3,maximum_budget:1e4},this.getDataCountryStates(),this.validatorTypeCompetition(o)):(this.debget={minimum_budget:5e3,maximum_budget:2e4},this.miFormulario.patchValue({country_id:null,countries_state_id:null}),this.validatorTypeCompetition(o))}validatorTypeCompetition(o){1==o?(this.miFormulario.get("country_id").disable(),this.miFormulario.get("countries_state_id").disable(),this.miFormulario.get("countries_state_id").setValidators(n.kI.required),this.miFormulario.get("countries_state_id").updateValueAndValidity()):2==o?(this.miFormulario.get("country_id").disable(),this.miFormulario.get("countries_state_id").enable(),this.miFormulario.get("countries_state_id").setValidators(n.kI.required),this.miFormulario.get("countries_state_id").updateValueAndValidity()):(this.miFormulario.get("country_id").enable(),this.miFormulario.get("countries_state_id").enable(),this.miFormulario.get("countries_state_id").clearValidators(),this.miFormulario.get("countries_state_id").updateValueAndValidity())}obtenerURLPrincipal(){const t=this.router.url.split("/");this.urlPrincipal="/"+t[1]}getDataCompetition(){this.allService.getDataCompetition().subscribe({next:o=>{this.catalog=o}})}showConpetition(o){this.allService.getCompetition(o).subscribe({next:t=>{t.id&&(this.onlySee=!0,this.newData=!1,this.populateForm(t),this.handleForm(t))}})}populateForm(o){this.miFormulario.patchValue({name:o.name,country_id:o.country_id,countries_state_id:o.countries_state_id,start_date:o.start_date,ending_date:o.ending_date,classify:o.classify,justification:o.justification,requested_budget:o.requested_budget,competition_type_id:o.competition_type_id}),this.getDataCountryStates(),this.miFormulario.disable()}handleForm(o){}getDataCountryStates(){this.allService.getDataCountryStates(this.miFormulario.controls.country_id.value??120).subscribe({next:o=>{this.catalog.countries_state=o}})}onSubmit(){if(this.miFormulario.invalid)return this.miFormulario.markAllAsTouched();const o=this.miFormulario.getRawValue();this.allService.storeCompetition(o).subscribe({next:t=>{200==t.code?this.handleSuccessResponse(t):this.handleErrorResponse(t)},error:t=>{h().fire("Error","error")}})}handleSuccessResponse(o){this.newData=!1,this.onlySee=!0,this.miFormulario.disable();const c={title:this.edit?"Informaci\xf3n de la competici\xf3n actualizada.":"Informaci\xf3n de la competici\xf3n guardada correctamente \xbfdesea continuar con la documentaci\xf3n?",showCancelButton:!0,confirmButtonText:"Continuar",denyButtonText:"No"};this.edit&&(c.position="center",c.icon="success",c.showConfirmButton=!1,c.showCancelButton=!1,c.timer=2e3),h().fire(c).then(u=>{u.isConfirmed&&!this.edit?(this.miFormulario.reset(),this.router.navigateByUrl(this.urlPrincipal+"/solicitante/beca-deportiva/"+this.miFormulario.value.request_id+"/cuenta-bancaria")):u.isDenied&&this.router.navigateByUrl(this.urlPrincipal+"/solicitante/beca-deportiva/"+this.miFormulario.value.request_id+"/competicion")})}handleErrorResponse(o){h().fire({position:"center",icon:"error",title:o.message,showConfirmButton:!1,timer:2e3})}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(d.F0),e.Y36(n.qu),e.Y36(d.gz),e.Y36(f.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-form-conpetition"]],decls:76,vars:15,consts:[["id","mainVisitor",1,"main"],[1,"row"],[1,"col-10","offset-1","content-center"],[1,"pagetitle"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/solicitante/dashboard"],[1,"breadcrumb-item","active"],[1,"pagetitle","flex-container"],[1,"glyphicon","glyphicon-chevron-left"],[1,"bi","bi-arrow-left"],[3,"routerLink"],[1,"bi","bi-arrow-right"],[1,"glyphicon","glyphicon-chevron-right"],[1,"section"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-12","col-lg-8"],[1,"form-label","required"],["type","text","formControlName","name",1,"form-control"],["class","form-text text-danger form",4,"ngIf"],[1,"col-12","col-md-6","col-lg-4"],["formControlName","competition_type_id",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","country_id",1,"form-control",3,"change"],["class","col-12 col-md-6 col-lg-4",4,"ngIf"],[1,"col-12","col-md-6","col-lg-2"],["type","date","formControlName","start_date",1,"form-control"],["type","date","formControlName","ending_date",1,"form-control"],[1,"form-label"],["type","text","formControlName","classify",1,"form-control"],["class","col-12 col-md-6 col-lg-4 ",4,"ngIf"],[1,"col-12"],["type","text","formControlName","justification",1,"form-control"],["class","text-center",4,"ngIf"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"d-flex","align-items-center"],[1,"bi","bi-info-circle-fill","me-2"],["type","button","data-bs-dismiss","alert","aria-label","Cerrar",1,"btn-close"],[1,"form-text","text-danger","form"],[3,"value"],["formControlName","countries_state_id",1,"form-control"],[1,"input-group","mb-2"],[1,"input-group-text"],["type","number","formControlName","requested_budget",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-primary",3,"ngClass"]],template:function(o,t){1&o&&(e.TgZ(0,"app-visitor")(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e._uU(6,"Competici\xf3n "),e.qZA(),e.TgZ(7,"nav")(8,"ol",4)(9,"li",5)(10,"a",6),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",7),e._uU(13,"Competici\xf3n"),e.qZA()()()(),e.TgZ(14,"div",8)(15,"a",6),e._UZ(16,"span",9)(17,"i",10),e._uU(18," Dashboard "),e.qZA(),e.TgZ(19,"a",11),e._uU(20," Siguiente "),e._UZ(21,"i",12)(22,"span",13),e.qZA()(),e.TgZ(23,"section",14)(24,"div",1)(25,"div",15)(26,"div",16),e.YNc(27,r,9,0,"div",17),e.TgZ(28,"div",18)(29,"h5",19),e._uU(30,"Formulario de competici\xf3n"),e.qZA(),e.TgZ(31,"form",20),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(32,"div",21)(33,"label",22),e._uU(34,"Nombre de evento/competici\xf3n"),e.qZA(),e._UZ(35,"input",23),e.YNc(36,l,2,0,"span",24),e.qZA(),e.TgZ(37,"div",25)(38,"label",22),e._uU(39,"Tipo de competici\xf3n"),e.qZA(),e.TgZ(40,"select",26)(41,"option",27),e._uU(42,"-Seleccionar-"),e.qZA(),e.YNc(43,g,2,2,"option",28),e.qZA(),e.YNc(44,Z,2,0,"span",24),e.qZA(),e.TgZ(45,"div",25)(46,"label",22),e._uU(47,"Pa\xeds"),e.qZA(),e.TgZ(48,"select",29),e.NdJ("change",function(){return t.getDataCountryStates()}),e.TgZ(49,"option",27),e._uU(50,"-Seleccionar-"),e.qZA(),e.YNc(51,q,2,2,"option",28),e.qZA(),e.YNc(52,T,2,0,"span",24),e.qZA(),e.YNc(53,U,8,2,"div",30),e.TgZ(54,"div",31)(55,"label",22),e._uU(56,"Fecha de inicio"),e.qZA(),e._UZ(57,"input",32),e.YNc(58,x,2,0,"span",24),e.qZA(),e.TgZ(59,"div",31)(60,"label",22),e._uU(61,"Fecha de finalizaci\xf3n"),e.qZA(),e._UZ(62,"input",33),e.YNc(63,k,2,0,"span",24),e.qZA(),e.TgZ(64,"div",25)(65,"label",34),e._uU(66,"Clasifica a"),e.qZA(),e._UZ(67,"input",35),e.YNc(68,I,2,0,"span",24),e.qZA(),e.YNc(69,w,8,1,"div",36),e.TgZ(70,"div",37)(71,"label",22),e._uU(72,"Justificaci\xf3n (redacci\xf3n clara y consisa de los motivos para ser beneficiario de esta beca)"),e.qZA(),e._UZ(73,"textarea",38),e.YNc(74,N,2,0,"span",24),e.qZA(),e.YNc(75,J,3,2,"div",39),e.qZA()()()()()()()()()()),2&o&&(e.xp6(19),e.Q6J("routerLink","/solicitante/beca-deportiva/"+t.miFormulario.controls.request_id.value+"/cuenta-bancaria"),e.xp6(8),e.Q6J("ngIf",t.newData||t.edit),e.xp6(4),e.Q6J("formGroup",t.miFormulario),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.name.errors&&t.miFormulario.controls.name.touched),e.xp6(7),e.Q6J("ngForOf",null==t.catalog?null:t.catalog.conpetition_types),e.xp6(1),e.Q6J("ngIf",t.miFormulario.controls.competition_type_id.errors&&t.miFormulario.controls.competition_type_id.touched),e.xp6(7),e.Q6J("ngForOf",null==t.catalog?null:t.catalog.countries),e.xp6(1),e.Q6J("ngIf",t.miFormulario.controls.country_id.errors&&t.miFormulario.controls.country_id.touched),e.xp6(1),e.Q6J("ngIf",(null==t.catalog||null==t.catalog.countries_state?null:t.catalog.countries_state.length)>0),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.start_date.errors&&t.miFormulario.controls.start_date.touched),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.ending_date.errors&&t.miFormulario.controls.ending_date.touched),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.classify.errors&&t.miFormulario.controls.classify.touched),e.xp6(1),e.Q6J("ngIf",t.miFormulario.value.competition_type_id),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.justification.errors&&t.miFormulario.controls.justification.touched),e.xp6(1),e.Q6J("ngIf",!t.onlySee))},dependencies:[_.mk,_.sg,_.O5,d.rH,b.C,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u],styles:['.card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:5px}.required[_ngcontent-%COMP%]:after{content:"*";color:red}',".flex-container[_ngcontent-%COMP%] {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }"]}),s})()},{path:":id/documentacion",component:(()=>{var i;class s{constructor(o,t,c){this.fb=o,this.router=t,this.route=c,this.selectedFileName=null,this.selectedFilePreview=null,this.isImagen=!0,this.miFormulario=this.fb.group({request_id:["",n.kI.required],front_INE:[null,n.kI.required],behind_INE:[null,n.kI.required],beneficiary_id:[null,n.kI.required]})}ngOnInit(){this.obtenerURLPrincipal(),this.route.params.subscribe(o=>{this.request_id=o.id,this.request_id&&this.showConpetition(this.request_id)})}onDragOver(o){o.preventDefault()}onDrop(o){o.preventDefault(),this.onFileSelected({target:{files:o.dataTransfer?.files||[]}})}onFileSelected(o){const t=o.target.files||o.dataTransfer.files;if(t.length>0){const c=t[0];if(this.miFormulario.patchValue({front_INE:c}),this.selectedFileName=c.name,c.type.startsWith("image/")){const u=new FileReader;u.onload=m=>{this.selectedFilePreview=m.target.result},u.readAsDataURL(c)}else this.selectedFilePreview=null}}obtenerURLPrincipal(){const t=this.router.url.split("/");this.urlPrincipal="/"+t[1]}showConpetition(o){}mostrarImagen(){this.isImagen=!0}mostrarDocumento(){this.isImagen=!1}onSubmit(){}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(n.qu),e.Y36(d.F0),e.Y36(d.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-form-documents"]],viewQuery:function(o,t){if(1&o&&e.Gf(P,5),2&o){let c;e.iGM(c=e.CRH())&&(t.fileInput=c.first)}},decls:77,vars:6,consts:[["id","mainVisitor",1,"main"],[1,"row"],[1,"col-10","offset-1","content-center"],[1,"pagetitle"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/solicitante/dashboard"],[1,"breadcrumb-item","active"],[1,"pagetitle","flex-container"],[3,"routerLink"],[1,"glyphicon","glyphicon-chevron-left"],[1,"bi","bi-arrow-left"],[1,"bi","bi-arrow-right"],[1,"glyphicon","glyphicon-chevron-right"],[1,"section"],[1,"col-lg-12"],[1,"card"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"d-flex","align-items-center"],[1,"bi","bi-info-circle-fill","me-2"],["type","button","data-bs-dismiss","alert","aria-label","Cerrar",1,"btn-close"],[1,"card-body","row","g-3","d-flex","align-items-start","mt-1"],[1,"col-12","col-md-3","col-lg-3"],[1,"nav","row","g-3"],["type","button",1,"col-6","col-md-12","nav-link","btn","btn-link","text-left",3,"click"],[1,"bi","bi-check-lg","my-icon"],["type","button",1,"col-6","col-md-12","btn","btn-primary","text-left",3,"click"],["type","button",1,"col-6","col-md-12","nav-link","btn","btn-link","text-left","disabled",3,"click"],[1,"col-12","col-lg-9"],["for","fileInput",1,"form-label"],[1,"drop-zone",3,"dragover","drop","click"],["type","file","accept",".pdf, .jpg, .jpeg, .png",1,"visually-hidden",3,"change","drop"],["fileInput",""],["class","preview-container",4,"ngIf"],["class","file-input-placeholder",4,"ngIf"],[1,"form-text","text-muted"],["type","file","accept",".pdf, .xdoc, .doc",1,"visually-hidden",3,"change","drop"],[1,"text-center"],["type","submit",1,"btn","btn-success"],[1,"preview-container"],["alt","Archivo seleccionado",1,"preview-image",3,"src"],[1,"file-input-placeholder"]],template:function(o,t){if(1&o){const c=e.EpF();e.TgZ(0,"app-visitor")(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e._uU(6,"Documentaci\xf3n "),e.qZA(),e.TgZ(7,"nav")(8,"ol",4)(9,"li",5)(10,"a",6),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",7),e._uU(13,"Documentaci\xf3n"),e.qZA()()()(),e.TgZ(14,"div",8)(15,"a",9),e._UZ(16,"span",10)(17,"i",11),e._uU(18," Anterior "),e.qZA(),e.TgZ(19,"a",9),e._uU(20," Siguiente "),e._UZ(21,"i",12)(22,"span",13),e.qZA()(),e.TgZ(23,"section",14)(24,"div",1)(25,"div",15)(26,"div",16)(27,"div")(28,"div",17)(29,"div",18),e._UZ(30,"i",19),e.TgZ(31,"div")(32,"strong"),e._uU(33,"\xa1Atenci\xf3n!"),e.qZA(),e._uU(34," La documentaci\xf3n es exclusivamente de la persona solicitante. "),e.qZA()(),e._UZ(35,"button",20),e.qZA()(),e.TgZ(36,"div",21)(37,"div",22)(38,"nav",23)(39,"button",24),e.NdJ("click",function(){return t.mostrarDocumento()}),e._uU(40,"Curriculum Vitae"),e._UZ(41,"i",25),e.qZA(),e.TgZ(42,"button",26),e.NdJ("click",function(){return t.mostrarImagen()}),e._uU(43,"Identificaci\xf3n oficial"),e.qZA(),e.TgZ(44,"button",27),e.NdJ("click",function(){return t.mostrarImagen()}),e._uU(45,"Comprobante de domicilio"),e.qZA(),e.TgZ(46,"button",27),e.NdJ("click",function(){return t.mostrarImagen()}),e._uU(47,"Convocatoria"),e.qZA(),e.TgZ(48,"button",27),e.NdJ("click",function(){return t.mostrarDocumento()}),e._uU(49,"CURP"),e.qZA(),e.TgZ(50,"button",27),e.NdJ("click",function(){return t.mostrarImagen()}),e._uU(51,"Fotograf\xeda"),e.qZA()()(),e.TgZ(52,"div",28)(53,"form")(54,"div")(55,"label",29),e._uU(56,"Subir INE del tutor:"),e.qZA(),e.TgZ(57,"div",30),e.NdJ("dragover",function(m){return t.onDragOver(m)})("drop",function(m){return t.onDrop(m)})("click",function(){e.CHM(c);const m=e.MAs(59);return e.KtG(m.click())}),e.TgZ(58,"input",31,32),e.NdJ("change",function(m){return t.onFileSelected(m)})("drop",function(m){return t.onFileSelected(m)}),e.qZA(),e.YNc(60,O,4,2,"div",33),e.YNc(61,B,3,0,"div",34),e.qZA(),e.TgZ(62,"small",35),e._uU(63,"Formatos permitidos: PDF, JPG, JPEG, PNG"),e.qZA()(),e.TgZ(64,"div")(65,"label",29),e._uU(66,"Subir INE del tutor:"),e.qZA(),e.TgZ(67,"div",30),e.NdJ("dragover",function(m){return t.onDragOver(m)})("drop",function(m){return t.onDrop(m)})("click",function(){e.CHM(c);const m=e.MAs(59);return e.KtG(m.click())}),e.TgZ(68,"input",36,32),e.NdJ("change",function(m){return t.onFileSelected(m)})("drop",function(m){return t.onFileSelected(m)}),e.qZA(),e.YNc(70,M,4,2,"div",33),e.YNc(71,Q,3,0,"div",34),e.qZA(),e.TgZ(72,"small",35),e._uU(73,"Formatos permitidos: PDF, DOC, XDOC"),e.qZA()(),e.TgZ(74,"div",37)(75,"button",38),e._uU(76,"Guardar"),e.qZA()()()()()()()()()()()()()}2&o&&(e.xp6(15),e.Q6J("routerLink","/solicitante/beca-deportiva/"+t.request_id+"/cuenta-bancaria"),e.xp6(4),e.Q6J("routerLink","/solicitante/beca-deportiva/dashboard"),e.xp6(41),e.Q6J("ngIf",t.selectedFileName),e.xp6(1),e.Q6J("ngIf",!t.selectedFileName),e.xp6(9),e.Q6J("ngIf",t.selectedFileName),e.xp6(1),e.Q6J("ngIf",!t.selectedFileName))},dependencies:[_.O5,d.rH,b.C,n._Y,n.JL,n.F],styles:[".drop-zone[_ngcontent-%COMP%]{border:2px dashed #4154f1;padding:20px;text-align:center;cursor:pointer;position:relative}.file-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:120px}.preview-container[_ngcontent-%COMP%]{margin-top:10px}.preview-image[_ngcontent-%COMP%]{max-width:100%;max-height:200px;margin-bottom:5px}.file-input-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .file-input-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.file-input-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80px;margin-bottom:10px}.nav-link.btn[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.division-line[_ngcontent-%COMP%]{border-right:1px solid #ccc;height:100%;margin-top:auto;margin-bottom:auto}.my-icon[_ngcontent-%COMP%]{font-size:25px}",".flex-container[_ngcontent-%COMP%] {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }"]}),s})()},{path:":id/cuenta-bancaria",component:(()=>{var i;class s{constructor(o,t,c,u){this.router=o,this.fb=t,this.route=c,this.allService=u,this.newData=!0,this.onlySee=!1,this.edit=!1,this.miFormulario=this.fb.group({account:["",[n.kI.required,n.kI.pattern("^[0-9]+$"),n.kI.minLength(8),n.kI.maxLength(18)]],key_account:["",[n.kI.required,n.kI.pattern("^[0-9]+$"),n.kI.minLength(18),n.kI.maxLength(18)]],titular_persona_name:["",[n.kI.required]],bank:["",[n.kI.required]]})}ngOnInit(){this.obtenerURLPrincipal(),this.route.params.subscribe(t=>{this.request_id=t.id,this.request_id&&this.showAccountBank(this.request_id)}),["account","key_account"].forEach(t=>{this.subscribeToNumberFieldChanges(t)})}subscribeToNumberFieldChanges(o){this.miFormulario.get(o).valueChanges.subscribe(t=>{const c=t.replace(/\D/g,"");this.miFormulario.get(o).setValue(c,{emitEvent:!1})})}obtenerURLPrincipal(){const t=this.router.url.split("/");this.urlPrincipal="/"+t[1]}showAccountBank(o){this.allService.getBankAccount(o).subscribe({next:t=>{t.id&&(this.onlySee=!0,this.newData=!1,this.populateForm(t),this.handleForm(t))}})}populateForm(o){this.miFormulario.patchValue({account:o.account,key_account:o.key_account,titular_persona_name:o.titular_persona_name,bank:o.bank}),this.miFormulario.disable()}handleForm(o){}onSubmit(){if(this.miFormulario.invalid)return this.miFormulario.markAllAsTouched();const o=this.miFormulario.getRawValue();this.allService.storeCompetition(o).subscribe({next:t=>{200==t.code?this.handleSuccessResponse(t):this.handleErrorResponse(t)},error:t=>{h().fire("Error","error")}})}handleSuccessResponse(o){this.newData=!1,this.onlySee=!0,this.miFormulario.disable();const c={title:this.edit?"Informaci\xf3n bancaria actualizada.":"Informaci\xf3n bancaria guardada correctamente \xbfdesea continuar con la documentaci\xf3n?",showCancelButton:!0,confirmButtonText:"Continuar",denyButtonText:"No"};this.edit&&(c.position="center",c.icon="success",c.showConfirmButton=!1,c.showCancelButton=!1,c.timer=2e3),h().fire(c).then(u=>{u.isConfirmed&&!this.edit?(this.miFormulario.reset(),this.router.navigateByUrl(this.urlPrincipal+"/solicitante/beca-deportiva/"+this.miFormulario.value.request_id+"/documentacion")):u.isDenied&&this.router.navigateByUrl(this.urlPrincipal+"/solicitante/beca-deportiva/"+this.miFormulario.value.request_id+"/cuenta-bancaria")})}handleErrorResponse(o){h().fire({position:"center",icon:"error",title:o.message,showConfirmButton:!1,timer:2e3})}}return(i=s).\u0275fac=function(o){return new(o||i)(e.Y36(d.F0),e.Y36(n.qu),e.Y36(d.gz),e.Y36(f.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-form-bank-account"]],decls:51,vars:10,consts:[["id","mainVisitor",1,"main"],[1,"row"],[1,"col-10","offset-1","content-center"],[1,"pagetitle"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/solicitante/dashboard"],[1,"breadcrumb-item","active"],[1,"pagetitle","flex-container"],[3,"routerLink"],[1,"glyphicon","glyphicon-chevron-left"],[1,"bi","bi-arrow-left"],[3,"routerLink",4,"ngIf"],[1,"section"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-12","col-md-6","col-lg-6"],[1,"form-label","required"],["type","text","formControlName","account","minlength","8","maxlength","18",1,"form-control"],["class","form-text text-danger form",4,"ngIf"],["type","text","formControlName","key_account","minlength","18","maxlength","18",1,"form-control"],[1,"col-12","col-lg-8"],["type","text","formControlName","titular_persona_name",1,"form-control"],[1,"col-12","col-md-6","col-lg-4"],["class","text-danger",4,"ngIf"],["type","text","formControlName","bank",1,"form-control"],["class","text-center",4,"ngIf"],[1,"bi","bi-arrow-right"],[1,"glyphicon","glyphicon-chevron-right"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"d-flex","align-items-center"],[1,"bi","bi-info-circle-fill","me-2"],["type","button","data-bs-dismiss","alert","aria-label","Cerrar",1,"btn-close"],[1,"form-text","text-danger","form"],[1,"text-danger"],[1,"text-center"],["type","submit",1,"btn","btn-primary",3,"ngClass"]],template:function(o,t){1&o&&(e.TgZ(0,"app-visitor")(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e._uU(6,"Cuenta bancaria "),e.qZA(),e.TgZ(7,"nav")(8,"ol",4)(9,"li",5)(10,"a",6),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",7),e._uU(13,"Cuenta bancaria"),e.qZA()()()(),e.TgZ(14,"div",8)(15,"a",9),e._UZ(16,"span",10)(17,"i",11),e._uU(18," Anterior "),e.qZA(),e.YNc(19,E,4,1,"a",12),e.qZA(),e.TgZ(20,"section",13)(21,"div",1)(22,"div",14)(23,"div",15),e.YNc(24,R,9,0,"div",16),e.TgZ(25,"div",17)(26,"h5",18),e._uU(27,"Cuenta bancaria"),e.qZA(),e.TgZ(28,"form",19),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(29,"div",20)(30,"label",21),e._uU(31,"N\xfamero de cuenta"),e.qZA(),e._UZ(32,"input",22),e.YNc(33,L,2,0,"span",23),e.qZA(),e.TgZ(34,"div",20)(35,"label",21),e._uU(36,"N\xfamero de cuenta clabe"),e.qZA(),e._UZ(37,"input",24),e.YNc(38,V,2,0,"span",23),e.qZA(),e.TgZ(39,"div",25)(40,"label",21),e._uU(41,"Nombre completo del titular de la cuenta"),e.qZA(),e._UZ(42,"input",26),e.YNc(43,$,2,0,"span",23),e.qZA(),e.TgZ(44,"div",27)(45,"label",21),e._uU(46,"Banco "),e.YNc(47,j,2,0,"span",28),e.qZA(),e._UZ(48,"input",29),e.YNc(49,z,2,0,"span",23),e.qZA(),e.YNc(50,G,3,2,"div",30),e.qZA()()()()()()()()()()),2&o&&(e.xp6(15),e.Q6J("routerLink","/solicitante/beca-deportiva/"+t.request_id+"/competicion"),e.xp6(4),e.Q6J("ngIf",t.onlySee),e.xp6(5),e.Q6J("ngIf",t.newData||t.edit),e.xp6(4),e.Q6J("formGroup",t.miFormulario),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.account.errors&&t.miFormulario.controls.account.touched),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.key_account.errors&&t.miFormulario.controls.key_account.touched),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.titular_persona_name.errors&&t.miFormulario.controls.titular_persona_name.touched),e.xp6(4),e.Q6J("ngIf",t.newData||t.edit),e.xp6(2),e.Q6J("ngIf",t.miFormulario.controls.bank.errors&&t.miFormulario.controls.bank.touched),e.xp6(1),e.Q6J("ngIf",!t.onlySee))},dependencies:[_.mk,_.O5,d.rH,b.C,n._Y,n.Fj,n.JJ,n.JL,n.wO,n.nD,n.sg,n.u],styles:['.card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:5px}.required[_ngcontent-%COMP%]:after{content:"*";color:red}',".flex-container[_ngcontent-%COMP%] {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }"]}),s})()},{path:"**",redirectTo:"home"}]}];let K=(()=>{var i;class s{}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.Bz.forChild(H),d.Bz]}),s})();var W=p(2761);let X=(()=>{var i;class s{}return(i=s).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[_.ez,K,W.VisitorModule,n.UX,n.u5]}),s})()}}]);