"use strict";(self.webpackChunkTramites=self.webpackChunkTramites||[]).push([[998],{7998:(Ye,v,d)=>{d.r(v),d.d(v,{SportsModule:()=>Qe});var p=d(6814),m=d(5815),s=d(95),x=d(3519),u=d.n(x),e=d(4946),g=d(553),f=d(9862);let C=(()=>{var n;class a{constructor(i){this.http=i,this.baseUrlAplicant=g.N.baseUrl+"/aplicant"}store(i){return this.http.post(`${this.baseUrlAplicant}/request/competitions/store`,i)}show(i){return this.http.get(`${this.baseUrlAplicant}/request/competitions/show/${i}`)}getDataCompetition(){return this.http.get(`${this.baseUrlAplicant}/catalog/competition`)}getDataCountryStates(i){return this.http.get(`${this.baseUrlAplicant}/catalog/country-state/${i}`)}update(i){return this.http.put(`${this.baseUrlAplicant}/request/competitions/update`,i)}}return(n=a).\u0275fac=function(i){return new(i||n)(e.LFG(f.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),a})();var h=d(631),_=d(2050);function q(n,a){if(1&n&&(e.TgZ(0,"a",42),e._uU(1," Siguiente "),e._UZ(2,"i",43)(3,"span",44),e.qZA()),2&n){const o=e.oxw();e.Q6J("routerLink","/solicitante/beca-deportiva/"+o.miFormulario.controls.request_id.value+"/cuenta-bancaria")}}function T(n,a){1&n&&(e.TgZ(0,"div")(1,"div",45)(2,"div",46),e._UZ(3,"i",47),e.TgZ(4,"div")(5,"strong"),e._uU(6,"\xa1Atenci\xf3n!"),e.qZA(),e._uU(7," La informaci\xf3n proporcionada es exclusivamente del evento/competencia para la cual se pide el apoyo. "),e.qZA()(),e._UZ(8,"button",48),e.qZA()())}function y(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"div")(1,"div",49)(2,"div")(3,"strong"),e._uU(4,"\xa1Importante!"),e.qZA(),e._uU(5," \xbfQuieres editar la informaci\xf3n de la competencia? "),e.qZA(),e.TgZ(6,"button",50),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.loadingUpdate())}),e._UZ(7,"i",51),e._uU(8," Editar "),e.qZA(),e._UZ(9,"button",48),e.qZA()()}}function A(n,a){1&n&&(e.TgZ(0,"span",52),e._uU(1," Nombre requerido. "),e.qZA())}function w(n,a){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const o=a.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function U(n,a){1&n&&(e.TgZ(0,"span",52),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function k(n,a){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const o=a.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.common_spa,"")}}function I(n,a){1&n&&(e.TgZ(0,"span",52),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function D(n,a){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&n){const o=a.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij(" ",o.name,"")}}function J(n,a){1&n&&(e.TgZ(0,"span",52),e._uU(1," Debes seleccionar una opci\xf3n. "),e.qZA())}function S(n,a){if(1&n&&(e.TgZ(0,"div",31)(1,"label",20),e._uU(2,"Estado"),e.qZA(),e.TgZ(3,"select",54)(4,"option",25),e._uU(5,"-Seleccionar-"),e.qZA(),e.YNc(6,D,2,2,"option",26),e.qZA(),e.YNc(7,J,2,0,"span",22),e.qZA()),2&n){const o=e.oxw();e.xp6(6),e.Q6J("ngForOf",null==o.catalog?null:o.catalog.countries_state),e.xp6(1),e.Q6J("ngIf",o.miFormulario.controls.countries_state_id.errors&&o.miFormulario.controls.countries_state_id.touched)}}function N(n,a){1&n&&(e.TgZ(0,"span",52),e._uU(1," Fecha de inicio requerida. "),e.qZA())}function O(n,a){1&n&&(e.TgZ(0,"span",52),e._uU(1," Fecha de finalizaci\xf3n requerida. "),e.qZA())}function M(n,a){if(1&n&&(e.TgZ(0,"span",52),e._uU(1),e.qZA()),2&n){const o=e.oxw(2);e.xp6(1),e.hij(" ",o.miFormulario.controls.requested_budget.value>(null==o.debget?null:o.debget.maximum_budget)?"El presupuesto solicitado no puede ser mayor a "+(null==o.debget?null:o.debget.maximum_budget)+".":"Presupuesto solicitado requerido."," ")}}function P(n,a){if(1&n&&(e.TgZ(0,"div",23)(1,"label",20),e._uU(2,"Presupuesto solicitado"),e.qZA(),e.TgZ(3,"div",55)(4,"span",56),e._uU(5,"$"),e.qZA(),e._UZ(6,"input",57),e.qZA(),e.YNc(7,M,2,1,"span",22),e.qZA()),2&n){const o=e.oxw();e.xp6(6),e.Q6J("max",null==o.debget?null:o.debget.maximum_budget),e.xp6(1),e.Q6J("ngIf",o.miFormulario.controls.requested_budget.errors&&o.miFormulario.controls.requested_budget.touched)}}function B(n,a){1&n&&(e.TgZ(0,"span",52),e._uU(1," Justificaci\xf3n requerida. "),e.qZA())}function Q(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){e.CHM(o);const t=e.oxw(2);return e.KtG(t.ngOnInit())}),e._uU(1,"Cancelar"),e.qZA()}}function Y(n,a){if(1&n&&(e.TgZ(0,"div",58),e.YNc(1,Q,2,0,"button",59),e.TgZ(2,"button",60),e._uU(3),e.qZA()()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.edit),e.xp6(1),e.Q6J("ngClass",o.newData?"btn-success":"btn-primary"),e.xp6(1),e.Oqu(o.newData?"Guardar":"Actualizar")}}let E=(()=>{var n;class a{constructor(i,t,r,c,l){this.router=i,this.fb=t,this.route=r,this.competitionService=c,this.requestService=l,this.form_id=1,this.debget={minimum_budget:0,maximum_budget:0},this.newData=!0,this.onlySee=!1,this.edit=!1,this.modify=[],this.currentDate=(new Date).toISOString().split("T")[0],this.miFormulario=this.fb.group({request_id:["",[s.kI.required]],name:["",[s.kI.required]],country_id:[{value:"",disabled:!0},[s.kI.required]],countries_state_id:[null,[s.kI.required]],start_date:["",[s.kI.required]],ending_date:["",[s.kI.required]],classify:["",[s.kI.nullValidator]],justification:["",[s.kI.required]],requested_budget:["",[s.kI.required,s.kI.max(this.debget?.maximum_budget)]],competition_type_id:["",[s.kI.required]]}),this.miFormulario.get("competition_type_id")?.valueChanges.subscribe(b=>{(this.newData||this.edit)&&this.select(b)})}minDate(){const i=new Date;return i.setDate((new Date).getDate()),i.toISOString().split("T")[0]}minEndingDate(){return this.miFormulario.get("start_date").value||""}onStartDateChange(){const i=this.miFormulario.get("start_date").value;i!==this.previousStartDate&&this.miFormulario.get("ending_date").value<i&&this.miFormulario.get("ending_date").setValue(""),this.previousStartDate=i}ngOnInit(){this.edit=!1,this.getDataCompetition(),this.obtenerURLPrincipal(),this.route.params.subscribe(t=>{const r=t.id;this.miFormulario.patchValue({request_id:r}),r&&(this.showConpetition(r),this.requestService.show(r).subscribe({next:c=>{this.request=c}}))}),["requested_budget"].forEach(t=>{this.subscribeToNumberFieldChanges(t)}),this.previousStartDate=this.miFormulario.get("start_date").value,this.requestService.verifyRequest(this.miFormulario.value.request_id,this.form_id).subscribe({next:t=>{this.modify=t,this.modify.length>0&&this.loadingUpdate()}})}subscribeToNumberFieldChanges(i){this.miFormulario.get(i).valueChanges.subscribe(t=>{if(!isNaN(parseFloat(t))&&isFinite(t))return;const r=t.replace(/\D/g,"");this.miFormulario.get(i).setValue(r,{emitEvent:!1})})}select(i){1==i?(this.miFormulario.patchValue({country_id:120,countries_state_id:15}),this.debget={minimum_budget:500,maximum_budget:2500},this.getDataCountryStates(),this.validatorTypeCompetition(i)):2==i?(this.miFormulario.patchValue({country_id:120,countries_state_id:this.miFormulario.value.countries_state_id??null}),this.debget={minimum_budget:5e3,maximum_budget:1e4},this.getDataCountryStates(),this.validatorTypeCompetition(i)):(this.debget={minimum_budget:5e3,maximum_budget:2e4},this.miFormulario.patchValue({country_id:this.miFormulario.value.country_id??null,countries_state_id:null}),this.validatorTypeCompetition(i)),this.miFormulario.get("requested_budget").setValidators([s.kI.required,s.kI.max(this.debget?.maximum_budget)]),this.miFormulario.get("requested_budget").updateValueAndValidity()}toggleAlert(){var i=document.getElementById("alert");i.style.display="none"===i.style.display?"block":"none"}validatorTypeCompetition(i){1==i?(this.miFormulario.get("country_id").disable(),this.miFormulario.get("countries_state_id").disable(),this.miFormulario.get("countries_state_id").setValidators(s.kI.required),this.miFormulario.get("countries_state_id").updateValueAndValidity()):2==i?(this.miFormulario.get("country_id").disable(),this.miFormulario.get("countries_state_id").enable(),this.miFormulario.get("countries_state_id").setValidators(s.kI.required),this.miFormulario.get("countries_state_id").updateValueAndValidity()):(this.miFormulario.get("country_id").enable(),this.miFormulario.get("countries_state_id").enable(),this.miFormulario.get("countries_state_id").clearValidators(),this.miFormulario.get("countries_state_id").updateValueAndValidity())}obtenerURLPrincipal(){const t=this.router.url.split("/");this.urlPrincipal="/"+t[1]}getDataCompetition(){this.competitionService.getDataCompetition().subscribe({next:i=>{this.catalog=i}})}showConpetition(i){this.competitionService.show(i).subscribe({next:t=>{t.id&&(this.onlySee=!0,this.newData=!1,this.populateForm(t),this.handleForm(t))}})}populateForm(i){this.miFormulario.patchValue({name:i.name,country_id:i.country_id,countries_state_id:i.countries_state_id,start_date:i.start_date,ending_date:i.ending_date,classify:i.classify,justification:i.justification,requested_budget:i.requested_budget,competition_type_id:i.competition_type_id}),this.getDataCountryStates(),this.miFormulario.disable()}handleForm(i){}getDataCountryStates(){this.competitionService.getDataCountryStates(this.miFormulario.controls.country_id.value??120).subscribe({next:i=>{this.catalog.countries_state=i}})}onSubmit(){return this.miFormulario.invalid?this.miFormulario.markAllAsTouched():this.miFormulario.get("start_date").value>this.miFormulario.get("ending_date").value?u().fire({position:"center",icon:"error",title:"La fecha de inicio no puede ser mayor a la fecha de finalizaci\xf3n",showConfirmButton:!0,timer:2e3}):void(this.edit?this.update():this.store())}store(){const i=this.miFormulario.getRawValue();this.competitionService.store(i).subscribe({next:t=>{200==t.code?this.handleSuccessResponse(t):this.handleErrorResponse(t)},error:t=>{u().fire("Error","error")}})}update(){const i=this.miFormulario.getRawValue();this.competitionService.update(i).subscribe({next:t=>{200==t.code?this.handleSuccessResponse(t):this.handleErrorResponse(t)},error:t=>{u().fire("Error","error")}})}handleSuccessResponse(i){this.newData=!1,this.onlySee=!0,this.miFormulario.disable();const r={title:this.edit?"Informaci\xf3n de la competencia actualizada.":"Competencia registrada correctamente. \xbfDeseas continuar con el registro de cuenta bancaria donde se depositar\xe1 el apoyo?",icon:"info",showCancelButton:!0,confirmButtonText:"Continuar",denyButtonText:"No"};this.edit&&(r.position="center",r.icon="success",r.showConfirmButton=!1,r.showCancelButton=!1,r.timer=2e3),u().fire(r).then(c=>{c.isConfirmed&&!this.edit?(this.miFormulario.disable(),this.router.navigateByUrl(this.urlPrincipal+"/beca-deportiva/"+this.miFormulario.value.request_id+"/cuenta-bancaria")):c.isDenied&&this.ngOnInit()}),this.edit&&(this.ngOnInit(),this.edit=!1)}handleErrorResponse(i){u().fire({position:"center",icon:"error",title:i.message,showConfirmButton:!1,timer:2e3})}loadingUpdate(){this.edit=!0,this.onlySee=!1,this.miFormulario.enable()}}return(n=a).\u0275fac=function(i){return new(i||n)(e.Y36(m.F0),e.Y36(s.qu),e.Y36(m.gz),e.Y36(C),e.Y36(h.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-conpetition"]],decls:77,vars:17,consts:[["id","mainVisitor",1,"main"],[1,"row"],[1,"col-10","offset-1","content-center"],[1,"pagetitle"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/solicitante/dashboard"],[1,"breadcrumb-item","active"],[1,"pagetitle","flex-container"],[1,"glyphicon","glyphicon-chevron-left"],[1,"bi","bi-arrow-left"],[3,"routerLink",4,"ngIf"],[1,"section"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-12","col-lg-8"],[1,"form-label","required"],["type","text","formControlName","name",1,"form-control"],["class","form-text text-danger form",4,"ngIf"],[1,"col-12","col-md-6","col-lg-4"],["formControlName","competition_type_id",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","country_id",1,"form-control",3,"change"],["class","col-12 col-md-6 col-lg-3",4,"ngIf"],[1,"col-12","col-md-6","col-lg-2"],["type","date","formControlName","start_date",1,"form-control",3,"min","change"],[1,"col-12","col-md-6","col-lg-3"],["type","date","formControlName","ending_date",1,"form-control",3,"min"],[1,"form-label"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"bi","bi-info-circle"],["id","alert","role","alert",1,"alert-info","m-1",2,"display","none"],["type","text","formControlName","classify",1,"form-control"],["class","col-12 col-md-6 col-lg-4 ",4,"ngIf"],[1,"col-12"],["type","text","formControlName","justification",1,"form-control"],["class","text-center",4,"ngIf"],[3,"routerLink"],[1,"bi","bi-arrow-right"],[1,"glyphicon","glyphicon-chevron-right"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"d-flex","align-items-center"],[1,"bi","bi-info-circle-fill","me-2"],["type","button","data-bs-dismiss","alert","aria-label","Cerrar",1,"btn-close"],["role","alert",1,"alert","alert-primary","alert-dismissible","fade","show","d-flex","align-items-center"],["type","button",1,"btn","btn-sm","btn-primary",2,"margin-left","5px",3,"click"],[1,"bi","bi-pencil"],[1,"form-text","text-danger","form"],[3,"value"],["formControlName","countries_state_id",1,"form-control"],[1,"input-group","mb-2"],[1,"input-group-text"],["type","text","formControlName","requested_budget","maxlength","6",1,"form-control",3,"max"],[1,"text-center"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","submit",1,"btn",3,"ngClass"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"app-visitor")(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e._uU(6,"Competencia "),e.qZA(),e.TgZ(7,"nav")(8,"ol",4)(9,"li",5)(10,"a",6),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",7),e._uU(13,"Competencia"),e.qZA()()()(),e.TgZ(14,"div",8)(15,"a",6),e._UZ(16,"span",9)(17,"i",10),e._uU(18," Dashboard "),e.qZA(),e.YNc(19,q,4,1,"a",11),e.qZA(),e.TgZ(20,"section",12)(21,"div",1)(22,"div",13)(23,"div",14),e.YNc(24,T,9,0,"div",15),e.YNc(25,y,10,0,"div",15),e.TgZ(26,"div",16)(27,"h5",17),e._uU(28,"Formulario de competencia"),e.qZA(),e.TgZ(29,"form",18),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(30,"div",19)(31,"label",20),e._uU(32,"Nombre de evento/competencia"),e.qZA(),e._UZ(33,"input",21),e.YNc(34,A,2,0,"span",22),e.qZA(),e.TgZ(35,"div",23)(36,"label",20),e._uU(37,"Tipo de competencia"),e.qZA(),e.TgZ(38,"select",24)(39,"option",25),e._uU(40,"-Seleccionar-"),e.qZA(),e.YNc(41,w,2,2,"option",26),e.qZA(),e.YNc(42,U,2,0,"span",22),e.qZA(),e.TgZ(43,"div",23)(44,"label",20),e._uU(45,"Pa\xeds"),e.qZA(),e.TgZ(46,"select",27),e.NdJ("change",function(){return t.getDataCountryStates()}),e.TgZ(47,"option",25),e._uU(48,"-Seleccionar-"),e.qZA(),e.YNc(49,k,2,2,"option",26),e.qZA(),e.YNc(50,I,2,0,"span",22),e.qZA(),e.YNc(51,S,8,2,"div",28),e.TgZ(52,"div",29)(53,"label",20),e._uU(54,"Fecha de inicio"),e.qZA(),e.TgZ(55,"input",30),e.NdJ("change",function(){return t.onStartDateChange()}),e.qZA(),e.YNc(56,N,2,0,"span",22),e.qZA(),e.TgZ(57,"div",31)(58,"label",20),e._uU(59,"Fecha de finalizaci\xf3n"),e.qZA(),e._UZ(60,"input",32),e.YNc(61,O,2,0,"span",22),e.qZA(),e.TgZ(62,"div",23)(63,"label",33),e._uU(64," Clasifica a "),e.TgZ(65,"button",34),e.NdJ("click",function(){return t.toggleAlert()}),e._UZ(66,"i",35),e.qZA(),e.TgZ(67,"span",36),e._uU(68," Si el evento al que asistir\xe1s con la beca, es clasificatorio o sirve para integrar alguna selecci\xf3n. Se\xf1ala para qu\xe9 evento. "),e.qZA()(),e._UZ(69,"input",37),e.qZA(),e.YNc(70,P,8,2,"div",38),e.TgZ(71,"div",39)(72,"label",20),e._uU(73,"Justificaci\xf3n (redacci\xf3n clara y concisa de los motivos para ser beneficiario de esta beca)"),e.qZA(),e._UZ(74,"textarea",40),e.YNc(75,B,2,0,"span",22),e.qZA(),e.YNc(76,Y,4,3,"div",41),e.qZA()()()()()()()()()()),2&i&&(e.xp6(19),e.Q6J("ngIf",t.onlySee),e.xp6(5),e.Q6J("ngIf",t.newData||t.edit),e.xp6(1),e.Q6J("ngIf",!t.edit&&t.onlySee&&(1==(null==t.request?null:t.request.status_request_id)||4==(null==t.request?null:t.request.status_request_id)&&t.modify.length>0)),e.xp6(4),e.Q6J("formGroup",t.miFormulario),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.name.errors&&t.miFormulario.controls.name.touched),e.xp6(7),e.Q6J("ngForOf",null==t.catalog?null:t.catalog.conpetition_types),e.xp6(1),e.Q6J("ngIf",t.miFormulario.controls.competition_type_id.errors&&t.miFormulario.controls.competition_type_id.touched),e.xp6(7),e.Q6J("ngForOf",null==t.catalog?null:t.catalog.countries),e.xp6(1),e.Q6J("ngIf",t.miFormulario.controls.country_id.errors&&t.miFormulario.controls.country_id.touched),e.xp6(1),e.Q6J("ngIf",(null==t.catalog||null==t.catalog.countries_state?null:t.catalog.countries_state.length)>0),e.xp6(4),e.Q6J("min",t.minDate()),e.xp6(1),e.Q6J("ngIf",t.miFormulario.controls.start_date.errors&&t.miFormulario.controls.start_date.touched),e.xp6(4),e.Q6J("min",t.minEndingDate()),e.xp6(1),e.Q6J("ngIf",t.miFormulario.controls.ending_date.errors&&t.miFormulario.controls.ending_date.touched),e.xp6(9),e.Q6J("ngIf",t.miFormulario.value.competition_type_id),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.justification.errors&&t.miFormulario.controls.justification.touched),e.xp6(1),e.Q6J("ngIf",!t.onlySee))},dependencies:[p.mk,p.sg,p.O5,m.rH,_.C,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.nD,s.sg,s.u],styles:['.card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:5px}.required[_ngcontent-%COMP%]:after{content:"*";color:red}',".flex-container[_ngcontent-%COMP%] {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }"]}),a})();var F=d(7224);const L=["fileInput"];function j(n,a){if(1&n&&(e.TgZ(0,"a",9),e._uU(1," Siguiente "),e._UZ(2,"i",46)(3,"span",47),e.qZA()),2&n){const o=e.oxw();e.Q6J("routerLink","/solicitante/beca-deportiva/"+o.request_id+"/reglamento")}}function R(n,a){if(1&n){const o=e.EpF();e.ynx(0),e.TgZ(1,"button",48),e.NdJ("click",function(){const t=e.CHM(o),r=t.$implicit,c=t.index,l=e.oxw();return e.KtG(l.mostrar(r,c))}),e._uU(2),e.qZA(),e.BQk()}if(2&n){const o=a.$implicit,i=a.index,t=e.oxw();e.xp6(1),e.ekj("btn-primary",i===t.primerDocumentoDisponibleIndex),e.Q6J("disabled",i!=t.indexMayor&&0===o.documents_request.length),e.xp6(1),e.hij(" ",o.name," ")}}function z(n,a){if(1&n&&(e.TgZ(0,"span",52),e._uU(1),e.qZA()),2&n){const o=e.oxw(2);e.xp6(1),e.hij("(",null==o.activeDocument?null:o.activeDocument.descripcion,")")}}function G(n,a){if(1&n&&(e.TgZ(0,"div",53),e._UZ(1,"img",54),e.TgZ(2,"p"),e._uU(3),e.qZA()()),2&n){const o=e.oxw(2);e.xp6(1),e.Q6J("src",o.selectedFilePreview,e.LSH),e.xp6(2),e.Oqu(o.selectedFileName)}}function V(n,a){1&n&&(e.TgZ(0,"div",55)(1,"p"),e._uU(2,"Arrastra o selecciona un archivo"),e.qZA()())}function H(n,a){if(1&n){const o=e.EpF();e.ynx(0),e.TgZ(1,"form",34),e.NdJ("ngSubmit",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.onSubmit())}),e.TgZ(2,"div")(3,"label",35),e._uU(4),e.YNc(5,z,2,1,"span",49),e._uU(6,":"),e.qZA(),e.TgZ(7,"div",36),e.NdJ("dragover",function(t){e.CHM(o);const r=e.oxw();return e.KtG(r.onDragOver(t))})("drop",function(t){e.CHM(o);const r=e.oxw();return e.KtG(r.onDrop(t))})("click",function(){e.CHM(o);const t=e.MAs(9);return e.KtG(t.click())}),e.TgZ(8,"input",50,38),e.NdJ("change",function(t){e.CHM(o);const r=e.oxw();return e.KtG(r.onFileSelected(t))})("drop",function(t){e.CHM(o);const r=e.oxw();return e.KtG(r.onFileSelected(t))}),e.qZA(),e.YNc(10,G,4,2,"div",39),e.YNc(11,V,3,0,"div",40),e.qZA(),e.TgZ(12,"small",41),e._uU(13,"Formatos permitidos: pdf, jpg, jpeg, png."),e.qZA(),e._UZ(14,"br"),e.TgZ(15,"small",41),e._uU(16,"Tama\xf1o m\xe1ximo aceptado: 1 MB o 1024 KB. "),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"small",41)(19,"a",42),e._uU(20,"\xbfD\xf3nde reducir el tama\xf1o de un PDF?"),e.qZA()(),e._UZ(21,"br"),e.TgZ(22,"small",41)(23,"a",43),e._uU(24,"\xbfD\xf3nde reducir el tama\xf1o de una imagen?"),e.qZA()()(),e.TgZ(25,"div",51)(26,"button",45),e._uU(27,"Guardar"),e.qZA()()(),e.BQk()}if(2&n){const o=e.oxw();e.xp6(1),e.Q6J("formGroup",o.miFormulario),e.xp6(3),e.hij("Subir ",null==o.activeDocument?null:o.activeDocument.name," "),e.xp6(1),e.Q6J("ngIf",null==o.activeDocument?null:o.activeDocument.descripcion),e.xp6(5),e.Q6J("ngIf",o.selectedFileName),e.xp6(1),e.Q6J("ngIf",!o.selectedFileName)}}function K(n,a){if(1&n&&(e.TgZ(0,"div",59)(1,"button",60),e._UZ(2,"i",61),e._uU(3),e.qZA()()),2&n){const o=e.oxw(2);e.xp6(3),e.hij(" Cambiar ",null==o.activeDocument?null:o.activeDocument.name," ")}}function $(n,a){if(1&n&&(e.TgZ(0,"div",51)(1,"a",56),e._UZ(2,"i",57),e.TgZ(3,"h2"),e._uU(4),e.qZA()(),e.YNc(5,K,4,1,"div",58),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.s9C("href",o.baseUrl+"sports/"+(null==o.activeDocument||null==o.activeDocument.documents_request[0]?null:o.activeDocument.documents_request[0].file_name),e.LSH),e.xp6(3),e.hij("Descargar ",null==o.activeDocument?null:o.activeDocument.name,""),e.xp6(1),e.Q6J("ngIf",1==(null==o.request?null:o.request.status_request_id)||4==(null==o.request?null:o.request.status_request_id)&&o.verify())}}function W(n,a){if(1&n&&(e.TgZ(0,"div",53),e._UZ(1,"img",54),e.TgZ(2,"p"),e._uU(3),e.qZA()()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("src",o.selectedFilePreview,e.LSH),e.xp6(2),e.Oqu(o.selectedFileName)}}function X(n,a){1&n&&(e.TgZ(0,"div",55)(1,"p"),e._uU(2,"Arrastra o selecciona un archivo"),e.qZA()())}let ee=(()=>{var n;class a{constructor(i,t,r,c,l,b){this.fb=i,this.router=t,this.route=r,this.documentService=c,this.requestService=l,this.elementRef=b,this.selectedFileName=null,this.selectedFilePreview=null,this.documents=[],this.primerDocumentoDisponibleIndex=0,this.total_documents=0,this.indexMayor=0,this.baseUrl=g.N.dowload,this.modify=[],this.miFormulario=this.fb.group({request_id:["",s.kI.required],file:[null,s.kI.required],type_file:[null,s.kI.required],name_file:[null,s.kI.required],type_person_id:[null,s.kI.nullValidator]})}ngOnInit(){this.obtenerURLPrincipal(),this.route.params.subscribe(i=>{this.request_id=i.id,this.request_id&&this.showDocuments(this.request_id)}),this.requestService.show(this.request_id).subscribe({next:i=>{this.request=i}})}onDragOver(i){i.preventDefault()}onDrop(i){i.preventDefault(),this.onFileSelected({target:{files:i.dataTransfer?.files||[]}})}onFileSelected(i){const t=i.target.files||i.dataTransfer.files;if(t.length>0){const r=t[0];if(this.miFormulario.patchValue({file:r}),this.selectedFileName=r.name,r.type.startsWith("image/")){const c=new FileReader;c.onload=l=>{this.selectedFilePreview=l.target.result},c.readAsDataURL(r)}else this.selectedFilePreview=null}}obtenerURLPrincipal(){const t=this.router.url.split("/");this.urlPrincipal="/"+t[1]}cerrarModal(){this.elementRef.nativeElement.querySelector("#cancel").click()}showDocuments(i){this.miFormulario.patchValue({request_id:i}),this.documentService.getDocuments(i).subscribe({next:t=>{this.documents=t.documents,this.total_documents=t.total_documents,this.primerDocumentoDisponibleIndex=this.documents.findIndex(r=>0===r.documents_request.length),(this.primerDocumentoDisponibleIndex<0||this.primerDocumentoDisponibleIndex>=this.documents.length)&&(this.primerDocumentoDisponibleIndex=this.documents.length-1),this.mostrar(this.documents[this.primerDocumentoDisponibleIndex],this.primerDocumentoDisponibleIndex)}}),this.requestService.verifyRequestDocuments(this.miFormulario.value.request_id).subscribe({next:t=>{this.modify=t}})}changeFile(){if(this.miFormulario.invalid)return this.miFormulario.markAllAsTouched();const i=new FormData;i.append("request_id",this.miFormulario.get("request_id").value),i.append("file",this.miFormulario.get("file").value),i.append("type_file",this.miFormulario.get("type_file").value),i.append("name_file",this.miFormulario.get("name_file").value),this.documentService.changeDocument(i,this.activeDocument.documents_request[0]?.id).subscribe({next:t=>{200==t.code?(this.ngOnInit(),this.cerrarModal(),t.total_documents==this.documents.length?this.handleSuccessResponse(t):(this.clearFileInput(),u().fire({position:"center",icon:"success",title:t.message,showConfirmButton:!1,timer:2e3}))):this.handleErrorResponse(t)},error:t=>{u().fire("Error","error")}})}mostrar(i,t){this.indexMayor=t>this.indexMayor?t:this.indexMayor,this.activeDocument=i,this.miFormulario.patchValue({file:i.documents_request??"",type_file:i.id,name_file:i.name}),this.primerDocumentoDisponibleIndex=t}onSubmit(){if(this.miFormulario.invalid)return this.miFormulario.markAllAsTouched();const i=new FormData;i.append("request_id",this.miFormulario.get("request_id").value),i.append("file",this.miFormulario.get("file").value),i.append("type_file",this.miFormulario.get("type_file").value),i.append("name_file",this.miFormulario.get("name_file").value),this.documentService.storeDocument(i).subscribe({next:t=>{200==t.code?(this.ngOnInit(),t.total_documents==this.documents.length?this.handleSuccessResponse(t):(this.clearFileInput(),u().fire({position:"center",icon:"success",title:t.message,showConfirmButton:!1,timer:2e3}))):this.handleErrorResponse(t)},error:t=>{u().fire("Error","error")}})}handleSuccessResponse(i){this.fileInput=null,this.selectedFileName=null,this.selectedFilePreview=null,u().fire({title:"Documentos guardados correctamente \xbfdesea continuar con el reglamento y aviso de privacidad?",showCancelButton:!0,confirmButtonText:"Continuar",denyButtonText:"No"}).then(c=>{c.isConfirmed?(this.ngOnInit(),this.router.navigateByUrl(this.urlPrincipal+"/beca-deportiva/"+this.miFormulario.value.request_id+"/reglamento")):this.ngOnInit()})}handleErrorResponse(i){u().fire({position:"center",icon:"error",title:i.message,showConfirmButton:!0})}clearFileInput(){this.fileInput.nativeElement.value=null,this.selectedFileName=null,this.selectedFilePreview=null}verify(){for(let i=0;i<this.modify.length;i++)if(this.modify[i].document_procedure_id==this.activeDocument.id)return!0;return!1}}return(n=a).\u0275fac=function(i){return new(i||n)(e.Y36(s.qu),e.Y36(m.F0),e.Y36(m.gz),e.Y36(F.S),e.Y36(h.r),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-documents"]],viewQuery:function(i,t){if(1&i&&e.Gf(L,5),2&i){let r;e.iGM(r=e.CRH())&&(t.fileInput=r.first)}},decls:74,vars:10,consts:[["id","mainVisitor",1,"main"],[1,"row"],[1,"col-10","offset-1","content-center"],[1,"pagetitle"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/solicitante/dashboard"],[1,"breadcrumb-item","active"],[1,"pagetitle","flex-container"],[3,"routerLink"],[1,"glyphicon","glyphicon-chevron-left"],[1,"bi","bi-arrow-left"],[3,"routerLink",4,"ngIf"],[1,"section"],[1,"col-lg-12"],[1,"card"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"d-flex","align-items-center"],[1,"bi","bi-info-circle-fill","me-2"],["type","button","data-bs-dismiss","alert","aria-label","Cerrar",1,"btn-close"],[1,"card-body","row","g-3","d-flex","align-items-start","mt-1"],[1,"col-12","col-lg-3"],[1,"nav","row","g-3"],[4,"ngFor","ngForOf"],[1,"col-12","col-lg-9"],[4,"ngIf","ngIfElse"],["existFile",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["id","cancel","type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","py-0","text-justify-custom"],[3,"formGroup","ngSubmit"],["for","fileInput",1,"form-label"],[1,"drop-zone",3,"dragover","drop","click"],["type","file","accept",".pdf, .jpg, .jpeg, .png",1,"visually-hidden",3,"change","drop"],["fileInput",""],["class","preview-container",4,"ngIf"],["class","file-input-placeholder",4,"ngIf"],[1,"form-text","text-muted"],["href","https://www.ilovepdf.com/es/comprimir_pdf","target","_blank"],["href","https://www.iloveimg.com/es/comprimir-imagen","target","_blank"],[1,"text-center","m-2"],["type","submit",1,"btn","btn-success"],[1,"bi","bi-arrow-right"],[1,"glyphicon","glyphicon-chevron-right"],["type","button",1,"col-6","col-md-12","btn","text-left",3,"disabled","click"],["class","text-danger",4,"ngIf"],["type","file","accept",".pdf, .jpg, .jpeg, .png, .PDF, .JPG, .JPEG, .PNG",1,"visually-hidden",3,"change","drop"],[1,"text-center"],[1,"text-danger"],[1,"preview-container"],["alt","Archivo seleccionado",1,"preview-image",3,"src"],[1,"file-input-placeholder"],["rel","noopener noreferrer","target","_blank","download","",1,"mt-3",3,"href"],[1,"bi","bi-file-earmark-arrow-down-fill","my-icon"],["class","mt-3",4,"ngIf"],[1,"mt-3"],["data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",1,"btn","btn-warning"],[1,"bi","bi-arrow-left-right"]],template:function(i,t){if(1&i){const r=e.EpF();e.TgZ(0,"app-visitor")(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e._uU(6,"Documentaci\xf3n "),e.qZA(),e.TgZ(7,"nav")(8,"ol",4)(9,"li",5)(10,"a",6),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",7),e._uU(13,"Documentaci\xf3n"),e.qZA()()()(),e.TgZ(14,"div",8)(15,"a",9),e._UZ(16,"span",10)(17,"i",11),e._uU(18," Anterior "),e.qZA(),e.YNc(19,j,4,1,"a",12),e.qZA(),e.TgZ(20,"section",13)(21,"div",1)(22,"div",14)(23,"div",15)(24,"div")(25,"div",16)(26,"div",17),e._UZ(27,"i",18),e.TgZ(28,"div")(29,"strong"),e._uU(30,"\xa1Atenci\xf3n!"),e.qZA(),e._uU(31," La documentaci\xf3n es exclusivamente de la persona solicitante. "),e.qZA()(),e._UZ(32,"button",19),e.qZA()(),e.TgZ(33,"div",20)(34,"div",21)(35,"nav",22),e.YNc(36,R,3,4,"ng-container",23),e.qZA()(),e.TgZ(37,"div",24),e.YNc(38,H,28,5,"ng-container",25),e.YNc(39,$,6,3,"ng-template",null,26,e.W1O),e.qZA()()()()()()()()()(),e.TgZ(41,"div",27)(42,"div",28)(43,"div",29)(44,"div",30)(45,"h5",31),e._uU(46),e.qZA(),e._UZ(47,"button",32),e.qZA(),e.TgZ(48,"div",33)(49,"form",34),e.NdJ("ngSubmit",function(){return t.changeFile()}),e.TgZ(50,"div")(51,"label",35),e._uU(52),e.qZA(),e.TgZ(53,"div",36),e.NdJ("dragover",function(l){return t.onDragOver(l)})("drop",function(l){return t.onDrop(l)})("click",function(){e.CHM(r);const l=e.MAs(55);return e.KtG(l.click())}),e.TgZ(54,"input",37,38),e.NdJ("change",function(l){return t.onFileSelected(l)})("drop",function(l){return t.onFileSelected(l)}),e.qZA(),e.YNc(56,W,4,2,"div",39),e.YNc(57,X,3,0,"div",40),e.qZA(),e.TgZ(58,"small",41),e._uU(59,"Formatos permitidos: pdf, jpg, jpeg, png."),e.qZA(),e._UZ(60,"br"),e.TgZ(61,"small",41),e._uU(62,"Tama\xf1o m\xe1ximo aceptado: 1 MB o 1024 KB. "),e.qZA(),e._UZ(63,"br"),e.TgZ(64,"small",41)(65,"a",42),e._uU(66,"\xbfD\xf3nde reducir el tama\xf1o de un PDF?"),e.qZA()(),e._UZ(67,"br"),e.TgZ(68,"small",41)(69,"a",43),e._uU(70,"\xbfD\xf3nde reducir el tama\xf1o de una imagen?"),e.qZA()()(),e.TgZ(71,"div",44)(72,"button",45),e._uU(73,"Cambiar"),e.qZA()()()()()()()}if(2&i){const r=e.MAs(40);e.xp6(15),e.Q6J("routerLink","/solicitante/beca-deportiva/"+t.request_id+"/cuenta-bancaria"),e.xp6(4),e.Q6J("ngIf",t.total_documents==t.documents.length),e.xp6(17),e.Q6J("ngForOf",t.documents),e.xp6(2),e.Q6J("ngIf",0==(null==t.activeDocument||null==t.activeDocument.documents_request?null:t.activeDocument.documents_request.length))("ngIfElse",r),e.xp6(8),e.hij("Cambiar ",null==t.activeDocument?null:t.activeDocument.name,""),e.xp6(3),e.Q6J("formGroup",t.miFormulario),e.xp6(3),e.hij("Subir nuevo/a ",null==t.activeDocument?null:t.activeDocument.name,":"),e.xp6(4),e.Q6J("ngIf",t.selectedFileName),e.xp6(1),e.Q6J("ngIf",!t.selectedFileName)}},dependencies:[p.sg,p.O5,m.rH,_.C,s._Y,s.JL,s.sg],styles:[".drop-zone[_ngcontent-%COMP%]{border:2px dashed #4154f1;padding:20px;text-align:center;cursor:pointer;position:relative}.file-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:120px}.preview-container[_ngcontent-%COMP%]{margin-top:10px}.preview-image[_ngcontent-%COMP%]{max-width:100%;max-height:200px;margin-bottom:5px}.file-input-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .file-input-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.file-input-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80px;margin-bottom:10px}.nav-link.btn[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.division-line[_ngcontent-%COMP%]{border-right:1px solid #ccc;height:100%;margin-top:auto;margin-bottom:auto}.my-icon[_ngcontent-%COMP%]{font-size:100px}",".flex-container[_ngcontent-%COMP%] {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }"]}),a})();var Z=d(6306);let te=(()=>{var n;class a{constructor(i){this.http=i,this.baseUrlAplicant=g.N.baseUrl+"/aplicant"}storeBankAccount(i){const t=new f.WM({"Content-Type":"multipart/form-data"});return this.http.post(`${this.baseUrlAplicant}/request/bank-account/store`,i,{headers:t}).pipe((0,Z.K)(r=>{throw console.error("Error en la solicitud:",r),r}))}getBankAccount(i){return this.http.get(`${this.baseUrlAplicant}/request/bank-account/show/${i}`)}updateBankAccount(i){const t=new f.WM({"Content-Type":"multipart/form-data"});return this.http.post(`${this.baseUrlAplicant}/request/bank-account/update`,i,{headers:t}).pipe((0,Z.K)(r=>{throw console.error("Error en la solicitud:",r),r}))}}return(n=a).\u0275fac=function(i){return new(i||n)(e.LFG(f.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),a})();const ie=["fileInput"];function ne(n,a){if(1&n&&(e.TgZ(0,"a",9),e._uU(1," Siguiente "),e._UZ(2,"i",31)(3,"span",32),e.qZA()),2&n){const o=e.oxw();e.Q6J("routerLink","/solicitante/beca-deportiva/"+o.request_id+"/documentacion")}}function oe(n,a){1&n&&(e.TgZ(0,"div")(1,"div",33)(2,"div",34),e._UZ(3,"i",35),e.TgZ(4,"div")(5,"strong"),e._uU(6,"\xa1Atenci\xf3n!"),e.qZA(),e._uU(7," La informaci\xf3n ingresada es de car\xe1cter delicado, favor de rectificar la informaci\xf3n con cuidado. "),e.qZA()(),e._UZ(8,"button",36),e.qZA()())}function re(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"div")(1,"div",37)(2,"div")(3,"strong"),e._uU(4,"\xa1Importante!"),e.qZA(),e._uU(5," \xbfQuieres editar la informaci\xf3n de la competencia? "),e.qZA(),e.TgZ(6,"button",38),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.loadingUpdate())}),e._UZ(7,"i",39),e._uU(8," Editar "),e.qZA(),e._UZ(9,"button",36),e.qZA()()}}function ae(n,a){1&n&&(e.TgZ(0,"span",40),e._uU(1," N\xfamero de cuenta clabe requerido con longitud de 18 n\xfameros. "),e.qZA())}function se(n,a){1&n&&(e.TgZ(0,"span",41),e._uU(1,"(debe ser reconocido en M\xe9xico)"),e.qZA())}function ce(n,a){1&n&&(e.TgZ(0,"span",40),e._uU(1," Banco requerido. "),e.qZA())}function le(n,a){1&n&&(e.TgZ(0,"span",40),e._uU(1," Nombre completo del titular de la cuenta requerido. "),e.qZA())}function ue(n,a){1&n&&(e.TgZ(0,"span",41),e._uU(1,"(Car\xe1tula de estado de cuenta donde se encuentre su n\xfamero de cuenta clabe)"),e.qZA())}function me(n,a){if(1&n&&(e.TgZ(0,"div",51),e._UZ(1,"img",52),e.TgZ(2,"p"),e._uU(3),e.qZA()()),2&n){const o=e.oxw(2);e.xp6(1),e.Q6J("src",o.selectedFilePreview,e.LSH),e.xp6(2),e.Oqu(o.selectedFileName)}}function de(n,a){1&n&&(e.TgZ(0,"div",53)(1,"p"),e._uU(2,"Arrastra o selecciona un archivo"),e.qZA()())}function pe(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"div")(1,"label",42),e._uU(2,"Estado de cuenta "),e.YNc(3,ue,2,0,"span",24),e._uU(4,":"),e.qZA(),e.TgZ(5,"div",43),e.NdJ("dragover",function(t){e.CHM(o);const r=e.oxw();return e.KtG(r.onDragOver(t))})("drop",function(t){e.CHM(o);const r=e.oxw();return e.KtG(r.onDrop(t))})("click",function(){e.CHM(o);const t=e.MAs(7);return e.KtG(t.click())}),e.TgZ(6,"input",44,45),e.NdJ("change",function(t){e.CHM(o);const r=e.oxw();return e.KtG(r.onFileSelected(t))})("drop",function(t){e.CHM(o);const r=e.oxw();return e.KtG(r.onFileSelected(t))}),e.qZA(),e.YNc(8,me,4,2,"div",46),e.YNc(9,de,3,0,"div",47),e.qZA(),e.TgZ(10,"small",48),e._uU(11,"Formatos permitidos: pdf."),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"small",48),e._uU(14,"Tama\xf1o m\xe1ximo aceptado: 1 MB o 1024 KB. "),e.qZA(),e.TgZ(15,"small",49)(16,"a",50),e._uU(17,"\xbfD\xf3nde reducir el tama\xf1o de un PDF?"),e.qZA()()()}if(2&n){const o=e.oxw();e.xp6(3),e.Q6J("ngIf",o.newData||o.edit),e.xp6(5),e.Q6J("ngIf",o.selectedFileName),e.xp6(1),e.Q6J("ngIf",!o.selectedFileName)}}function _e(n,a){if(1&n&&(e.TgZ(0,"div",54)(1,"a",55),e._UZ(2,"i",56),e.TgZ(3,"h2"),e._uU(4,"Descargar estado de cuenta"),e.qZA()()()),2&n){const o=e.oxw();e.xp6(1),e.s9C("href",o.baseUrl+"sports/"+o.miFormulario.controls.account_status_url.value,e.LSH)}}function ge(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(o);const t=e.oxw(2);return e.KtG(t.ngOnInit())}),e._uU(1,"Cancelar"),e.qZA()}}function fe(n,a){if(1&n&&(e.TgZ(0,"div",54),e.YNc(1,ge,2,0,"button",57),e.TgZ(2,"button",58),e._uU(3),e.qZA()()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.edit),e.xp6(1),e.Q6J("ngClass",o.newData?"btn-success":"btn-primary"),e.xp6(1),e.Oqu(o.newData?"Guardar":"Actualizar")}}let he=(()=>{var n;class a{constructor(i,t,r,c,l){this.router=i,this.fb=t,this.route=r,this.bankAccountService=c,this.requestService=l,this.selectedFileName=null,this.selectedFilePreview=null,this.newData=!0,this.onlySee=!1,this.edit=!1,this.baseUrl=g.N.dowload,this.form_id=2,this.modify=[],this.miFormulario=this.fb.group({request_id:["",[s.kI.required]],key_account:["",[s.kI.required,s.kI.pattern("^[0-9]+$"),s.kI.minLength(18),s.kI.maxLength(18)]],titular_persona_name:["",[s.kI.required]],bank:["",[s.kI.required]],account_status_url:["",[s.kI.required]]})}ngOnInit(){this.edit=!1,this.obtenerURLPrincipal(),this.route.params.subscribe(t=>{this.request_id=t.id,this.request_id&&(this.showAccountBank(this.request_id),this.requestService.show(this.request_id).subscribe({next:r=>{this.request=r}}))}),["account","key_account"].forEach(t=>{this.subscribeToNumberFieldChanges(t)})}subscribeToNumberFieldChanges(i){this.miFormulario.get(i).valueChanges.subscribe(t=>{const r=t.replace(/\D/g,"");this.miFormulario.get(i).setValue(r,{emitEvent:!1})})}obtenerURLPrincipal(){const t=this.router.url.split("/");this.urlPrincipal="/"+t[1]}showAccountBank(i){this.miFormulario.patchValue({request_id:i}),this.bankAccountService.getBankAccount(i).subscribe({next:t=>{t.id&&(this.onlySee=!0,this.newData=!1,this.populateForm(t),this.handleForm(t))}}),this.requestService.verifyRequest(i,this.form_id).subscribe({next:t=>{this.modify=t,this.modify.length>0&&this.loadingUpdate()}})}populateForm(i){this.miFormulario.patchValue({key_account:i.key_account,titular_persona_name:i.titular_persona_name,bank:i.bank,account_status_url:i.account_status_url}),this.miFormulario.disable()}handleForm(i){}onSubmit(){if(this.miFormulario.invalid)return this.miFormulario.markAllAsTouched();const i=new FormData;i.append("request_id",this.miFormulario.get("request_id").value),i.append("key_account",this.miFormulario.get("key_account").value),i.append("titular_persona_name",this.miFormulario.get("titular_persona_name").value),i.append("bank",this.miFormulario.get("bank").value),i.append("account_status_url",this.miFormulario.get("account_status_url").value),this.edit?this.update(i):this.store(i)}store(i){this.bankAccountService.storeBankAccount(i).subscribe({next:t=>{200==t.code?this.handleSuccessResponse(t):this.handleErrorResponse(t)},error:t=>{u().fire("Error","error")}})}update(i){this.bankAccountService.updateBankAccount(i).subscribe({next:t=>{200==t.code?this.handleSuccessResponse(t):this.handleErrorResponse(t)},error:t=>{u().fire("Error","error")}})}handleSuccessResponse(i){this.newData=!1,this.onlySee=!0,this.miFormulario.disable();const r={title:this.edit?"Informaci\xf3n bancaria actualizada.":"Informaci\xf3n bancaria guardada correctamente \xbfdesea continuar?",showCancelButton:!0,confirmButtonText:"Continuar",denyButtonText:"No"};this.edit&&(r.position="center",r.icon="success",r.showConfirmButton=!1,r.showCancelButton=!1,r.timer=2e3),u().fire(r).then(c=>{c.isConfirmed&&!this.edit?(this.router.navigateByUrl(this.urlPrincipal+"/beca-deportiva/"+this.miFormulario.value.request_id+"/documentacion"),this.ngOnInit()):this.ngOnInit()}),this.edit&&this.ngOnInit()}handleErrorResponse(i){u().fire({position:"center",icon:"error",title:i.message,showConfirmButton:!0})}onDragOver(i){i.preventDefault()}onDrop(i){i.preventDefault(),this.onFileSelected({target:{files:i.dataTransfer?.files||[]}})}onFileSelected(i){const t=i.target.files||i.dataTransfer.files;if(t.length>0){const r=t[0];if(this.miFormulario.patchValue({account_status_url:r}),this.selectedFileName=r.name,r.type.startsWith("image/")){const c=new FileReader;c.onload=l=>{this.selectedFilePreview=l.target.result},c.readAsDataURL(r)}else this.selectedFilePreview=null}}loadingUpdate(){this.edit=!0,this.onlySee=!1,this.miFormulario.enable()}}return(n=a).\u0275fac=function(i){return new(i||n)(e.Y36(m.F0),e.Y36(s.qu),e.Y36(m.gz),e.Y36(te),e.Y36(h.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-bank-account"]],viewQuery:function(i,t){if(1&i&&e.Gf(ie,5),2&i){let r;e.iGM(r=e.CRH())&&(t.fileInput=r.first)}},decls:50,vars:12,consts:[["id","mainVisitor",1,"main"],[1,"row"],[1,"col-10","offset-1","content-center"],[1,"pagetitle"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/solicitante/dashboard"],[1,"breadcrumb-item","active"],[1,"pagetitle","flex-container"],[3,"routerLink"],[1,"glyphicon","glyphicon-chevron-left"],[1,"bi","bi-arrow-left"],[3,"routerLink",4,"ngIf"],[1,"section"],[1,"col-lg-12"],[1,"card"],[4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-12","col-md-6","col-lg-6"],[1,"form-label","required"],["type","text","formControlName","key_account","minlength","18","maxlength","18",1,"form-control"],["class","form-text text-danger form",4,"ngIf"],["class","text-danger",4,"ngIf"],["type","text","formControlName","bank",1,"form-control"],[1,"col-12"],["type","text","formControlName","titular_persona_name",1,"form-control"],[4,"ngIf","ngIfElse"],["existFile",""],["class","text-center",4,"ngIf"],[1,"bi","bi-arrow-right"],[1,"glyphicon","glyphicon-chevron-right"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"d-flex","align-items-center"],[1,"bi","bi-info-circle-fill","me-2"],["type","button","data-bs-dismiss","alert","aria-label","Cerrar",1,"btn-close"],["role","alert",1,"alert","alert-primary","alert-dismissible","fade","show","d-flex","align-items-center"],["type","button",1,"btn","btn-sm","btn-primary",2,"margin-left","5px",3,"click"],[1,"bi","bi-pencil"],[1,"form-text","text-danger","form"],[1,"text-danger"],["for","fileInput",1,"form-label"],[1,"drop-zone",3,"dragover","drop","click"],["type","file","accept",".pdf",1,"visually-hidden",3,"change","drop"],["fileInput",""],["class","preview-container",4,"ngIf"],["class","file-input-placeholder",4,"ngIf"],[1,"form-text","text-muted"],[1,"form-text","text-center"],["href","https://www.ilovepdf.com/es/comprimir_pdf","target","_blank"],[1,"preview-container"],["alt","Archivo seleccionado",1,"preview-image",3,"src"],[1,"file-input-placeholder"],[1,"text-center"],["download","","target","_blank","rel","noopener noreferrer",1,"mt-3",3,"href"],[1,"bi","bi-file-earmark-arrow-down-fill","my-icon"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"ngClass"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,t){if(1&i&&(e.TgZ(0,"app-visitor")(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e._uU(6,"Cuenta bancaria "),e.qZA(),e.TgZ(7,"nav")(8,"ol",4)(9,"li",5)(10,"a",6),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",7),e._uU(13,"Cuenta bancaria"),e.qZA()()()(),e.TgZ(14,"div",8)(15,"a",9),e._UZ(16,"span",10)(17,"i",11),e._uU(18," Anterior "),e.qZA(),e.YNc(19,ne,4,1,"a",12),e.qZA(),e.TgZ(20,"section",13)(21,"div",1)(22,"div",14)(23,"div",15),e.YNc(24,oe,9,0,"div",16),e.YNc(25,re,10,0,"div",16),e.TgZ(26,"div",17)(27,"h5",18),e._uU(28,"Cuenta bancaria"),e.qZA(),e.TgZ(29,"form",19),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(30,"div",20)(31,"label",21),e._uU(32,"N\xfamero de cuenta clabe"),e.qZA(),e._UZ(33,"input",22),e.YNc(34,ae,2,0,"span",23),e.qZA(),e.TgZ(35,"div",20)(36,"label",21),e._uU(37,"Banco "),e.YNc(38,se,2,0,"span",24),e.qZA(),e._UZ(39,"input",25),e.YNc(40,ce,2,0,"span",23),e.qZA(),e.TgZ(41,"div",26)(42,"label",21),e._uU(43,"Nombre completo del titular de la cuenta"),e.qZA(),e._UZ(44,"input",27),e.YNc(45,le,2,0,"span",23),e.qZA(),e.YNc(46,pe,18,3,"div",28),e.YNc(47,_e,5,1,"ng-template",null,29,e.W1O),e.YNc(49,fe,4,3,"div",30),e.qZA()()()()()()()()()()),2&i){const r=e.MAs(48);e.xp6(15),e.Q6J("routerLink","/solicitante/beca-deportiva/"+t.request_id+"/competicion"),e.xp6(4),e.Q6J("ngIf",t.onlySee),e.xp6(5),e.Q6J("ngIf",t.newData||t.edit),e.xp6(1),e.Q6J("ngIf",!t.edit&&t.onlySee&&(1==(null==t.request?null:t.request.status_request_id)||4==(null==t.request?null:t.request.status_request_id)&&t.modify.length>0)),e.xp6(4),e.Q6J("formGroup",t.miFormulario),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.key_account.errors&&t.miFormulario.controls.key_account.touched),e.xp6(4),e.Q6J("ngIf",t.newData||t.edit),e.xp6(2),e.Q6J("ngIf",t.miFormulario.controls.bank.errors&&t.miFormulario.controls.bank.touched),e.xp6(5),e.Q6J("ngIf",t.miFormulario.controls.titular_persona_name.errors&&t.miFormulario.controls.titular_persona_name.touched),e.xp6(1),e.Q6J("ngIf",t.edit||!t.onlySee)("ngIfElse",r),e.xp6(3),e.Q6J("ngIf",!t.onlySee)}},dependencies:[p.mk,p.O5,m.rH,_.C,s._Y,s.Fj,s.JJ,s.JL,s.wO,s.nD,s.sg,s.u],styles:['.card-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:5px}.required[_ngcontent-%COMP%]:after{content:"*";color:red}.drop-zone[_ngcontent-%COMP%]{border:2px dashed #4154f1;padding:20px;text-align:center;cursor:pointer;position:relative}.file-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:120px}.preview-container[_ngcontent-%COMP%]{margin-top:10px}.preview-image[_ngcontent-%COMP%]{max-width:100%;max-height:200px;margin-bottom:5px}.file-input-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .file-input-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.file-input-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80px;margin-bottom:10px}.nav-link.btn[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.division-line[_ngcontent-%COMP%]{border-right:1px solid #ccc;height:100%;margin-top:auto;margin-bottom:auto}.my-icon[_ngcontent-%COMP%]{font-size:100px}',".flex-container[_ngcontent-%COMP%] {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }"]}),a})();var be=d(7868);function Fe(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"form",24),e.NdJ("ngSubmit",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.onSubmit())}),e.TgZ(1,"div",25)(2,"div",26),e._UZ(3,"input",27),e.TgZ(4,"label",28),e._uU(5,"He le\xeddo el "),e.TgZ(6,"a",29),e._uU(7,"aviso de privacidad "),e.qZA(),e._uU(8," y estoy de acuerdo."),e.qZA()(),e.TgZ(9,"p",30),e._uU(10,"Los datos personales solicitados ser\xe1n utilizados para registro de las y los deportistas de alto rendimiento, as\xed como para generar bases de datos de contacto e identificar a las personas que participen en el programa a fin de establecer un canal de comunicaci\xf3n para hacerles saber de manera constante sobre los avances en el tema que corresponde. Si desea conocer nuestro aviso de privacidad integral lo podr\xe1 consultar a trav\xe9s de la p\xe1gina de internet de este sujeto obligado, la cual es: "),e.TgZ(11,"a",31),e._uU(12,"https://comudezapopan.gob.mx/transparencia/articulo8/comudezapopan-avisodeprivacidadintegral.pdf"),e.qZA(),e._uU(13," o bien de manera presencial en nuestras instalaciones. "),e.qZA()(),e.TgZ(14,"div",25)(15,"div",26),e._UZ(16,"input",32),e.TgZ(17,"label",33),e._uU(18,"He le\xeddo el "),e.TgZ(19,"a",34),e._uU(20,"reglamento"),e.qZA(),e._uU(21," y estoy de acuerdo en todas las bases."),e.qZA()(),e.TgZ(22,"p",30),e._uU(23,"El presente reglamento tiene por objetivo general establecer los requisitos que deber\xe1n cumplir las y los Deportistas Zapopanos para el otorgamiento de Becas, procurando en todo momento la transparencia y distribuci\xf3n equitativa de este beneficio social, as\xed como de una adecuada evaluaci\xf3n y asignaci\xf3n de los recursos econ\xf3micos a las personas merecedoras por sus resultados deportivos alcanzados en competencias estatales, nacionales e internacionales."),e.qZA()(),e.TgZ(24,"div",35)(25,"button",36),e._uU(26,"Enviar solicitud"),e.qZA()()()}if(2&n){const o=e.oxw();e.Q6J("formGroup",o.miFormulario)}}function Ze(n,a){1&n&&(e.TgZ(0,"div",37),e._UZ(1,"i",38),e.TgZ(2,"h2",39),e._uU(3,"Reglamento y aviso de privacidad le\xeddos."),e.qZA()())}const Ce=["fileInput"];function qe(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.sendJustification())}),e._uU(1,"Enviar evidencias"),e.qZA()}}function Te(n,a){1&n&&(e.TgZ(0,"div",42)(1,"div",43)(2,"article",44)(3,"span"),e._uU(4,"Registrar evidencia"),e.qZA()()()())}function ye(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"a",51),e._UZ(2,"i",52),e.qZA(),e.BQk()),2&n){const o=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.s9C("href",i.baseUrl+"sports/"+o.file_name,e.LSH)}}function Ae(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"img",53),e.BQk()),2&n){const o=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("src",i.baseUrl+"sports/"+o.file_name,e.LSH)}}function we(n,a){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const o=e.oxw().$implicit;e.xp6(1),e.Oqu(o.description)}}function Ue(n,a){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&n){const o=e.oxw().$implicit;e.xp6(1),e.Oqu(e.Dn7(2,1,o.description,0,50))}}function ke(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"a",54),e.NdJ("click",function(){e.CHM(o);const t=e.oxw().$implicit,r=e.oxw();return e.KtG(r.toggleText(t))}),e._uU(1),e.qZA()}if(2&n){const o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o.mostrarTextoCompleto?"Ver menos":"Leer m\xe1s"," ")}}function Ie(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(o);const t=e.oxw().$implicit,r=e.oxw();return e.KtG(r.delete(null==t?null:t.id))}),e._uU(1,"Eliminar"),e.qZA()}}function De(n,a){if(1&n&&(e.TgZ(0,"div",45)(1,"article",10),e.YNc(2,ye,3,1,"ng-container",46),e.YNc(3,Ae,2,1,"ng-container",46),e.TgZ(4,"div",47)(5,"p")(6,"strong"),e._uU(7,"Descripci\xf3n:"),e.qZA()(),e.YNc(8,we,2,1,"p",46),e.YNc(9,Ue,3,5,"p",46),e.TgZ(10,"div",48),e.YNc(11,ke,2,1,"a",49),e.YNc(12,Ie,2,0,"button",50),e.qZA()()()()),2&n){const o=a.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngIf",i.getIconClass(o.file_name)),e.xp6(1),e.Q6J("ngIf",!i.getIconClass(o.file_name)),e.xp6(5),e.Q6J("ngIf",o.mostrarTextoCompleto),e.xp6(1),e.Q6J("ngIf",!o.mostrarTextoCompleto),e.xp6(2),e.Q6J("ngIf",i.isLongText(o.description)),e.xp6(1),e.Q6J("ngIf",7==(null==i.request?null:i.request.status_request_id))}}function Je(n,a){if(1&n&&(e.TgZ(0,"div",56),e._UZ(1,"img",57),e.TgZ(2,"p")(3,"span"),e._uU(4),e.qZA()()()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("src",o.selectedFilePreview,e.LSH),e.xp6(3),e.Oqu(o.selectedFileName)}}function Se(n,a){1&n&&(e.TgZ(0,"div",58)(1,"span"),e._uU(2,"Arrastra o selecciona un archivo"),e.qZA()())}function Ne(n,a){if(1&n&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&n){const o=a.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}const Oe=[{path:"",children:[{path:":id/competicion",component:E},{path:":id/documentacion",component:ee},{path:":id/cuenta-bancaria",component:he},{path:":id/logros-importantes",component:(()=>{var n;class a{constructor(i,t){this.router=i,this.route=t}ngOnInit(){this.obtenerURLPrincipal(),this.route.params.subscribe(i=>{this.request_id=i.id})}obtenerURLPrincipal(){const t=this.router.url.split("/");this.urlPrincipal="/"+t[1]}}return(n=a).\u0275fac=function(i){return new(i||n)(e.Y36(m.F0),e.Y36(m.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-importan-archievement"]],decls:29,vars:2,consts:[["id","mainVisitor",1,"main"],[1,"row"],[1,"col-10","offset-1","content-center"],[1,"pagetitle"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/solicitante/dashboard"],[1,"breadcrumb-item","active"],[1,"pagetitle","flex-container"],[3,"routerLink"],[1,"glyphicon","glyphicon-chevron-left"],[1,"bi","bi-arrow-left"],[1,"bi","bi-arrow-right"],[1,"glyphicon","glyphicon-chevron-right"],[1,"section","profile"],[1,"col-xl-12"],[1,"card"],[1,"card-body"]],template:function(i,t){1&i&&(e.TgZ(0,"app-visitor")(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e._uU(6,"Losgros importantes "),e.qZA(),e.TgZ(7,"nav")(8,"ol",4)(9,"li",5)(10,"a",6),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",7),e._uU(13,"Losgros importantes"),e.qZA()()()(),e.TgZ(14,"div",8)(15,"a",9),e._UZ(16,"span",10)(17,"i",11),e._uU(18," Anterior "),e.qZA(),e.TgZ(19,"a",9),e._uU(20," Siguiente "),e._UZ(21,"i",12)(22,"span",13),e.qZA()(),e.TgZ(23,"section",14)(24,"div",1)(25,"div",15)(26,"div",16)(27,"div",17),e._UZ(28,"app-important-archievement"),e.qZA()()()()()()()()()),2&i&&(e.xp6(15),e.Q6J("routerLink","/solicitante/beca-deportiva/"+t.request_id+"/cuenta-bancaria"),e.xp6(4),e.Q6J("routerLink","/solicitante/beca-deportiva/"+t.request_id+"/documentacion"))},dependencies:[m.rH,_.C,be.b],styles:[".flex-container[_ngcontent-%COMP%] {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }"]}),a})()},{path:":id/reglamento",component:(()=>{var n;class a{constructor(i,t,r,c){this.fb=i,this.router=t,this.route=r,this.requestService=c,this.miFormulario=this.fb.group({request_id:["",s.kI.required],regulations:[null,[s.kI.required,s.kI.requiredTrue]],privacy_notice:[null,[s.kI.required,s.kI.requiredTrue]],status_request_id:[2]})}ngOnInit(){this.obtenerURLPrincipal(),this.route.params.subscribe(i=>{this.request_id=i.id,this.request_id&&(this.miFormulario.patchValue({request_id:this.request_id}),this.showRequest())})}showRequest(){this.requestService.show(this.request_id).subscribe({next:i=>{this.request=i}})}obtenerURLPrincipal(){const t=this.router.url.split("/");this.urlPrincipal="/"+t[1]}onSubmit(){if(this.miFormulario.invalid)return u().fire({position:"center",icon:"info",title:"Debes aceptar el aviso de privacidad y reglamento para continuar.",showConfirmButton:!1,timer:2e3});this.requestService.changeStatusRequest(this.miFormulario.value).subscribe({next:i=>{200==i.code?(this.ngOnInit(),this.handleSuccessResponse()):u().fire({position:"center",icon:"error",title:i.message,showConfirmButton:!1,timer:2e3})},error:i=>{u().fire("Error","error")}})}handleSuccessResponse(){u().fire({position:"center",icon:"success",title:"Solicitud enviada correctamente. El Comit\xe9 de Becas revisar\xe1 tu solicitud y enviar\xe1, de ser necesario, correcciones o comentarios al correo que proporcionaste.",showConfirmButton:!0,didClose:()=>{this.router.navigateByUrl(this.urlPrincipal+"/dashboard")}})}}return(n=a).\u0275fac=function(i){return new(i||n)(e.Y36(s.qu),e.Y36(m.F0),e.Y36(m.gz),e.Y36(h.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-notice-privacy"]],decls:40,vars:4,consts:[["id","mainVisitor",1,"main"],[1,"row"],[1,"col-10","offset-1","content-center"],[1,"pagetitle"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/solicitante/dashboard"],[1,"breadcrumb-item","active"],[1,"pagetitle","flex-container"],[3,"routerLink"],[1,"glyphicon","glyphicon-chevron-left"],[1,"bi","bi-arrow-left"],[1,"bi","bi-arrow-right"],[1,"glyphicon","glyphicon-chevron-right"],[1,"section"],[1,"col-lg-12"],[1,"card"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show"],[1,"d-flex","align-items-center"],[1,"bi","bi-info-circle-fill","me-2"],["type","button","data-bs-dismiss","alert","aria-label","Cerrar",1,"btn-close"],[1,"card-body","mt-4"],["class","row g-3",3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],["llena",""],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-12","col-md-6"],[1,"form-check"],["type","checkbox","id","checkbox_privacidad","formControlName","regulations",1,"form-check-input"],["for","checkbox_privacidad",1,"form-check-label","checkbox-label"],["href","https://www.comudezapopan.gob.mx/transparencia/articulo8/comudezapopan-avisodeprivacidad.pdf","target","_blank",1,"link"],[1,"terms-description"],["href","https://comudezapopan.gob.mx/transparencia/articulo8/comudezapopan-avisodeprivacidadintegral.pdf","target","_blank",1,"link"],["type","checkbox","id","checkbox_reglamento","formControlName","privacy_notice",1,"form-check-input"],["for","checkbox_reglamento",1,"form-check-label","checkbox-label"],["href","http://comudezapopan.gob.mx/transparencia/art8/comudezapopan-reglamento-general-becas.pdf","target","_blank",1,"link"],[1,"text-center","mt-4"],[1,"btn","btn-success","btn-lg"],[1,"text-center"],[1,"bi","bi-check-all","my-icon"],[2,"color","#4154f1"]],template:function(i,t){if(1&i&&(e.TgZ(0,"app-visitor")(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e._uU(6,"Reglamento y aviso de privacidad "),e.qZA(),e.TgZ(7,"nav")(8,"ol",4)(9,"li",5)(10,"a",6),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",7),e._uU(13,"Reglamento y aviso de privacidad"),e.qZA()()()(),e.TgZ(14,"div",8)(15,"a",9),e._UZ(16,"span",10)(17,"i",11),e._uU(18," Anterior "),e.qZA(),e.TgZ(19,"a",9),e._uU(20," Siguiente "),e._UZ(21,"i",12)(22,"span",13),e.qZA()(),e.TgZ(23,"section",14)(24,"div",1)(25,"div",15)(26,"div",16)(27,"div")(28,"div",17)(29,"div",18),e._UZ(30,"i",19),e.TgZ(31,"div")(32,"strong"),e._uU(33,"\xa1Atenci\xf3n!"),e.qZA(),e._uU(34," Leer el reglamento y aviso de privacidad. "),e.qZA()(),e._UZ(35,"button",20),e.qZA()(),e.TgZ(36,"div",21),e.YNc(37,Fe,27,1,"form",22),e.YNc(38,Ze,4,0,"ng-template",null,23,e.W1O),e.qZA()()()()()()()()()),2&i){const r=e.MAs(39);e.xp6(15),e.Q6J("routerLink","/solicitante/beca-deportiva/"+t.request_id+"/documentacion"),e.xp6(4),e.Q6J("routerLink","/solicitante/dashboard"),e.xp6(18),e.Q6J("ngIf",1==(null==t.request?null:t.request.status_request_id))("ngIfElse",r)}},dependencies:[p.O5,m.rH,_.C,s._Y,s.Wl,s.JJ,s.JL,s.sg,s.u],styles:[".checkbox-label[_ngcontent-%COMP%]{align-items:center}.checkbox-label[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-left:5px;color:#007bff;text-decoration:underline}.terms-description[_ngcontent-%COMP%]{margin-top:5px;font-size:14px;color:#6c757d}.my-icon[_ngcontent-%COMP%]{font-size:100px;color:#4154f1}",".flex-container[_ngcontent-%COMP%] {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }"]}),a})()},{path:":id/evidencias",component:(()=>{var n;class a{constructor(i,t,r,c){this.route=i,this.router=t,this.fb=r,this.documentService=c,this.selectedFileName=null,this.selectedFilePreview=null,this.baseUrl=g.N.dowload,this.documents=[],this.justificationType=[],this.expandedItemIndex=null,this.miFormulario=this.fb.group({request_id:["",[s.kI.required]],file:["",[s.kI.required]],justification_type_id:["",[s.kI.required]],description:["",[s.kI.required,s.kI.maxLength(150)]]}),this.limiteCaracteres=50}ngOnInit(){this.obtenerURLPrincipal(),this.route.params.subscribe(i=>{this.request_id=i.id}),this.miFormulario.patchValue({request_id:this.request_id}),this.showJustification(this.request_id)}showJustification(i){this.documentService.getJustification(i).subscribe({next:t=>{this.documents=t.data.length>0?t.data:[],this.justificationType=t.catalogs,this.request=t.request}})}getIconClass(i){return"pdf"===i.split(".").pop().toLowerCase()}sendJustification(){u().fire({position:"center",icon:"question",title:"\xbfEst\xe1 seguro de que desea enviar las evidencias? (ya no podra agregar m\xe1s)",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(i=>{i.isConfirmed&&this.documentService.finishJustification(this.request_id).subscribe({next:t=>{200==t.code?(u().fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),this.ngOnInit()):u().fire({position:"center",icon:"error",title:t.message,showConfirmButton:!1,timer:2e3})}})})}obtenerURLPrincipal(){const t=this.router.url.split("/");this.urlPrincipal="/"+t[1]}onDragOver(i){i.preventDefault()}onDrop(i){i.preventDefault(),this.onFileSelected({target:{files:i.dataTransfer?.files||[]}})}onFileSelected(i){const t=i.target.files||i.dataTransfer.files;if(t.length>0){const r=t[0];if(this.miFormulario.patchValue({file:r}),this.selectedFileName=r.name,r.type.startsWith("image/")){const c=new FileReader;c.onload=l=>{this.selectedFilePreview=l.target.result},c.readAsDataURL(r)}else this.selectedFilePreview=null}}onSubmit(){if(this.miFormulario.invalid)return this.miFormulario.markAllAsTouched();const i=new FormData;i.append("file",this.miFormulario.get("file").value),i.append("request_id",this.miFormulario.get("request_id").value),i.append("justification_type_id",this.miFormulario.get("justification_type_id").value),i.append("description",this.miFormulario.get("description").value),this.documentService.storeJustification(i).subscribe({next:t=>{200==t.code?(u().fire({position:"center",icon:"success",title:t.message,showConfirmButton:!1,timer:2e3}),this.ngOnInit(),this.clearFileInput()):this.handleErrorResponse(t)},error:t=>{u().fire("Error","error")}})}handleErrorResponse(i){u().fire({position:"center",icon:"error",title:i.message,showConfirmButton:!1,timer:2e3})}delete(i){u().fire({position:"center",icon:"question",title:"\xbfEst\xe1 seguro de que desea eliminar la informaci\xf3n de este logro?",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(t=>{t.isConfirmed&&this.documentService.deleteJustification(i).subscribe({next:r=>{200==r.code?(u().fire({position:"center",icon:"success",title:r.message,showConfirmButton:!1,timer:2e3}),this.ngOnInit()):u().fire({position:"center",icon:"error",title:r.message,showConfirmButton:!1,timer:2e3})}})})}isLongText(i){return i.length>this.limiteCaracteres}toggleText(i){i.mostrarTextoCompleto=!i.mostrarTextoCompleto}clearFileInput(){this.fileInput.nativeElement.value=null,this.selectedFileName=null,this.selectedFilePreview=null}}return(n=a).\u0275fac=function(i){return new(i||n)(e.Y36(m.gz),e.Y36(m.F0),e.Y36(s.qu),e.Y36(F.S))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-justification"]],viewQuery:function(i,t){if(1&i&&e.Gf(Ce,5),2&i){let r;e.iGM(r=e.CRH())&&(t.fileInput=r.first)}},decls:66,vars:7,consts:[["id","mainVisitor",1,"main"],[1,"row"],[1,"col-10","offset-1","content-center"],[1,"pagetitle"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/solicitante/dashboard"],[1,"breadcrumb-item","active"],[1,"section","profile"],[1,"col-xl-12"],[1,"card"],[1,"card-body"],[1,"d-sm-flex","justify-content-between","align-items-center"],[1,"card-title","mb-2","mb-sm-0"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","col-12 col-md-6 col-lg-4 mt-2",4,"ngIf"],["class","col-12 col-md-6 col-lg-4 ",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","py-0","text-justify-custom"],[1,"row","g-3","mt-2",3,"formGroup","ngSubmit"],["for","fileInput",1,"form-label"],[1,"drop-zone-new",3,"dragover","drop","click"],["type","file","accept",".pdf, .jpg, .jpeg, .png",1,"visually-hidden",3,"change","drop"],["fileInput",""],["class","preview-container",4,"ngIf"],["class","file-input-placeholder",4,"ngIf"],[1,"form-text","text-muted"],["for","justification_type_id",1,"col-form-label"],["name","justification_type_id","id","justification_type_id","formControlName","justification_type_id",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","description",1,"col-form-label"],["name","description","type","text","id","description","formControlName","description","maxlength","150",1,"form-control"],[1,"modal-footer","flex-column","border-top-0"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-lg","btn-primary","w-100","mx-0","mb-2"],["type","button","data-bs-dismiss","modal",1,"btn","btn-lg","btn-light","w-100","mx-0"],[1,"btn","btn-primary",3,"click"],[1,"col-12","col-md-6","col-lg-4","mt-2"],[1,"card","card-start"],["data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",1,"drop-zone"],[1,"col-12","col-md-6","col-lg-4"],[4,"ngIf"],[1,"container"],[1,"d-grid","gap-1"],["href","javascript:void(0);",3,"click",4,"ngIf"],["type","button","class","btn-lg btn btn-warning mt-2",3,"click",4,"ngIf"],["target","_blank","download","",1,"text-center",3,"href"],[1,"bi","bi-file-earmark-medical-fill",2,"font-size","150px","color","black"],["alt","Imagen",1,"card-img-top","m-1",2,"align-self","center",3,"src"],["href","javascript:void(0);",3,"click"],["type","button",1,"btn-lg","btn","btn-warning","mt-2",3,"click"],[1,"preview-container"],["alt","Archivo seleccionado",1,"preview-image",3,"src"],[1,"file-input-placeholder"],[3,"value"]],template:function(i,t){if(1&i){const r=e.EpF();e.TgZ(0,"app-visitor")(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),e._uU(6,"Evidencias "),e.qZA(),e.TgZ(7,"nav")(8,"ol",4)(9,"li",5)(10,"a",6),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",7),e._uU(13,"Evidencias"),e.qZA()()()(),e.TgZ(14,"section",8)(15,"div",1)(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",11)(20,"div",12)(21,"h5",13),e._uU(22,"Evidencias"),e.qZA(),e.YNc(23,qe,2,0,"button",14),e.qZA(),e.TgZ(24,"div",1),e.YNc(25,Te,5,0,"div",15),e.YNc(26,De,13,6,"div",16),e.qZA()()()()()()()()()(),e.TgZ(27,"div",17)(28,"div",18)(29,"div",19)(30,"div",20)(31,"h5",21),e._uU(32,"Registrar evidencia"),e.qZA(),e._UZ(33,"button",22),e.qZA(),e.TgZ(34,"div",23)(35,"form",24),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(36,"div")(37,"label",25),e._uU(38,"Subir evidencia:"),e.qZA(),e.TgZ(39,"div",26),e.NdJ("dragover",function(l){return t.onDragOver(l)})("drop",function(l){return t.onDrop(l)})("click",function(){e.CHM(r);const l=e.MAs(41);return e.KtG(l.click())}),e.TgZ(40,"input",27,28),e.NdJ("change",function(l){return t.onFileSelected(l)})("drop",function(l){return t.onFileSelected(l)}),e.qZA(),e.YNc(42,Je,5,2,"div",29),e.YNc(43,Se,3,0,"div",30),e.qZA(),e.TgZ(44,"small",31),e._uU(45,"Formatos permitidos: pdf, jpg, jpeg, png"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"small",31),e._uU(48,"Tama\xf1o maximo aceptado: 1 MB o 1024 KB."),e.qZA()(),e.TgZ(49,"div")(50,"label",32),e._uU(51,"Tipo de evidencia:"),e.qZA(),e.TgZ(52,"select",33)(53,"option",34),e._uU(54,"-Seleccionar-"),e.qZA(),e.YNc(55,Ne,2,2,"option",35),e.qZA()(),e.TgZ(56,"div")(57,"label",36),e._uU(58,"Descripci\xf3n breve:"),e.qZA(),e.TgZ(59,"textarea",37),e._uU(60," "),e.qZA()(),e.TgZ(61,"div",38)(62,"button",39),e._uU(63,"Guardar evidencia"),e.qZA(),e.TgZ(64,"button",40),e._uU(65,"Cerrar"),e.qZA()()()()()()()()}2&i&&(e.xp6(23),e.Q6J("ngIf",t.documents.length>0&&5==(null==t.request?null:t.request.status_request_id)),e.xp6(2),e.Q6J("ngIf",5==(null==t.request?null:t.request.status_request_id)),e.xp6(1),e.Q6J("ngForOf",t.documents),e.xp6(9),e.Q6J("formGroup",t.miFormulario),e.xp6(7),e.Q6J("ngIf",t.selectedFileName),e.xp6(1),e.Q6J("ngIf",!t.selectedFileName),e.xp6(12),e.Q6J("ngForOf",t.justificationType))},dependencies:[p.sg,p.O5,m.rH,_.C,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.nD,s.sg,s.u,p.OU],styles:['.card-img-top[_ngcontent-%COMP%]{object-fit:contain;width:100%;height:220px}.card[_ngcontent-%COMP%]{max-width:100%;height:100%}.card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;margin-bottom:.05em}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;color:#545454}.text-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.1em}.drop-zone[_ngcontent-%COMP%]{border:3px dashed #00b4e5;width:100%;height:100%;text-align:center;cursor:pointer;position:relative;overflow:hidden;background:url(sports.abd5fb01768f77df.jpg) center/cover;transition:transform .5s ease;display:flex;justify-content:center;align-items:center}.drop-zone[_ngcontent-%COMP%]:after{content:"";background:linear-gradient(rgba(255,255,255,.8),rgba(255,255,255,.8));position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.drop-zone[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:2;color:#00b4e5;font-size:28px;font-weight:700}.drop-zone[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.drop-zone[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 767px){.card-start[_ngcontent-%COMP%]{max-width:100%;height:150px!important;margin-bottom:5px!important}.drop-zone[_ngcontent-%COMP%]{height:150px!important}}.preview-container[_ngcontent-%COMP%]{margin-top:10px}.preview-image[_ngcontent-%COMP%]{max-width:100%;max-height:200px;margin-bottom:5px}.file-input-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .file-input-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.file-input-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80px;margin-bottom:10px}.nav-link.btn[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.division-line[_ngcontent-%COMP%]{border-right:1px solid #ccc;height:100%;margin-top:auto;margin-bottom:auto}.required[_ngcontent-%COMP%]:after{content:"*";color:red}.drop-zone-new[_ngcontent-%COMP%]{border:2px dashed #4154f1;padding:20px;text-align:center;cursor:pointer;position:relative}.text-card[_ngcontent-%COMP%]{overflow:hidden;white-space:pre-line;text-overflow:ellipsis}.text-card.expand[_ngcontent-%COMP%]{white-space:normal;overflow:visible;text-overflow:unset}',".flex-container[_ngcontent-%COMP%] {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }"]}),a})()},{path:"**",redirectTo:"home"}]}];let Me=(()=>{var n;class a{}return(n=a).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.Bz.forChild(Oe),m.Bz]}),a})();var Pe=d(1223),Be=d(3198);let Qe=(()=>{var n;class a{}return(n=a).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,Me,Pe.VisitorModule,s.UX,s.u5,Be.m]}),a})()}}]);